var ao=Object.defineProperty;var no=(e,t,r)=>t in e?ao(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var it=(e,t,r)=>(no(e,typeof t!="symbol"?t+"":t,r),r);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))a(n);new MutationObserver(n=>{for(const h of n)if(h.type==="childList")for(const l of h.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&a(l)}).observe(document,{childList:!0,subtree:!0});function r(n){const h={};return n.integrity&&(h.integrity=n.integrity),n.referrerpolicy&&(h.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?h.credentials="include":n.crossorigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function a(n){if(n.ep)return;n.ep=!0;const h=r(n);fetch(n.href,h)}})();var ho=Object.defineProperty,oo=(e,t,r)=>t in e?ho(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,i=(e,t,r)=>(oo(e,typeof t!="symbol"?t+"":t,r),r);class Qe extends Object{constructor(){super()}}i(Qe,"EULER_ANGLES","eulerAngles");i(Qe,"AXIS_ANGLE","axisAngle");i(Qe,"QUATERNION","quaternion");const bi=class extends Object{constructor(e=0,t=0,r=0,a=0){super(),i(this,"x"),i(this,"y"),i(this,"z"),i(this,"w"),this.x=e,this.y=t,this.z=r,this.w=a}static angleBetween(e,t){var r=e.x*t.x+e.y*t.y+e.z*t.z,a=e.length,n=t.length;return r=r/(a*n),Math.acos(r)}static distance(e,t){return e.subtract(t).length}clone(){return new bi(this.x,this.y,this.z,this.w)}dotProduct(e){return this.x*e.x+this.y*e.y+this.z*e.z}crossProduct(e){return new bi(this.y*e.z-this.z*e.y,this.z*e.x-this.x*e.z,this.x*e.y-this.y*e.x,1)}get length(){var e=this.x*this.x+this.y*this.y+this.z*this.z;return e<=0?0:Math.sqrt(e)}get lengthSquared(){return this.x*this.x+this.y*this.y+this.z*this.z}normalize(){var e=this.length,t=e!=0?1/e:0;return this.x=this.x*t,this.y=this.y*t,this.z=this.z*t,e}scaleBy(e){this.x=this.x*e,this.y=this.y*e,this.z=this.z*e}incrementBy(e){this.x=this.x+e.x,this.y=this.y+e.y,this.z=this.z+e.z}decrementBy(e){this.x=this.x-e.x,this.y=this.y-e.y,this.z=this.z-e.z}add(e){return new bi(this.x+e.x,this.y+e.y,this.z+e.z)}subtract(e){return new bi(this.x-e.x,this.y-e.y,this.z-e.z)}negate(){this.x=-this.x,this.y=-this.y,this.z=-this.z}equals(e,t=!1){return this.x===e.x&&this.y===e.y&&this.z===e.z&&(t?this.w===e.w:!0)}nearEquals(e,t,r=!1){var a=this.x-e.x;a=a<0?0-a:a;var n=a<t;return n&&(a=this.y-e.y,a=a<0?0-a:a,n=a<t,n&&(a=this.z-e.z,a=a<0?0-a:a,n=a<t,n&&r&&(a=this.w=e.w,a=a<0?0-a:a,n=a<t))),n}project(){var e=1/this.w;this.x=this.x*e,this.y=this.y*e,this.z=this.z*e}toString(){var e="Vector3D("+this.x+", "+this.y+", "+this.z;return e=e+")",e}copyFrom(e){this.x=e.x,this.y=e.y,this.z=e.z}setTo(e,t,r){this.x=e,this.y=t,this.z=r}};let be=bi;i(be,"X_AXIS",new bi(1,0,0));i(be,"Y_AXIS",new bi(0,1,0));i(be,"Z_AXIS",new bi(0,0,1));const Ti=class{constructor(e=null){i(this,"rawData"),e!=null&&e.length===16?this.rawData=e:this.rawData=new Array(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)}get determinant(){return(this.rawData[0]*this.rawData[5]-this.rawData[4]*this.rawData[1])*(this.rawData[10]*this.rawData[15]-this.rawData[14]*this.rawData[11])-(this.rawData[0]*this.rawData[9]-this.rawData[8]*this.rawData[1])*(this.rawData[6]*this.rawData[15]-this.rawData[14]*this.rawData[7])+(this.rawData[0]*this.rawData[13]-this.rawData[12]*this.rawData[1])*(this.rawData[6]*this.rawData[11]-this.rawData[10]*this.rawData[7])+(this.rawData[4]*this.rawData[9]-this.rawData[8]*this.rawData[5])*(this.rawData[2]*this.rawData[15]-this.rawData[14]*this.rawData[3])-(this.rawData[4]*this.rawData[13]-this.rawData[12]*this.rawData[5])*(this.rawData[2]*this.rawData[11]-this.rawData[10]*this.rawData[3])+(this.rawData[8]*this.rawData[13]-this.rawData[12]*this.rawData[9])*(this.rawData[2]*this.rawData[7]-this.rawData[6]*this.rawData[3])}get position(){return new be(this.rawData[12],this.rawData[13],this.rawData[14])}set position(e){this.rawData[12]=e.x,this.rawData[13]=e.y,this.rawData[14]=e.z}append(e){var t=this.rawData[0],r=this.rawData[4],a=this.rawData[8],n=this.rawData[12],h=this.rawData[1],l=this.rawData[5],p=this.rawData[9],w=this.rawData[13],E=this.rawData[2],C=this.rawData[6],O=this.rawData[10],N=this.rawData[14],V=this.rawData[3],X=this.rawData[7],J=this.rawData[11],tt=this.rawData[15],nt=e.rawData[0],ct=e.rawData[4],Dt=e.rawData[8],At=e.rawData[12],pt=e.rawData[1],St=e.rawData[5],he=e.rawData[9],Yt=e.rawData[13],zt=e.rawData[2],Gt=e.rawData[6],re=e.rawData[10],we=e.rawData[14],Zt=e.rawData[3],ae=e.rawData[7],Wt=e.rawData[11],Kt=e.rawData[15];this.rawData[0]=t*nt+h*ct+E*Dt+V*At,this.rawData[1]=t*pt+h*St+E*he+V*Yt,this.rawData[2]=t*zt+h*Gt+E*re+V*we,this.rawData[3]=t*Zt+h*ae+E*Wt+V*Kt,this.rawData[4]=r*nt+l*ct+C*Dt+X*At,this.rawData[5]=r*pt+l*St+C*he+X*Yt,this.rawData[6]=r*zt+l*Gt+C*re+X*we,this.rawData[7]=r*Zt+l*ae+C*Wt+X*Kt,this.rawData[8]=a*nt+p*ct+O*Dt+J*At,this.rawData[9]=a*pt+p*St+O*he+J*Yt,this.rawData[10]=a*zt+p*Gt+O*re+J*we,this.rawData[11]=a*Zt+p*ae+O*Wt+J*Kt,this.rawData[12]=n*nt+w*ct+N*Dt+tt*At,this.rawData[13]=n*pt+w*St+N*he+tt*Yt,this.rawData[14]=n*zt+w*Gt+N*re+tt*we,this.rawData[15]=n*Zt+w*ae+N*Wt+tt*Kt}appendRotation(e,t,r=null){var a=Ti.getAxisRotation(t.x,t.y,t.z,e);if(r!=null){var n=r;a.appendTranslation(n.x,n.y,n.z)}this.append(a)}appendScale(e,t,r){this.rawData[0]*=e,this.rawData[1]*=e,this.rawData[2]*=e,this.rawData[3]*=e,this.rawData[4]*=t,this.rawData[5]*=t,this.rawData[6]*=t,this.rawData[7]*=t,this.rawData[8]*=r,this.rawData[9]*=r,this.rawData[10]*=r,this.rawData[11]*=r}appendTranslation(e,t,r){this.rawData[12]+=e,this.rawData[13]+=t,this.rawData[14]+=r}clone(){return new Ti(this.rawData.concat())}copyColumnFrom(e,t){switch(e){case 0:this.rawData[0]=t.x,this.rawData[1]=t.y,this.rawData[2]=t.z,this.rawData[3]=t.w;break;case 1:this.rawData[4]=t.x,this.rawData[5]=t.y,this.rawData[6]=t.z,this.rawData[7]=t.w;break;case 2:this.rawData[8]=t.x,this.rawData[9]=t.y,this.rawData[10]=t.z,this.rawData[11]=t.w;break;case 3:this.rawData[12]=t.x,this.rawData[13]=t.y,this.rawData[14]=t.z,this.rawData[15]=t.w;break;default:throw new Error("Error, Column "+e+" out of bounds [0, ..., 3]")}}copyColumnTo(e,t){var r=e*4;t.x=this.rawData[r],t.y=this.rawData[1+r],t.z=this.rawData[2+r],t.w=this.rawData[3+r]}copyFrom(e){this.rawData=e.rawData.concat()}copyRawDataFrom(e,t=0,r=!1){r&&this.transpose();for(var a=e.length-t,n=0;n<Number(a);){var h=n++;this.rawData[h]=e[h+t]}r&&this.transpose()}copyRawDataTo(e,t=0,r=!1){r&&this.transpose();for(var a=this.rawData.length,n=0;n<a;){var h=n++;e[h+t]=this.rawData[h]}r&&this.transpose()}copyRowFrom(e,t){switch(e){case 0:this.rawData[0]=t.x,this.rawData[4]=t.y,this.rawData[8]=t.z,this.rawData[12]=t.w;break;case 1:this.rawData[1]=t.x,this.rawData[5]=t.y,this.rawData[9]=t.z,this.rawData[13]=t.w;break;case 2:this.rawData[2]=t.x,this.rawData[6]=t.y,this.rawData[10]=t.z,this.rawData[14]=t.w;break;case 3:this.rawData[3]=t.x,this.rawData[7]=t.y,this.rawData[11]=t.z,this.rawData[15]=t.w;break;default:throw new Error("Error, Row "+(""+e)+" out of bounds [0, ..., 3]")}}copyRowTo(e,t){t.x=this.rawData[e],t.y=this.rawData[4+e],t.z=this.rawData[8+e],t.w=this.rawData[12+e]}copyToMatrix3D(e){e.rawData=this.rawData.concat()}decompose(e=null){e==null&&(e=Qe.EULER_ANGLES);var t=[],r=this.clone(),a=r.rawData.concat(),n=new be(a[12],a[13],a[14]),h=new be;h.x=Math.sqrt(a[0]*a[0]+a[1]*a[1]+a[2]*a[2]),h.y=Math.sqrt(a[4]*a[4]+a[5]*a[5]+a[6]*a[6]),h.z=Math.sqrt(a[8]*a[8]+a[9]*a[9]+a[10]*a[10]),a[0]*(a[5]*a[10]-a[6]*a[9])-a[1]*(a[4]*a[10]-a[6]*a[8])+a[2]*(a[4]*a[9]-a[5]*a[8])<0&&(h.z=-h.z),a[0]/=h.x,a[1]/=h.x,a[2]/=h.x,a[4]/=h.y,a[5]/=h.y,a[6]/=h.y,a[8]/=h.z,a[9]/=h.z,a[10]/=h.z;var l=new be;switch(e){case Qe.AXIS_ANGLE:{l.w=Math.acos((a[0]+a[5]+a[10]-1)/2);var p=Math.sqrt((a[6]-a[9])*(a[6]-a[9])+(a[8]-a[2])*(a[8]-a[2])+(a[1]-a[4])*(a[1]-a[4]));p!=0?(l.x=(a[6]-a[9])/p,l.y=(a[8]-a[2])/p,l.z=(a[1]-a[4])/p):l.x=l.y=l.z=0}break;case Qe.QUATERNION:{var w=a[0]+a[5]+a[10];w>0?(l.w=Math.sqrt(1+w)/2,l.x=(a[6]-a[9])/(4*l.w),l.y=(a[8]-a[2])/(4*l.w),l.z=(a[1]-a[4])/(4*l.w)):a[0]>a[5]&&a[0]>a[10]?(l.x=Math.sqrt(1+a[0]-a[5]-a[10])/2,l.w=(a[6]-a[9])/(4*l.x),l.y=(a[1]+a[4])/(4*l.x),l.z=(a[8]+a[2])/(4*l.x)):a[5]>a[10]?(l.y=Math.sqrt(1+a[5]-a[0]-a[10])/2,l.x=(a[1]+a[4])/(4*l.y),l.w=(a[8]-a[2])/(4*l.y),l.z=(a[6]+a[9])/(4*l.y)):(l.z=Math.sqrt(1+a[10]-a[0]-a[5])/2,l.x=(a[8]+a[2])/(4*l.z),l.y=(a[6]+a[9])/(4*l.z),l.w=(a[1]-a[4])/(4*l.z))}break;case Qe.EULER_ANGLES:l.y=Math.asin(-a[2]),a[2]!=1&&a[2]!=-1?(l.x=Math.atan2(a[6],a[10]),l.z=Math.atan2(a[1],a[0])):(l.z=0,l.x=Math.atan2(a[4],a[5]));break}return t.push(n),t.push(l),t.push(h),t}deltaTransformVector(e){var t=e.x,r=e.y,a=e.z;return new be(t*this.rawData[0]+r*this.rawData[4]+a*this.rawData[8]+this.rawData[3],t*this.rawData[1]+r*this.rawData[5]+a*this.rawData[9]+this.rawData[7],t*this.rawData[2]+r*this.rawData[6]+a*this.rawData[10]+this.rawData[11],0)}identity(){this.rawData[0]=1,this.rawData[1]=0,this.rawData[2]=0,this.rawData[3]=0,this.rawData[4]=0,this.rawData[5]=1,this.rawData[6]=0,this.rawData[7]=0,this.rawData[8]=0,this.rawData[9]=0,this.rawData[10]=1,this.rawData[11]=0,this.rawData[12]=0,this.rawData[13]=0,this.rawData[14]=0,this.rawData[15]=1}interpolateTo(e,t){for(var r=0;r<16;){var a=r++;this.rawData[a]=this.rawData[a]+(e.rawData[a]-this.rawData[a])*t}}invert(){var e=this.determinant,t=Math.abs(e)>1e-11;if(t){e=1/e;var r=this.rawData[0],a=this.rawData[4],n=this.rawData[8],h=this.rawData[12],l=this.rawData[1],p=this.rawData[5],w=this.rawData[9],E=this.rawData[13],C=this.rawData[2],O=this.rawData[6],N=this.rawData[10],V=this.rawData[14],X=this.rawData[3],J=this.rawData[7],tt=this.rawData[11],nt=this.rawData[15];this.rawData[0]=e*(p*(N*nt-V*tt)-w*(O*nt-V*J)+E*(O*tt-N*J)),this.rawData[1]=-e*(l*(N*nt-V*tt)-w*(C*nt-V*X)+E*(C*tt-N*X)),this.rawData[2]=e*(l*(O*nt-V*J)-p*(C*nt-V*X)+E*(C*J-O*X)),this.rawData[3]=-e*(l*(O*tt-N*J)-p*(C*tt-N*X)+w*(C*J-O*X)),this.rawData[4]=-e*(a*(N*nt-V*tt)-n*(O*nt-V*J)+h*(O*tt-N*J)),this.rawData[5]=e*(r*(N*nt-V*tt)-n*(C*nt-V*X)+h*(C*tt-N*X)),this.rawData[6]=-e*(r*(O*nt-V*J)-a*(C*nt-V*X)+h*(C*J-O*X)),this.rawData[7]=e*(r*(O*tt-N*J)-a*(C*tt-N*X)+n*(C*J-O*X)),this.rawData[8]=e*(a*(w*nt-E*tt)-n*(p*nt-E*J)+h*(p*tt-w*J)),this.rawData[9]=-e*(r*(w*nt-E*tt)-n*(l*nt-E*X)+h*(l*tt-w*X)),this.rawData[10]=e*(r*(p*nt-E*J)-a*(l*nt-E*X)+h*(l*J-p*X)),this.rawData[11]=-e*(r*(p*tt-w*J)-a*(l*tt-w*X)+n*(l*J-p*X)),this.rawData[12]=-e*(a*(w*V-E*N)-n*(p*V-E*O)+h*(p*N-w*O)),this.rawData[13]=e*(r*(w*V-E*N)-n*(l*V-E*C)+h*(l*N-w*C)),this.rawData[14]=-e*(r*(p*V-E*O)-a*(l*V-E*C)+h*(l*O-p*C)),this.rawData[15]=e*(r*(p*N-w*O)-a*(l*N-w*C)+n*(l*O-p*C))}return t}pointAt(e,t=null,r=null){t==null&&(t=new be(0,0,-1)),r==null&&(r=new be(0,-1,0));var a=t.subtract(e),n=r.clone(),h;a.normalize(),n.normalize();var l=a.clone();l.scaleBy(n.dotProduct(a)),n=n.subtract(l),n.length>0?n.normalize():a.x!=0?n=new be(-a.y,a.x,0):n=new be(1,0,0),h=n.crossProduct(a),h.normalize(),this.rawData[0]=h.x,this.rawData[4]=h.y,this.rawData[8]=h.z,this.rawData[12]=0,this.rawData[1]=n.x,this.rawData[5]=n.y,this.rawData[9]=n.z,this.rawData[13]=0,this.rawData[2]=a.x,this.rawData[6]=a.y,this.rawData[10]=a.z,this.rawData[14]=0,this.rawData[3]=e.x,this.rawData[7]=e.y,this.rawData[11]=e.z,this.rawData[15]=1}prepend(e){var t=e.rawData[0],r=e.rawData[4],a=e.rawData[8],n=e.rawData[12],h=e.rawData[1],l=e.rawData[5],p=e.rawData[9],w=e.rawData[13],E=e.rawData[2],C=e.rawData[6],O=e.rawData[10],N=e.rawData[14],V=e.rawData[3],X=e.rawData[7],J=e.rawData[11],tt=e.rawData[15],nt=this.rawData[0],ct=this.rawData[4],Dt=this.rawData[8],At=this.rawData[12],pt=this.rawData[1],St=this.rawData[5],he=this.rawData[9],Yt=this.rawData[13],zt=this.rawData[2],Gt=this.rawData[6],re=this.rawData[10],we=this.rawData[14],Zt=this.rawData[3],ae=this.rawData[7],Wt=this.rawData[11],Kt=this.rawData[15];this.rawData[0]=t*nt+h*ct+E*Dt+V*At,this.rawData[1]=t*pt+h*St+E*he+V*Yt,this.rawData[2]=t*zt+h*Gt+E*re+V*we,this.rawData[3]=t*Zt+h*ae+E*Wt+V*Kt,this.rawData[4]=r*nt+l*ct+C*Dt+X*At,this.rawData[5]=r*pt+l*St+C*he+X*Yt,this.rawData[6]=r*zt+l*Gt+C*re+X*we,this.rawData[7]=r*Zt+l*ae+C*Wt+X*Kt,this.rawData[8]=a*nt+p*ct+O*Dt+J*At,this.rawData[9]=a*pt+p*St+O*he+J*Yt,this.rawData[10]=a*zt+p*Gt+O*re+J*we,this.rawData[11]=a*Zt+p*ae+O*Wt+J*Kt,this.rawData[12]=n*nt+w*ct+N*Dt+tt*At,this.rawData[13]=n*pt+w*St+N*he+tt*Yt,this.rawData[14]=n*zt+w*Gt+N*re+tt*we,this.rawData[15]=n*Zt+w*ae+N*Wt+tt*Kt}prependRotation(e,t,r=null){var a=Ti.getAxisRotation(t.x,t.y,t.z,e);if(r!=null){var n=r;a.appendTranslation(n.x,n.y,n.z)}this.prepend(a)}prependScale(e,t,r){this.rawData[0]*=e,this.rawData[1]*=t,this.rawData[2]*=r,this.rawData[4]*=e,this.rawData[5]*=t,this.rawData[6]*=r,this.rawData[8]*=e,this.rawData[9]*=t,this.rawData[10]*=r,this.rawData[12]*=e,this.rawData[13]*=t,this.rawData[14]*=r}prependTranslation(e,t,r){var a=Ti.TEMP;a.identity(),a.position=new be(e,t,r),this.prepend(a)}recompose(e,t=null){if(e.length<3||e[2].x==0||e[2].y==0||e[2].z==0)return!1;t==null&&(t=Qe.EULER_ANGLES),this.identity();var r=[];switch(r[0]=r[1]=r[2]=e[2].x,r[4]=r[5]=r[6]=e[2].y,r[8]=r[9]=r[10]=e[2].z,t){case Qe.EULER_ANGLES:{var a=Math.cos(e[1].x),n=Math.cos(e[1].y),h=Math.cos(e[1].z),l=Math.sin(e[1].x),p=Math.sin(e[1].y),w=Math.sin(e[1].z);this.rawData[0]=n*h*r[0],this.rawData[1]=n*w*r[1],this.rawData[2]=-p*r[2],this.rawData[3]=0,this.rawData[4]=(l*p*h-a*w)*r[4],this.rawData[5]=(l*p*w+a*h)*r[5],this.rawData[6]=l*n*r[6],this.rawData[7]=0,this.rawData[8]=(a*p*h+l*w)*r[8],this.rawData[9]=(a*p*w-l*h)*r[9],this.rawData[10]=a*n*r[10],this.rawData[11]=0,this.rawData[12]=e[0].x,this.rawData[13]=e[0].y,this.rawData[14]=e[0].z,this.rawData[15]=1}break;default:{var E=e[1].x,C=e[1].y,O=e[1].z,N=e[1].w;t==Qe.AXIS_ANGLE&&(E*=Math.sin(N/2),C*=Math.sin(N/2),O*=Math.sin(N/2),N=Math.cos(N/2)),this.rawData[0]=(1-2*C*C-2*O*O)*r[0],this.rawData[1]=(2*E*C+2*N*O)*r[1],this.rawData[2]=(2*E*O-2*N*C)*r[2],this.rawData[3]=0,this.rawData[4]=(2*E*C-2*N*O)*r[4],this.rawData[5]=(1-2*E*E-2*O*O)*r[5],this.rawData[6]=(2*C*O+2*N*E)*r[6],this.rawData[7]=0,this.rawData[8]=(2*E*O+2*N*C)*r[8],this.rawData[9]=(2*C*O-2*N*E)*r[9],this.rawData[10]=(1-2*E*E-2*C*C)*r[10],this.rawData[11]=0,this.rawData[12]=e[0].x,this.rawData[13]=e[0].y,this.rawData[14]=e[0].z,this.rawData[15]=1}break}return e[2].x===0&&(this.rawData[0]=1e-15),e[2].y===0&&(this.rawData[5]=1e-15),e[2].z===0&&(this.rawData[10]=1e-15),!(e[2].x===0||e[2].y===0||e[2].y===0)}transformVector(e){var t=e.x,r=e.y,a=e.z;return new be(t*this.rawData[0]+r*this.rawData[4]+a*this.rawData[8]+this.rawData[12],t*this.rawData[1]+r*this.rawData[5]+a*this.rawData[9]+this.rawData[13],t*this.rawData[2]+r*this.rawData[6]+a*this.rawData[10]+this.rawData[14],t*this.rawData[3]+r*this.rawData[7]+a*this.rawData[11]+this.rawData[15])}transformVectors(e,t){for(var r=0;r+3<=e.length;){var a=e[r],n=e[r+1],h=e[r+2];t[r]=a*this.rawData[0]+n*this.rawData[4]+h*this.rawData[8]+this.rawData[12],t[r+1]=a*this.rawData[1]+n*this.rawData[5]+h*this.rawData[9]+this.rawData[13],t[r+2]=a*this.rawData[2]+n*this.rawData[6]+h*this.rawData[10]+this.rawData[14],r+=3}}transpose(){var e=this.rawData.concat();this.rawData[1]=e[4],this.rawData[2]=e[8],this.rawData[3]=e[12],this.rawData[4]=e[1],this.rawData[6]=e[9],this.rawData[7]=e[13],this.rawData[8]=e[2],this.rawData[9]=e[6],this.rawData[11]=e[14],this.rawData[12]=e[3],this.rawData[13]=e[7],this.rawData[14]=e[11]}static interpolate(e,t,r){for(var a=new Ti,n=0;n<16;){var h=n++;a.rawData[h]=e.rawData[h]+(t.rawData[h]-e.rawData[h])*r}return a}static getAxisRotation(e,t,r,a,n=null){var h=n||new Ti,l=-a*(Math.PI/180),p=Math.cos(l),w=Math.sin(l),E=1-p;h.rawData[0]=p+e*e*E,h.rawData[5]=p+t*t*E,h.rawData[10]=p+r*r*E;var C=e*t*E,O=r*w;return h.rawData[4]=C+O,h.rawData[1]=C-O,C=e*r*E,O=t*w,h.rawData[8]=C-O,h.rawData[2]=C+O,C=t*r*E,O=e*w,h.rawData[9]=C+O,h.rawData[6]=C-O,h}};let lo=Ti;i(lo,"TEMP",new Ti);class Ae extends Object{constructor(t=1,r=1,a=1,n=1,h=0,l=0,p=0,w=0){super(),i(this,"_hexColor"),i(this,"_redMultiplier"),i(this,"_greenMultiplier"),i(this,"_blueMultiplier"),i(this,"_alphaMultiplier"),i(this,"redOffset"),i(this,"greenOffset"),i(this,"blueOffset"),i(this,"alphaOffset"),i(this,"tint",4294967295),this.redMultiplier=t,this.greenMultiplier=r,this.blueMultiplier=a,this.alphaMultiplier=n,this.redOffset=h,this.greenOffset=l,this.blueOffset=p,this.alphaOffset=w}get color(){return this.redOffset<<16|this.greenOffset<<8|this.blueOffset}set color(t){this.redMultiplier=this.greenMultiplier=this.blueMultiplier=0,this.redOffset=t>>16&255,this.greenOffset=t>>8&255,this.blueOffset=t&255}get redMultiplier(){return this._redMultiplier}set redMultiplier(t){this._redMultiplier=t,this.tint=this._redMultiplier*255<<0|this._greenMultiplier*255<<8|this._blueMultiplier*255<<16|this._alphaMultiplier*255<<24}get greenMultiplier(){return this._greenMultiplier}set greenMultiplier(t){this._greenMultiplier=t,this.tint=this._redMultiplier*255<<0|this._greenMultiplier*255<<8|this._blueMultiplier*255<<16|this._alphaMultiplier*255<<24}get blueMultiplier(){return this._blueMultiplier}set blueMultiplier(t){this._blueMultiplier=t,this.tint=this._redMultiplier*255<<0|this._greenMultiplier*255<<8|this._blueMultiplier*255<<16|this._alphaMultiplier*255<<24}get alphaMultiplier(){return this._alphaMultiplier}set alphaMultiplier(t){this._alphaMultiplier=t,this.tint=this._redMultiplier*255<<0|this._greenMultiplier*255<<8|this._blueMultiplier*255<<16|this._alphaMultiplier*255<<24}concat(t){this.alphaOffset=this.alphaOffset+this.alphaMultiplier*t.alphaOffset,this.alphaMultiplier=this.alphaMultiplier*t.alphaMultiplier,this.redOffset=this.redOffset+this.redMultiplier*t.redOffset,this.redMultiplier=this.redMultiplier*t.redMultiplier,this.greenOffset=this.greenOffset+this.greenMultiplier*t.greenOffset,this.greenMultiplier=this.greenMultiplier*t.greenMultiplier,this.blueOffset=this.blueOffset+this.blueMultiplier*t.blueOffset,this.blueMultiplier=this.blueMultiplier*t.blueMultiplier}toString(){return"(redMultiplier="+this.redMultiplier+", greenMultiplier="+this.greenMultiplier+", blueMultiplier="+this.blueMultiplier+", alphaMultiplier="+this.alphaMultiplier+", redOffset="+this.redOffset+", greenOffset="+this.greenOffset+", blueOffset="+this.blueOffset+", alphaOffset="+this.alphaOffset+")"}}class ur extends Object{constructor(){super(),i(this,"_offsetX",0),i(this,"_offsetY",0)}_applyFilter(t,r,a){}clone(){return null}get offsetX(){return this._offsetX}get offsetY(){return this._offsetY}}class qr extends ur{get matrix(){return null}set matrix(t){}constructor(t=null){super()}}class ie{}i(ie,"numberToR",e=>(e&16711680)>>16);i(ie,"numberToG",e=>(e&65280)>>8);i(ie,"numberToB",e=>e&255);i(ie,"getObjectLength",e=>{var t=0;for(let r in e)t++;return t});i(ie,"concatObjects",(...e)=>{for(var t={},r,a=0;a<e.length;a++){r=e[a];for(let n in r)r[n]==null?delete t[n]:t[n]=r[n]}return t});const na=class{constructor(e,t,r,a,n,h){i(this,"scope"),i(this,"properties"),i(this,"timeStart"),i(this,"timeComplete"),i(this,"useFrames"),i(this,"transition"),i(this,"transitionParams"),i(this,"onStart"),i(this,"onUpdate"),i(this,"onComplete"),i(this,"onOverwrite"),i(this,"onError"),i(this,"onStartParams"),i(this,"onUpdateParams"),i(this,"onCompleteParams"),i(this,"onOverwriteParams"),i(this,"onStartScope"),i(this,"onUpdateScope"),i(this,"onCompleteScope"),i(this,"onOverwriteScope"),i(this,"onErrorScope"),i(this,"rounded"),i(this,"isPaused"),i(this,"timePaused"),i(this,"isCaller"),i(this,"count"),i(this,"timesCalled"),i(this,"waitFrames"),i(this,"skipUpdates"),i(this,"updatesSkipped"),i(this,"hasStarted"),i(this,"isComplete"),i(this,"clone",l=>{var p=new na(this.scope,this.timeStart,this.timeComplete,this.useFrames,this.transition,this.transitionParams);p.properties=new Array;for(var w in this.properties)p.properties[w]=this.properties[w].clone();return p.skipUpdates=this.skipUpdates,p.updatesSkipped=this.updatesSkipped,l||(p.onStart=this.onStart,p.onUpdate=this.onUpdate,p.onComplete=this.onComplete,p.onOverwrite=this.onOverwrite,p.onError=this.onError,p.onStartParams=this.onStartParams,p.onUpdateParams=this.onUpdateParams,p.onCompleteParams=this.onCompleteParams,p.onOverwriteParams=this.onOverwriteParams,p.onStartScope=this.onStartScope,p.onUpdateScope=this.onUpdateScope,p.onCompleteScope=this.onCompleteScope,p.onOverwriteScope=this.onOverwriteScope,p.onErrorScope=this.onErrorScope),p.rounded=this.rounded,p.isPaused=this.isPaused,p.timePaused=this.timePaused,p.isCaller=this.isCaller,p.count=this.count,p.timesCalled=this.timesCalled,p.waitFrames=this.waitFrames,p.hasStarted=this.hasStarted,p}),i(this,"toString",()=>{var l=`
[TweenListObj `;l+="scope:"+String(this.scope),l+=", properties:";var p=!0;for(var w in this.properties)p||(l+=","),l+="[name:"+this.properties[w].name,l+=",valueStart:"+this.properties[w].valueStart,l+=",valueComplete:"+this.properties[w].valueComplete,l+="]",p=!1;return l+=", timeStart:"+String(this.timeStart),l+=", timeComplete:"+String(this.timeComplete),l+=", useFrames:"+String(this.useFrames),l+=", transition:"+String(this.transition),l+=", transitionParams:"+String(this.transitionParams),this.skipUpdates&&(l+=", skipUpdates:"+String(this.skipUpdates)),this.updatesSkipped&&(l+=", updatesSkipped:"+String(this.updatesSkipped)),Boolean(this.onStart)&&(l+=", onStart:"+String(this.onStart)),Boolean(this.onUpdate)&&(l+=", onUpdate:"+String(this.onUpdate)),Boolean(this.onComplete)&&(l+=", onComplete:"+String(this.onComplete)),Boolean(this.onOverwrite)&&(l+=", onOverwrite:"+String(this.onOverwrite)),Boolean(this.onError)&&(l+=", onError:"+String(this.onError)),this.onStartParams&&(l+=", onStartParams:"+String(this.onStartParams)),this.onUpdateParams&&(l+=", onUpdateParams:"+String(this.onUpdateParams)),this.onCompleteParams&&(l+=", onCompleteParams:"+String(this.onCompleteParams)),this.onOverwriteParams&&(l+=", onOverwriteParams:"+String(this.onOverwriteParams)),this.onStartScope&&(l+=", onStartScope:"+String(this.onStartScope)),this.onUpdateScope&&(l+=", onUpdateScope:"+String(this.onUpdateScope)),this.onCompleteScope&&(l+=", onCompleteScope:"+String(this.onCompleteScope)),this.onOverwriteScope&&(l+=", onOverwriteScope:"+String(this.onOverwriteScope)),this.onErrorScope&&(l+=", onErrorScope:"+String(this.onErrorScope)),this.rounded&&(l+=", rounded:"+String(this.rounded)),this.isPaused&&(l+=", isPaused:"+String(this.isPaused)),this.timePaused&&(l+=", timePaused:"+String(this.timePaused)),this.isCaller&&(l+=", isCaller:"+String(this.isCaller)),this.count&&(l+=", count:"+String(this.count)),this.timesCalled&&(l+=", timesCalled:"+String(this.timesCalled)),this.waitFrames&&(l+=", waitFrames:"+String(this.waitFrames)),this.hasStarted&&(l+=", hasStarted:"+String(this.hasStarted)),l+=`]
`,l}),this.scope=e,this.timeStart=t,this.timeComplete=r,this.useFrames=a,this.transition=n,this.transitionParams=h,this.properties=new Object,this.isPaused=!1,this.timePaused=void 0,this.isCaller=!1,this.updatesSkipped=0,this.timesCalled=0,this.skipUpdates=0,this.hasStarted=!1}};let ji=na;i(ji,"makePropertiesChain",e=>{var t=e.base;if(t){var r={},a;if(t instanceof Array){a=[];for(var n=0;n<t.length;n++)a.push(t[n])}else a=[t];a.push(e);for(var h,l=a.length,p=0;p<l;p++)a[p].base?h=ie.concatObjects(na.makePropertiesChain(a[p].base),a[p]):h=a[p],r=ie.concatObjects(r,h);return r.base&&delete r.base,r}else return e});class ha{constructor(t,r,a,n,h,l,p,w){i(this,"valueStart"),i(this,"valueComplete"),i(this,"originalValueComplete"),i(this,"arrayIndex"),i(this,"extra"),i(this,"isSpecialProperty"),i(this,"hasModifier"),i(this,"modifierFunction"),i(this,"modifierParameters"),i(this,"clone",()=>{var E=new ha(this.valueStart,this.valueComplete,this.originalValueComplete,this.arrayIndex,this.extra,this.isSpecialProperty,this.modifierFunction,this.modifierParameters);return E}),i(this,"toString",()=>{var E=`
[PropertyInfoObj `;return E+="valueStart:"+String(this.valueStart),E+=", ",E+="valueComplete:"+String(this.valueComplete),E+=", ",E+="originalValueComplete:"+String(this.originalValueComplete),E+=", ",E+="arrayIndex:"+String(this.arrayIndex),E+=", ",E+="extra:"+String(this.extra),E+=", ",E+="isSpecialProperty:"+String(this.isSpecialProperty),E+=", ",E+="hasModifier:"+String(this.hasModifier),E+=", ",E+="modifierFunction:"+String(this.modifierFunction),E+=", ",E+="modifierParameters:"+String(this.modifierParameters),E+=`]
`,E}),this.valueStart=t,this.valueComplete=r,this.originalValueComplete=a,this.arrayIndex=n,this.extra=h,this.isSpecialProperty=l,this.hasModifier=Boolean(p),this.modifierFunction=p,this.modifierParameters=w}}class uo{constructor(t,r){i(this,"parameters"),i(this,"splitValues"),i(this,"toString",()=>{var a="";return a+="[SpecialPropertySplitter ",a+="splitValues:"+this.splitValues.toString(),a+=", ",a+="parameters:"+this.parameters.toString(),a+="]",a}),this.splitValues=t,this.parameters=r}}class co{constructor(t,r,a=null,n=null){i(this,"getValue"),i(this,"setValue"),i(this,"parameters"),i(this,"preProcess"),i(this,"toString",()=>{var h="";return h+="[SpecialProperty ",h+="getValue:"+String(this.getValue),h+=", ",h+="setValue:"+String(this.setValue),h+=", ",h+="parameters:"+String(this.parameters),h+=", ",h+="preProcess:"+String(this.preProcess),h+="]",h}),this.getValue=t,this.setValue=r,this.parameters=a,this.preProcess=n}}class fo{constructor(t,r){i(this,"modifyValues"),i(this,"getValue"),i(this,"toString",()=>{var a="";return a+="[SpecialPropertyModifier ",a+="modifyValues:"+this.modifyValues.toString(),a+=", ",a+="getValue:"+this.getValue.toString(),a+="]",a}),this.modifyValues=t,this.getValue=r}}const On=class extends Object{constructor(e,t=!1,r=!1){super(),i(this,"_type"),i(this,"_bubbles"),i(this,"_cancelable"),i(this,"_target"),i(this,"_currentTarget"),i(this,"_stopImmediatePropagation",!1),i(this,"ctor",(a,n,h)=>{this._type=a,this._bubbles=n,this._cancelable=h}),this.ctor(e,t,r)}formatToString(e,...t){return null}clone(){return new On(this.type,this.bubbles,this.cancelable)}toString(){return this.formatToString("Event","type","bubbles","cancelable","eventPhase")}get type(){return this._type}get bubbles(){return this._bubbles}get cancelable(){return this._cancelable}get target(){return this._target}set target(e){this._target=e}get currentTarget(){return this._currentTarget}set currentTarget(e){this._currentTarget=e}get eventPhase(){return 0}stopPropagation(){}stopImmediatePropagation(){this._stopImmediatePropagation=!0}preventDefault(){}isDefaultPrevented(){return!1}};let W=On;i(W,"ACTIVATE","activate");i(W,"ADDED","added");i(W,"ADDED_TO_STAGE","addedToStage");i(W,"BROWSER_ZOOM_CHANGE","browserZoomChange");i(W,"CANCEL","cancel");i(W,"CHANGE","change");i(W,"CLEAR","clear");i(W,"CLOSE","close");i(W,"COMPLETE","complete");i(W,"CONNECT","connect");i(W,"COPY","copy");i(W,"CUT","cut");i(W,"DEACTIVATE","deactivate");i(W,"ENTER_FRAME","enterFrame");i(W,"FRAME_CONSTRUCTED","frameConstructed");i(W,"EXIT_FRAME","exitFrame");i(W,"FRAME_LABEL","frameLabel");i(W,"ID3","id3");i(W,"INIT","init");i(W,"MOUSE_LEAVE","mouseLeave");i(W,"OPEN","open");i(W,"PASTE","paste");i(W,"REMOVED","removed");i(W,"REMOVED_FROM_STAGE","removedFromStage");i(W,"RENDER","render");i(W,"RESIZE","resize");i(W,"SCROLL","scroll");i(W,"TEXT_INTERACTION_MODE_CHANGE","textInteractionModeChange");i(W,"SELECT","select");i(W,"SELECT_ALL","selectAll");i(W,"SOUND_COMPLETE","soundComplete");i(W,"TAB_CHILDREN_CHANGE","tabChildrenChange");i(W,"TAB_ENABLED_CHANGE","tabEnabledChange");i(W,"TAB_INDEX_CHANGE","tabIndexChange");i(W,"UNLOAD","unload");i(W,"FULLSCREEN","fullScreen");i(W,"CONTEXT3D_CREATE","context3DCreate");i(W,"TEXTURE_READY","textureReady");i(W,"VIDEO_FRAME","videoFrame");i(W,"SUSPEND","suspend");i(W,"CHANNEL_MESSAGE","channelMessage");i(W,"CHANNEL_STATE","channelState");i(W,"WORKER_STATE","workerState");class D{}i(D,"stageWidth",800);i(D,"stageHeight",600);i(D,"autoSize",!1);i(D,"startTime",0);i(D,"drawCounter");i(D,"batDrawCounter");i(D,"debug",!1);i(D,"rootHTMLElement");i(D,"renderer");i(D,"canvasKit");i(D,"dirtyGraphics",!0);i(D,"highDPI",!1);i(D,"images",{});i(D,"sounds",{});i(D,"videos",{});i(D,"fonts",{});i(D,"requestAnimationFrame",window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)});function Qr(){return Date.now()-D.startTime}const P=class{constructor(){console.log("Tweener is a static class and should not be instantiated.")}static setController(e){P.__tweener_controller__=e}};let G=P;i(G,"_mainTimeline");i(G,"__tweener_controller__");i(G,"_engineExists",!1);i(G,"_inited",!1);i(G,"_currentTime");i(G,"_currentTimeFrame");i(G,"_tweenList");i(G,"_timeScale",1);i(G,"_transitionList");i(G,"_specialPropertyList");i(G,"_specialPropertyModifierList");i(G,"_specialPropertySplitterList");i(G,"autoOverwrite",!0);i(G,"addTween",(e=null,t=null)=>{if(!Boolean(e))return!1;var r,a,n,h;e instanceof Array?h=e.concat():h=[e];var l=ji.makePropertiesChain(t);P._inited||P.init(),(!P._engineExists||!Boolean(P.__tweener_controller__))&&P.startEngine();var p=isNaN(l.time)?0:l.time,w=isNaN(l.delay)?0:l.delay,E=new Array,C={overwrite:!0,time:!0,delay:!0,useFrames:!0,skipUpdates:!0,transition:!0,transitionParams:!0,onStart:!0,onUpdate:!0,onComplete:!0,onOverwrite:!0,onError:!0,rounded:!0,onStartParams:!0,onUpdateParams:!0,onCompleteParams:!0,onOverwriteParams:!0,onStartScope:!0,onUpdateScope:!0,onCompleteScope:!0,onOverwriteScope:!0,onErrorScope:!0},O=new Object;for(n in l)if(!C[n])if(P._specialPropertySplitterList[n]){var N=P._specialPropertySplitterList[n].splitValues(l[n],P._specialPropertySplitterList[n].parameters);for(r=0;r<N.length;r++)if(P._specialPropertySplitterList[N[r].name]){var V=P._specialPropertySplitterList[N[r].name].splitValues(N[r].value,P._specialPropertySplitterList[N[r].name].parameters);for(a=0;a<V.length;a++)E[V[a].name]={valueStart:void 0,valueComplete:V[a].value,arrayIndex:V[a].arrayIndex,isSpecialProperty:!1}}else E[N[r].name]={valueStart:void 0,valueComplete:N[r].value,arrayIndex:N[r].arrayIndex,isSpecialProperty:!1}}else if(P._specialPropertyModifierList[n]!=null){var X=P._specialPropertyModifierList[n].modifyValues(l[n]);for(r=0;r<X.length;r++)O[X[r].name]={modifierParameters:X[r].parameters,modifierFunction:P._specialPropertyModifierList[n].getValue}}else E[n]={valueStart:void 0,valueComplete:l[n]};for(n in E)P._specialPropertyList[n]!=null?E[n].isSpecialProperty=!0:h[0][n]==null&&P.printError("The property '"+n+"' doesn't seem to be a normal object property of "+String(h[0])+" or a registered special property.");for(n in O)E[n]!=null&&(E[n].modifierParameters=O[n].modifierParameters,E[n].modifierFunction=O[n].modifierFunction);var J;if(typeof l.transition=="string"){var tt=l.transition.toLowerCase();J=P._transitionList[tt]}else J=l.transition;Boolean(J)||(J=P._transitionList.easeoutexpo);var nt,ct,Dt;for(r=0;r<h.length;r++){nt=new Object;for(n in E)nt[n]=new ha(E[n].valueStart,E[n].valueComplete,E[n].valueComplete,E[n].arrayIndex,{},E[n].isSpecialProperty,E[n].modifierFunction,E[n].modifierParameters);l.useFrames==!0?ct=new ji(h[r],P._currentTimeFrame+w/P._timeScale,P._currentTimeFrame+(w+p)/P._timeScale,!0,J,l.transitionParams):ct=new ji(h[r],P._currentTime+w*1e3/P._timeScale,P._currentTime+(w*1e3+p*1e3)/P._timeScale,!1,J,l.transitionParams),ct.isComplete=!1,ct.properties=nt,ct.onStart=l.onStart,ct.onUpdate=l.onUpdate,ct.onComplete=l.onComplete,ct.onOverwrite=l.onOverwrite,ct.onError=l.onError,ct.onStartParams=l.onStartParams,ct.onUpdateParams=l.onUpdateParams,ct.onCompleteParams=l.onCompleteParams,ct.onOverwriteParams=l.onOverwriteParams,ct.onStartScope=l.onStartScope,ct.onUpdateScope=l.onUpdateScope,ct.onCompleteScope=l.onCompleteScope,ct.onOverwriteScope=l.onOverwriteScope,ct.onErrorScope=l.onErrorScope,ct.rounded=l.rounded,ct.skipUpdates=l.skipUpdates,(l.overwrite==null?P.autoOverwrite:l.overwrite)&&P.removeTweensByTime(ct.scope,ct.properties,ct.timeStart,ct.timeComplete),P._tweenList.push(ct),p==0&&w==0&&(Dt=P._tweenList.length-1,P.updateTweenByIndex(Dt),P.removeTweenByIndex(Dt))}return!0});i(G,"addCaller",(e=null,t=null)=>{if(!Boolean(e))return!1;var r,a;e instanceof Array?a=e.concat():a=[e];var n=t;P._inited||P.init(),(!P._engineExists||!Boolean(P.__tweener_controller__))&&P.startEngine();var h=isNaN(n.time)?0:n.time,l=isNaN(n.delay)?0:n.delay,p;if(typeof n.transition=="string"){var w=n.transition.toLowerCase();p=P._transitionList[w]}else p=n.transition;Boolean(p)||(p=P._transitionList.easeoutexpo);var E,C;for(r=0;r<a.length;r++)n.useFrames==!0?E=new ji(a[r],P._currentTimeFrame+l/P._timeScale,P._currentTimeFrame+(l+h)/P._timeScale,!0,p,n.transitionParams):E=new ji(a[r],P._currentTime+l*1e3/P._timeScale,P._currentTime+(l*1e3+h*1e3)/P._timeScale,!1,p,n.transitionParams),E.properties=null,E.onStart=n.onStart,E.onUpdate=n.onUpdate,E.onComplete=n.onComplete,E.onOverwrite=n.onOverwrite,E.onStartParams=n.onStartParams,E.onUpdateParams=n.onUpdateParams,E.onCompleteParams=n.onCompleteParams,E.onOverwriteParams=n.onOverwriteParams,E.onStartScope=n.onStartScope,E.onUpdateScope=n.onUpdateScope,E.onCompleteScope=n.onCompleteScope,E.onOverwriteScope=n.onOverwriteScope,E.onErrorScope=n.onErrorScope,E.isCaller=!0,E.count=n.count,E.waitFrames=n.waitFrames,P._tweenList.push(E),h==0&&l==0&&(C=P._tweenList.length-1,P.updateTweenByIndex(C),P.removeTweenByIndex(C));return!0});i(G,"removeTweensByTime",(e,t,r,a)=>{var n=!1,h,l,p=P._tweenList.length,w;for(l=0;l<p;l++)if(Boolean(P._tweenList[l])&&e==P._tweenList[l].scope&&a>P._tweenList[l].timeStart&&r<P._tweenList[l].timeComplete){h=!1;for(w in P._tweenList[l].properties)if(Boolean(t[w])){if(Boolean(P._tweenList[l].onOverwrite)){var E=Boolean(P._tweenList[l].onOverwriteScope)?P._tweenList[l].onOverwriteScope:P._tweenList[l].scope;try{P._tweenList[l].onOverwrite.apply(E,P._tweenList[l].onOverwriteParams)}catch(C){P.handleError(P._tweenList[l],C,"onOverwrite")}}P._tweenList[l].properties[w]=void 0,delete P._tweenList[l].properties[w],h=!0,n=!0}h&&ie.getObjectLength(P._tweenList[l].properties)==0&&P.removeTweenByIndex(l)}return n});i(G,"removeTweens",(e,...t)=>{var r=new Array,a;for(a=0;a<t.length;a++)if(typeof t[a]=="string"&&r.indexOf(t[a])==-1)if(P._specialPropertySplitterList[t[a]])for(var n=P._specialPropertySplitterList[t[a]],h=n.splitValues(e,null),l=0;l<h.length;l++)r.push(h[l].name);else r.push(t[a]);return P.affectTweens(P.removeTweenByIndex,e,r)});i(G,"removeAllTweens",()=>{if(!Boolean(P._tweenList))return!1;var e=!1,t;for(t=0;t<P._tweenList.length;t++)P.removeTweenByIndex(t),e=!0;return e});i(G,"pauseTweens",(e,...t)=>{var r=new Array,a;for(a=0;a<t.length;a++)typeof t[a]=="string"&&r.indexOf(t[a])==-1&&r.push(t[a]);return P.affectTweens(P.pauseTweenByIndex,e,r)});i(G,"pauseAllTweens",()=>{if(!Boolean(P._tweenList))return!1;var e=!1,t;for(t=0;t<P._tweenList.length;t++)P.pauseTweenByIndex(t),e=!0;return e});i(G,"resumeTweens",(e,...t)=>{var r=new Array,a;for(a=0;a<t.length;a++)typeof t[a]=="string"&&r.indexOf(t[a])==-1&&r.push(t[a]);return P.affectTweens(P.resumeTweenByIndex,e,r)});i(G,"resumeAllTweens",()=>{if(!Boolean(P._tweenList))return!1;var e=!1,t;for(t=0;t<P._tweenList.length;t++)P.resumeTweenByIndex(t),e=!0;return e});i(G,"affectTweens",(e,t,r)=>{var a=!1,n;if(!Boolean(P._tweenList))return!1;for(n=0;n<P._tweenList.length;n++)if(P._tweenList[n]&&P._tweenList[n].scope==t)if(r.length==0)e(n),a=!0;else{var h=new Array,l;for(l=0;l<r.length;l++)Boolean(P._tweenList[n].properties[r[l]])&&h.push(r[l]);if(h.length>0){var p=ie.getObjectLength(P._tweenList[n].properties);if(p==h.length)e(n),a=!0;else{var w=P.splitTweens(n,h);e(w),a=!0}}}return a});i(G,"splitTweens",(e,t)=>{var r=P._tweenList[e],a=r.clone(!1),n,h;for(n=0;n<t.length;n++)h=t[n],Boolean(r.properties[h])&&(r.properties[h]=void 0,delete r.properties[h]);var l;for(h in a.properties){for(l=!1,n=0;n<t.length;n++)if(t[n]==h){l=!0;break}l||(a.properties[h]=void 0,delete a.properties[h])}return P._tweenList.push(a),P._tweenList.length-1});i(G,"updateTweens",()=>{if(P._tweenList.length==0)return!1;var e;for(e=0;e<P._tweenList.length;e++)(P._tweenList[e]==null||!P._tweenList[e].isPaused)&&(P.updateTweenByIndex(e)||P.removeTweenByIndex(e),P._tweenList[e]==null&&(P.removeTweenByIndex(e,!0),e--));return!0});i(G,"removeTweenByIndex",(e,t=!1)=>(P._tweenList[e]=null,t&&P._tweenList.splice(e,1),!0));i(G,"pauseTweenByIndex",e=>{var t=P._tweenList[e];return t==null||t.isPaused?!1:(t.timePaused=P.getCurrentTweeningTime(t),t.isPaused=!0,!0)});i(G,"resumeTweenByIndex",e=>{var t=P._tweenList[e];if(t==null||!t.isPaused)return!1;var r=P.getCurrentTweeningTime(t);return t.timeStart+=r-t.timePaused,t.timeComplete+=r-t.timePaused,t.timePaused=0,t.isPaused=!1,!0});i(G,"updateTweenByIndex",e=>{var t=P._tweenList[e];if(t==null||!Boolean(t.scope))return!1;var r=!1,a,n,h,l,p,w,E,C,O,N=P.getCurrentTweeningTime(t),V;if(N>=t.timeStart){if(O=t.scope,t.isCaller){if(!t.hasStarted){if(Boolean(t.onStart)){C=Boolean(t.onStartScope)?t.onStartScope:O;try{t.onStart.apply(C,t.onStartParams)}catch(J){P.handleError(t,J,"onStart")}}t.hasStarted=!0}do if(h=(t.timeComplete-t.timeStart)/t.count*(t.timesCalled+1),l=t.timeStart,p=t.timeComplete-t.timeStart,w=t.timeComplete-t.timeStart,n=t.transition(h,l,p,w),N>=n){if(Boolean(t.onUpdate)){C=Boolean(t.onUpdateScope)?t.onUpdateScope:O;try{t.onUpdate.apply(C,t.onUpdateParams)}catch(J){P.handleError(t,J,"onUpdate")}}if(t.timesCalled++,t.timesCalled>=t.count){r=!0;break}if(t.waitFrames)break}while(N>=n)}else{if(a=t.skipUpdates<1||!t.skipUpdates||t.updatesSkipped>=t.skipUpdates,N>=t.timeComplete&&(r=!0,a=!0),!t.hasStarted){if(Boolean(t.onStart)){C=Boolean(t.onStartScope)?t.onStartScope:O;try{t.onStart.apply(C,t.onStartParams)}catch(J){P.handleError(t,J,"onStart")}}var X;for(E in t.properties)t.properties[E].isSpecialProperty?(Boolean(P._specialPropertyList[E].preProcess)&&(t.properties[E].valueComplete=P._specialPropertyList[E].preProcess(O,P._specialPropertyList[E].parameters,t.properties[E].originalValueComplete,t.properties[E].extra)),X=P._specialPropertyList[E].getValue(O,P._specialPropertyList[E].parameters,t.properties[E].extra)):X=O[E],t.properties[E].valueStart=isNaN(X)?t.properties[E].valueComplete:X;a=!0,t.hasStarted=!0}if(a){for(E in t.properties)V=t.properties[E],r?n=V.valueComplete:V.hasModifier?(h=N-t.timeStart,w=t.timeComplete-t.timeStart,n=t.transition(h,0,1,w,t.transitionParams),n=V.modifierFunction(V.valueStart,V.valueComplete,n,V.modifierParameters)):(h=N-t.timeStart,l=V.valueStart,p=V.valueComplete-V.valueStart,w=t.timeComplete-t.timeStart,n=t.transition(h,l,p,w,t.transitionParams)),t.rounded&&(n=Math.round(n)),V.isSpecialProperty?P._specialPropertyList[E].setValue(O,n,P._specialPropertyList[E].parameters,t.properties[E].extra):O[E]=n;if(t.updatesSkipped=0,Boolean(t.onUpdate)){C=Boolean(t.onUpdateScope)?t.onUpdateScope:O;try{t.onUpdate.apply(C,t.onUpdateParams)}catch(J){P.handleError(t,J,"onUpdate")}}}else t.updatesSkipped++}if(r&&Boolean(t.onComplete)){C=Boolean(t.onCompleteScope)?t.onCompleteScope:O;try{t.isComplete=!0,t.onComplete.apply(C,t.onCompleteParams)}catch(J){P.handleError(t,J,"onComplete")}}return!r}return!0});i(G,"init",(...e)=>{P._inited=!0,P._transitionList=new Object,P._specialPropertyList=new Object,P._specialPropertyModifierList=new Object,P._specialPropertySplitterList=new Object});i(G,"registerTransition",(e,t)=>{P._inited||P.init(),P._transitionList[e]=t});i(G,"registerSpecialProperty",(e,t,r,a=[],n)=>{P._inited||P.init();var h=new co(t,r,a,n);P._specialPropertyList[e]=h});i(G,"registerSpecialPropertyModifier",(e,t,r)=>{P._inited||P.init();var a=new fo(t,r);P._specialPropertyModifierList[e]=a});i(G,"registerSpecialPropertySplitter",(e,t,r=[])=>{P._inited||P.init();var a=new uo(t,r);P._specialPropertySplitterList[e]=a});i(G,"startEngine",()=>{P._tweenList=new Array,P._engineExists=!0,P.__tweener_controller__.addEventListener(W.ENTER_FRAME,P.onEnterFrame),P._currentTimeFrame=0,P.updateTime()});i(G,"stopEngine",()=>{P._engineExists=!1,P._tweenList=[],P._currentTime=0,P._currentTimeFrame=0,P.__tweener_controller__.removeEventListener(W.ENTER_FRAME,P.onEnterFrame)});i(G,"updateTime",()=>{P._currentTime=Qr()});i(G,"updateFrame",()=>{P._currentTimeFrame++});i(G,"onEnterFrame",e=>{P.updateTime(),P.updateFrame();var t=!1;t=P.updateTweens(),t||P.stopEngine()});i(G,"setTimeScale",e=>{var t,r;if(isNaN(e)&&(e=1),e<1e-5&&(e=1e-5),e!=P._timeScale){if(P._tweenList!=null)for(t=0;t<P._tweenList.length;t++)r=P.getCurrentTweeningTime(P._tweenList[t]),P._tweenList[t].timeStart=r-(r-P._tweenList[t].timeStart)*P._timeScale/e,P._tweenList[t].timeComplete=r-(r-P._tweenList[t].timeComplete)*P._timeScale/e,P._tweenList[t].timePaused!=null&&(P._tweenList[t].timePaused=r-(r-P._tweenList[t].timePaused)*P._timeScale/e);P._timeScale=e}});i(G,"isTweening",e=>{if(!Boolean(P._tweenList))return!1;var t;for(t=0;t<P._tweenList.length;t++)if(Boolean(P._tweenList[t])&&P._tweenList[t].scope==e&&!P._tweenList[t].isComplete)return!0;return!1});i(G,"getTweens",e=>{if(!Boolean(P._tweenList))return[];var t,r,a=new Array;for(t=0;t<P._tweenList.length;t++)if(Boolean(P._tweenList[t])&&P._tweenList[t].scope==e)for(r in P._tweenList[t].properties)a.push(r);return a});i(G,"getTweenCount",e=>{if(!Boolean(P._tweenList))return 0;var t,r=0;for(t=0;t<P._tweenList.length;t++)Boolean(P._tweenList[t])&&P._tweenList[t].scope==e&&(r+=ie.getObjectLength(P._tweenList[t].properties));return r});i(G,"handleError",(e,t,r)=>{if(Boolean(e.onError)&&e.onError instanceof Function){var a=Boolean(e.onErrorScope)?e.onErrorScope:e.scope;try{e.onError.apply(a,[e.scope,t])}catch(n){P.printError(String(e.scope)+` raised an error while executing the 'onError' handler. Original error:
 `+t.stack+`
onError error: `+n.stack)}}else Boolean(e.onError)||P.printError(String(e.scope)+" raised an error while executing the '"+r+`'handler. 
`+t.stack)});i(G,"getCurrentTweeningTime",e=>e.useFrames?P._currentTimeFrame:P._currentTime);i(G,"getVersion",()=>"AS3 1.33.74");i(G,"printError",e=>{console.log("## [Tweener] Error: "+e)});const ht=class{constructor(){console.log("This is an static class and should not be instantiated.")}};let $t=ht;i($t,"LUMINANCE_R",.212671);i($t,"LUMINANCE_G",.71516);i($t,"LUMINANCE_B",.072169);i($t,"init",()=>{G.registerSpecialProperty("_color_ra",ht._oldColor_property_get,ht._oldColor_property_set,["redMultiplier"]),G.registerSpecialProperty("_color_rb",ht._color_property_get,ht._color_property_set,["redOffset"]),G.registerSpecialProperty("_color_ga",ht._oldColor_property_get,ht._oldColor_property_set,["greenMultiplier"]),G.registerSpecialProperty("_color_gb",ht._color_property_get,ht._color_property_set,["greenOffset"]),G.registerSpecialProperty("_color_ba",ht._oldColor_property_get,ht._oldColor_property_set,["blueMultiplier"]),G.registerSpecialProperty("_color_bb",ht._color_property_get,ht._color_property_set,["blueOffset"]),G.registerSpecialProperty("_color_aa",ht._oldColor_property_get,ht._oldColor_property_set,["alphaMultiplier"]),G.registerSpecialProperty("_color_ab",ht._color_property_get,ht._color_property_set,["alphaOffset"]),G.registerSpecialProperty("_color_redMultiplier",ht._color_property_get,ht._color_property_set,["redMultiplier"]),G.registerSpecialProperty("_color_redOffset",ht._color_property_get,ht._color_property_set,["redOffset"]),G.registerSpecialProperty("_color_greenMultiplier",ht._color_property_get,ht._color_property_set,["greenMultiplier"]),G.registerSpecialProperty("_color_greenOffset",ht._color_property_get,ht._color_property_set,["greenOffset"]),G.registerSpecialProperty("_color_blueMultiplier",ht._color_property_get,ht._color_property_set,["blueMultiplier"]),G.registerSpecialProperty("_color_blueOffset",ht._color_property_get,ht._color_property_set,["blueOffset"]),G.registerSpecialProperty("_color_alphaMultiplier",ht._color_property_get,ht._color_property_set,["alphaMultiplier"]),G.registerSpecialProperty("_color_alphaOffset",ht._color_property_get,ht._color_property_set,["alphaOffset"]),G.registerSpecialPropertySplitter("_color",ht._color_splitter),G.registerSpecialPropertySplitter("_colorTransform",ht._colorTransform_splitter),G.registerSpecialProperty("_brightness",ht._brightness_get,ht._brightness_set,[!1]),G.registerSpecialProperty("_tintBrightness",ht._brightness_get,ht._brightness_set,[!0]),G.registerSpecialProperty("_contrast",ht._contrast_get,ht._contrast_set),G.registerSpecialProperty("_hue",ht._hue_get,ht._hue_set),G.registerSpecialProperty("_saturation",ht._saturation_get,ht._saturation_set,[!1]),G.registerSpecialProperty("_dumbSaturation",ht._saturation_get,ht._saturation_set,[!0])});i($t,"_color_splitter",(e,t)=>{var r=new Array;return e==null?(r.push({name:"_color_redMultiplier",value:1}),r.push({name:"_color_redOffset",value:0}),r.push({name:"_color_greenMultiplier",value:1}),r.push({name:"_color_greenOffset",value:0}),r.push({name:"_color_blueMultiplier",value:1}),r.push({name:"_color_blueOffset",value:0})):(r.push({name:"_color_redMultiplier",value:0}),r.push({name:"_color_redOffset",value:ie.numberToR(e)}),r.push({name:"_color_greenMultiplier",value:0}),r.push({name:"_color_greenOffset",value:ie.numberToG(e)}),r.push({name:"_color_blueMultiplier",value:0}),r.push({name:"_color_blueOffset",value:ie.numberToB(e)})),r});i($t,"_colorTransform_splitter",(e,t)=>{var r=new Array;return e==null?(r.push({name:"_color_redMultiplier",value:1}),r.push({name:"_color_redOffset",value:0}),r.push({name:"_color_greenMultiplier",value:1}),r.push({name:"_color_greenOffset",value:0}),r.push({name:"_color_blueMultiplier",value:1}),r.push({name:"_color_blueOffset",value:0})):(r.push({name:"_color_redMultiplier",value:e.redMultiplier}),r.push({name:"_color_redOffset",value:e.redOffset}),r.push({name:"_color_blueMultiplier",value:e.blueMultiplier}),r.push({name:"_color_blueOffset",value:e.blueOffset}),r.push({name:"_color_greenMultiplier",value:e.greenMultiplier}),r.push({name:"_color_greenOffset",value:e.greenOffset}),r.push({name:"_color_alphaMultiplier",value:e.alphaMultiplier}),r.push({name:"_color_alphaOffset",value:e.alphaOffset})),r});i($t,"_oldColor_property_get",(e,t,r=null)=>e.transform.colorTransform[t[0]]*100);i($t,"_oldColor_property_set",(e,t,r,a=null)=>{var n=e.transform.colorTransform;n[r[0]]=t/100,e.transform.colorTransform=n});i($t,"_color_property_get",(e,t,r=null)=>e.transform.colorTransform[t[0]]);i($t,"_color_property_set",(e,t,r,a=null)=>{var n=e.transform.colorTransform;n[r[0]]=t,e.transform.colorTransform=n});i($t,"_brightness_get",(e,t,r=null)=>{var a=t[0],n=e.transform.colorTransform,h=1-(n.redMultiplier+n.greenMultiplier+n.blueMultiplier)/3,l=(n.redOffset+n.greenOffset+n.blueOffset)/3;return a?l>0?l/255:-h:l/100});i($t,"_brightness_set",(e,t,r,a=null)=>{var n=r[0],h,l;n?(h=1-Math.abs(t),l=t>0?Math.round(t*255):0):(h=1,l=Math.round(t*100));var p=new Ae(h,h,h,1,l,l,l,0);e.transform.colorTransform=p});i($t,"_saturation_get",(e,t,r=null)=>{var a=ht.getObjectMatrix(e),n=t[0],h=n?1/3:ht.LUMINANCE_R,l=n?1/3:ht.LUMINANCE_G,p=n?1/3:ht.LUMINANCE_B,w=((a[0]-h)/(1-h)+(a[6]-l)/(1-l)+(a[12]-p)/(1-p))/3,E=1-(a[1]/l+a[2]/p+a[5]/h+a[7]/p+a[10]/h+a[11]/l)/6;return(w+E)/2});i($t,"_saturation_set",(e,t,r,a=null)=>{var n=r[0],h=n?1/3:ht.LUMINANCE_R,l=n?1/3:ht.LUMINANCE_G,p=n?1/3:ht.LUMINANCE_B,w=t,E=1-w,C=h*E,O=l*E,N=p*E,V=[C+w,O,N,0,0,C,O+w,N,0,0,C,O,N+w,0,0,0,0,0,1,0];ht.setObjectMatrix(e,V)});i($t,"_contrast_get",(e,t,r=null)=>{var a=e.transform.colorTransform,n,h;return n=(a.redMultiplier+a.greenMultiplier+a.blueMultiplier)/3-1,h=(a.redOffset+a.greenOffset+a.blueOffset)/3/-128,(n+h)/2});i($t,"_contrast_set",(e,t,r,a=null)=>{var n,h;n=t+1,h=Math.round(t*-128);var l=new Ae(n,n,n,1,h,h,h,0);e.transform.colorTransform=l});i($t,"_hue_get",(e,t,r=null)=>{var a=ht.getObjectMatrix(e),n=[],h;for(n[0]={angle:-179.9,matrix:ht.getHueMatrix(-179.9)},n[1]={angle:180,matrix:ht.getHueMatrix(180)},h=0;h<n.length;h++)n[h].distance=ht.getHueDistance(a,n[h].matrix);var l=15,p;for(h=0;h<l;h++)n[0].distance<n[1].distance?p=1:p=0,n[p].angle=(n[0].angle+n[1].angle)/2,n[p].matrix=ht.getHueMatrix(n[p].angle),n[p].distance=ht.getHueDistance(a,n[p].matrix);return n[p].angle});i($t,"_hue_set",(e,t,r,a=null)=>{ht.setObjectMatrix(e,ht.getHueMatrix(t))});i($t,"getHueDistance",(e,t)=>Math.abs(e[0]-t[0])+Math.abs(e[1]-t[1])+Math.abs(e[2]-t[2]));i($t,"getHueMatrix",e=>{var t=e*Math.PI/180,r=ht.LUMINANCE_R,a=ht.LUMINANCE_G,n=ht.LUMINANCE_B,h=Math.cos(t),l=Math.sin(t),p=[r+h*(1-r)+l*-r,a+h*-a+l*-a,n+h*-n+l*(1-n),0,0,r+h*-r+l*.143,a+h*(1-a)+l*.14,n+h*-n+l*-.283,0,0,r+h*-r+l*-(1-r),a+h*-a+l*a,n+h*(1-n)+l*n,0,0,0,0,0,1,0];return p});i($t,"getObjectMatrix",e=>{for(var t=0;t<e.filters.length;t++)if(e.filters[t]instanceof qr)return e.filters[t].matrix.concat();return[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]});i($t,"setObjectMatrix",(e,t)=>{for(var r=e.filters.concat(),a=!1,n=0;n<r.length;n++)r[n]instanceof qr&&(r[n].matrix=t.concat(),a=!0);if(!a){var h=new qr(t);r[r.length]=h}e.filters=r});const $r=class{constructor(){console.log("This is an static class and should not be instantiated.")}};let oa=$r;i(oa,"init",()=>{G.registerSpecialPropertyModifier("_bezier",$r._bezier_modifier,$r._bezier_get)});i(oa,"_bezier_modifier",e=>{var t=[],r;e instanceof Array?r=e:r=[e];var a,n,h={};for(a=0;a<r.length;a++)for(n in r[a])h[n]==null&&(h[n]=[]),h[n].push(r[a][n]);for(n in h)t.push({name:n,parameters:h[n]});return t});i(oa,"_bezier_get",(e,t,r,a)=>{if(a.length==1)return e+r*(2*(1-r)*(a[0]-e)+r*(t-e));var n=Math.floor(r*a.length),h=(r-n*(1/a.length))*a.length,l,p;return n==0?(l=e,p=(a[0]+a[1])/2):n==a.length-1?(l=(a[n-1]+a[n])/2,p=t):(l=(a[n-1]+a[n])/2,p=(a[n]+a[n+1])/2),l+h*(2*(1-h)*(a[n]-l)+h*(p-l))});const Vt=class{constructor(){console.log("This is an static class and should not be instantiated.")}};let di=Vt;i(di,"init",()=>{G.registerSpecialProperty("_frame",Vt._frame_get,Vt._frame_set),G.registerSpecialProperty("_autoAlpha",Vt._autoAlpha_get,Vt._autoAlpha_set),G.registerSpecialPropertySplitter("_scale",Vt._scale_splitter),G.registerSpecialPropertySplitter("_scrollRect",Vt._scrollRect_splitter),G.registerSpecialProperty("_scrollRect_x",Vt._scrollRect_property_get,Vt._scrollRect_property_set,["x"]),G.registerSpecialProperty("_scrollRect_y",Vt._scrollRect_property_get,Vt._scrollRect_property_set,["y"]),G.registerSpecialProperty("_scrollRect_left",Vt._scrollRect_property_get,Vt._scrollRect_property_set,["left"]),G.registerSpecialProperty("_scrollRect_right",Vt._scrollRect_property_get,Vt._scrollRect_property_set,["right"]),G.registerSpecialProperty("_scrollRect_top",Vt._scrollRect_property_get,Vt._scrollRect_property_set,["top"]),G.registerSpecialProperty("_scrollRect_bottom",Vt._scrollRect_property_get,Vt._scrollRect_property_set,["bottom"]),G.registerSpecialProperty("_scrollRect_width",Vt._scrollRect_property_get,Vt._scrollRect_property_set,["width"]),G.registerSpecialProperty("_scrollRect_height",Vt._scrollRect_property_get,Vt._scrollRect_property_set,["height"])});i(di,"_scale_splitter",(e,t)=>{var r=new Array;return r.push({name:"scaleX",value:e}),r.push({name:"scaleY",value:e}),r});i(di,"_scrollRect_splitter",(e,t,r=null)=>{var a=new Array;return e==null?(a.push({name:"_scrollRect_x",value:0}),a.push({name:"_scrollRect_y",value:0}),a.push({name:"_scrollRect_width",value:100}),a.push({name:"_scrollRect_height",value:100})):(a.push({name:"_scrollRect_x",value:e.x}),a.push({name:"_scrollRect_y",value:e.y}),a.push({name:"_scrollRect_width",value:e.width}),a.push({name:"_scrollRect_height",value:e.height})),a});i(di,"_frame_get",(e,t,r=null)=>e.currentFrame);i(di,"_frame_set",(e,t,r,a=null)=>{e.gotoAndStop(Math.round(t))});i(di,"_autoAlpha_get",(e,t,r=null)=>e.alpha);i(di,"_autoAlpha_set",(e,t,r,a=null)=>{e.alpha=t,e.visible=t>0});i(di,"_scrollRect_property_get",(e,t,r=null)=>e.scrollRect[t[0]]);i(di,"_scrollRect_property_set",(e,t,r,a=null)=>{var n=e.scrollRect;n[r[0]]=Math.round(t),e.scrollRect=n});const Ts=class{constructor(){console.log("This is an static class and should not be instantiated.")}};let Fs=Ts;i(Fs,"init",()=>{G.registerSpecialProperty("_sound_volume",Ts._sound_volume_get,Ts._sound_volume_set),G.registerSpecialProperty("_sound_pan",Ts._sound_pan_get,Ts._sound_pan_set)});i(Fs,"_sound_volume_get",(e,t,r=null)=>e.soundTransform.volume);i(Fs,"_sound_volume_set",(e,t,r,a=null)=>{var n=e.soundTransform;n.volume=t,e.soundTransform=n});i(Fs,"_sound_pan_get",(e,t,r=null)=>e.soundTransform.pan);i(Fs,"_sound_pan_set",(e,t,r,a=null)=>{var n=e.soundTransform;n.pan=t,e.soundTransform=n});const jt=class{constructor(){console.log("This is an static class and should not be instantiated.")}};let Bi=jt;i(Bi,"init",()=>{G.registerSpecialProperty("_text",jt._text_get,jt._text_set,null,jt._text_preProcess),G.registerSpecialPropertySplitter("_text_color",jt._generic_color_splitter,["_text_color_r","_text_color_g","_text_color_b"]),G.registerSpecialProperty("_text_color_r",jt._textFormat_property_get,jt._textFormat_property_set,["color",!0,"r"]),G.registerSpecialProperty("_text_color_g",jt._textFormat_property_get,jt._textFormat_property_set,["color",!0,"g"]),G.registerSpecialProperty("_text_color_b",jt._textFormat_property_get,jt._textFormat_property_set,["color",!0,"b"]),G.registerSpecialProperty("_text_indent",jt._textFormat_property_get,jt._textFormat_property_set,["indent"]),G.registerSpecialProperty("_text_leading",jt._textFormat_property_get,jt._textFormat_property_set,["leading"]),G.registerSpecialProperty("_text_leftMargin",jt._textFormat_property_get,jt._textFormat_property_set,["leftMargin"]),G.registerSpecialProperty("_text_letterSpacing",jt._textFormat_property_get,jt._textFormat_property_set,["letterSpacing"]),G.registerSpecialProperty("_text_rightMargin",jt._textFormat_property_get,jt._textFormat_property_set,["rightMargin"]),G.registerSpecialProperty("_text_size",jt._textFormat_property_get,jt._textFormat_property_set,["size"])});i(Bi,"_text_get",(e,t,r=null)=>-e.text.length);i(Bi,"_text_set",(e,t,r,a=null)=>{t<0?e.text=a.oldText.substr(0,-Math.round(t)):e.text=a.newText.substr(0,Math.round(t))});i(Bi,"_text_preProcess",(e,t,r,a)=>(a.oldText=e.text,a.newText=r,a.newText.length));i(Bi,"_generic_color_splitter",(e,t)=>{var r=new Array;return r.push({name:t[0],value:ie.numberToR(e)}),r.push({name:t[1],value:ie.numberToG(e)}),r.push({name:t[2],value:ie.numberToB(e)}),r});i(Bi,"_textFormat_property_get",(e,t,r=null)=>{var a=e.getTextFormat(),n=t[0],h=t[1];if(h){var l=t[2];if(l=="r")return ie.numberToR(a[n]);if(l=="g")return ie.numberToG(a[n]);if(l=="b")return ie.numberToB(a[n])}else return a[n];return NaN});i(Bi,"_textFormat_property_set",(e,t,r,a=null)=>{var n=e.getTextFormat(),h=r[0],l=r[1];if(!l)n[h]=t;else{var p=r[2];p=="r"&&(n[h]=n[h]&65535|t<<16),p=="g"&&(n[h]=n[h]&16711935|t<<8),p=="b"&&(n[h]=n[h]&16776960|t)}e.defaultTextFormat=n,e.setTextFormat(n)});const ot=class{constructor(){console.log("Equations is a static class and should not be instantiated.")}};let mt=ot;i(mt,"init",()=>{G.registerTransition("easenone",ot.easeNone),G.registerTransition("linear",ot.easeNone),G.registerTransition("easeinquad",ot.easeInQuad),G.registerTransition("easeoutquad",ot.easeOutQuad),G.registerTransition("easeinoutquad",ot.easeInOutQuad),G.registerTransition("easeoutinquad",ot.easeOutInQuad),G.registerTransition("easeincubic",ot.easeInCubic),G.registerTransition("easeoutcubic",ot.easeOutCubic),G.registerTransition("easeinoutcubic",ot.easeInOutCubic),G.registerTransition("easeoutincubic",ot.easeOutInCubic),G.registerTransition("easeinquart",ot.easeInQuart),G.registerTransition("easeoutquart",ot.easeOutQuart),G.registerTransition("easeinoutquart",ot.easeInOutQuart),G.registerTransition("easeoutinquart",ot.easeOutInQuart),G.registerTransition("easeinquint",ot.easeInQuint),G.registerTransition("easeoutquint",ot.easeOutQuint),G.registerTransition("easeinoutquint",ot.easeInOutQuint),G.registerTransition("easeoutinquint",ot.easeOutInQuint),G.registerTransition("easeinsine",ot.easeInSine),G.registerTransition("easeoutsine",ot.easeOutSine),G.registerTransition("easeinoutsine",ot.easeInOutSine),G.registerTransition("easeoutinsine",ot.easeOutInSine),G.registerTransition("easeincirc",ot.easeInCirc),G.registerTransition("easeoutcirc",ot.easeOutCirc),G.registerTransition("easeinoutcirc",ot.easeInOutCirc),G.registerTransition("easeoutincirc",ot.easeOutInCirc),G.registerTransition("easeinexpo",ot.easeInExpo),G.registerTransition("easeoutexpo",ot.easeOutExpo),G.registerTransition("easeinoutexpo",ot.easeInOutExpo),G.registerTransition("easeoutinexpo",ot.easeOutInExpo),G.registerTransition("easeinelastic",ot.easeInElastic),G.registerTransition("easeoutelastic",ot.easeOutElastic),G.registerTransition("easeinoutelastic",ot.easeInOutElastic),G.registerTransition("easeoutinelastic",ot.easeOutInElastic),G.registerTransition("easeinback",ot.easeInBack),G.registerTransition("easeoutback",ot.easeOutBack),G.registerTransition("easeinoutback",ot.easeInOutBack),G.registerTransition("easeoutinback",ot.easeOutInBack),G.registerTransition("easeinbounce",ot.easeInBounce),G.registerTransition("easeoutbounce",ot.easeOutBounce),G.registerTransition("easeinoutbounce",ot.easeInOutBounce),G.registerTransition("easeoutinbounce",ot.easeOutInBounce)});i(mt,"easeNone",(e,t,r,a,n=null)=>r*e/a+t);i(mt,"easeInQuad",(e,t,r,a,n=null)=>r*(e/=a)*e+t);i(mt,"easeOutQuad",(e,t,r,a,n=null)=>-r*(e/=a)*(e-2)+t);i(mt,"easeInOutQuad",(e,t,r,a,n=null)=>(e/=a/2)<1?r/2*e*e+t:-r/2*(--e*(e-2)-1)+t);i(mt,"easeOutInQuad",(e,t,r,a,n=null)=>e<a/2?ot.easeOutQuad(e*2,t,r/2,a,n):ot.easeInQuad(e*2-a,t+r/2,r/2,a,n));i(mt,"easeInCubic",(e,t,r,a,n=null)=>r*(e/=a)*e*e+t);i(mt,"easeOutCubic",(e,t,r,a,n=null)=>r*((e=e/a-1)*e*e+1)+t);i(mt,"easeInOutCubic",(e,t,r,a,n=null)=>(e/=a/2)<1?r/2*e*e*e+t:r/2*((e-=2)*e*e+2)+t);i(mt,"easeOutInCubic",(e,t,r,a,n=null)=>e<a/2?ot.easeOutCubic(e*2,t,r/2,a,n):ot.easeInCubic(e*2-a,t+r/2,r/2,a,n));i(mt,"easeInQuart",(e,t,r,a,n=null)=>r*(e/=a)*e*e*e+t);i(mt,"easeOutQuart",(e,t,r,a,n=null)=>-r*((e=e/a-1)*e*e*e-1)+t);i(mt,"easeInOutQuart",(e,t,r,a,n=null)=>(e/=a/2)<1?r/2*e*e*e*e+t:-r/2*((e-=2)*e*e*e-2)+t);i(mt,"easeOutInQuart",(e,t,r,a,n=null)=>e<a/2?ot.easeOutQuart(e*2,t,r/2,a,n):ot.easeInQuart(e*2-a,t+r/2,r/2,a,n));i(mt,"easeInQuint",(e,t,r,a,n=null)=>r*(e/=a)*e*e*e*e+t);i(mt,"easeOutQuint",(e,t,r,a,n=null)=>r*((e=e/a-1)*e*e*e*e+1)+t);i(mt,"easeInOutQuint",(e,t,r,a,n=null)=>(e/=a/2)<1?r/2*e*e*e*e*e+t:r/2*((e-=2)*e*e*e*e+2)+t);i(mt,"easeOutInQuint",(e,t,r,a,n=null)=>e<a/2?ot.easeOutQuint(e*2,t,r/2,a,n):ot.easeInQuint(e*2-a,t+r/2,r/2,a,n));i(mt,"easeInSine",(e,t,r,a,n=null)=>-r*Math.cos(e/a*(Math.PI/2))+r+t);i(mt,"easeOutSine",(e,t,r,a,n=null)=>r*Math.sin(e/a*(Math.PI/2))+t);i(mt,"easeInOutSine",(e,t,r,a,n=null)=>-r/2*(Math.cos(Math.PI*e/a)-1)+t);i(mt,"easeOutInSine",(e,t,r,a,n=null)=>e<a/2?ot.easeOutSine(e*2,t,r/2,a,n):ot.easeInSine(e*2-a,t+r/2,r/2,a,n));i(mt,"easeInExpo",(e,t,r,a,n=null)=>e==0?t:r*Math.pow(2,10*(e/a-1))+t-r*.001);i(mt,"easeOutExpo",(e,t,r,a,n=null)=>e==a?t+r:r*1.001*(-Math.pow(2,-10*e/a)+1)+t);i(mt,"easeInOutExpo",(e,t,r,a,n=null)=>e==0?t:e==a?t+r:(e/=a/2)<1?r/2*Math.pow(2,10*(e-1))+t-r*5e-4:r/2*1.0005*(-Math.pow(2,-10*--e)+2)+t);i(mt,"easeOutInExpo",(e,t,r,a,n=null)=>e<a/2?ot.easeOutExpo(e*2,t,r/2,a,n):ot.easeInExpo(e*2-a,t+r/2,r/2,a,n));i(mt,"easeInCirc",(e,t,r,a,n=null)=>-r*(Math.sqrt(1-(e/=a)*e)-1)+t);i(mt,"easeOutCirc",(e,t,r,a,n=null)=>r*Math.sqrt(1-(e=e/a-1)*e)+t);i(mt,"easeInOutCirc",(e,t,r,a,n=null)=>(e/=a/2)<1?-r/2*(Math.sqrt(1-e*e)-1)+t:r/2*(Math.sqrt(1-(e-=2)*e)+1)+t);i(mt,"easeOutInCirc",(e,t,r,a,n=null)=>e<a/2?ot.easeOutCirc(e*2,t,r/2,a,n):ot.easeInCirc(e*2-a,t+r/2,r/2,a,n));i(mt,"easeInElastic",(e,t,r,a,n=null)=>{if(e==0)return t;if((e/=a)==1)return t+r;var h=!Boolean(n)||isNaN(n.period)?a*.3:n.period,l,p=!Boolean(n)||isNaN(n.amplitude)?0:n.amplitude;return!Boolean(p)||p<Math.abs(r)?(p=r,l=h/4):l=h/(2*Math.PI)*Math.asin(r/p),-(p*Math.pow(2,10*(e-=1))*Math.sin((e*a-l)*(2*Math.PI)/h))+t});i(mt,"easeOutElastic",(e,t,r,a,n=null)=>{if(e==0)return t;if((e/=a)==1)return t+r;var h=!Boolean(n)||isNaN(n.period)?a*.3:n.period,l,p=!Boolean(n)||isNaN(n.amplitude)?0:n.amplitude;return!Boolean(p)||p<Math.abs(r)?(p=r,l=h/4):l=h/(2*Math.PI)*Math.asin(r/p),p*Math.pow(2,-10*e)*Math.sin((e*a-l)*(2*Math.PI)/h)+r+t});i(mt,"easeInOutElastic",(e,t,r,a,n=null)=>{if(e==0)return t;if((e/=a/2)==2)return t+r;var h=!Boolean(n)||isNaN(n.period)?a*(.3*1.5):n.period,l,p=!Boolean(n)||isNaN(n.amplitude)?0:n.amplitude;return!Boolean(p)||p<Math.abs(r)?(p=r,l=h/4):l=h/(2*Math.PI)*Math.asin(r/p),e<1?-.5*(p*Math.pow(2,10*(e-=1))*Math.sin((e*a-l)*(2*Math.PI)/h))+t:p*Math.pow(2,-10*(e-=1))*Math.sin((e*a-l)*(2*Math.PI)/h)*.5+r+t});i(mt,"easeOutInElastic",(e,t,r,a,n=null)=>e<a/2?ot.easeOutElastic(e*2,t,r/2,a,n):ot.easeInElastic(e*2-a,t+r/2,r/2,a,n));i(mt,"easeInBack",(e,t,r,a,n=null)=>{var h=!Boolean(n)||isNaN(n.overshoot)?1.70158:n.overshoot;return r*(e/=a)*e*((h+1)*e-h)+t});i(mt,"easeOutBack",(e,t,r,a,n=null)=>{var h=!Boolean(n)||isNaN(n.overshoot)?1.70158:n.overshoot;return r*((e=e/a-1)*e*((h+1)*e+h)+1)+t});i(mt,"easeInOutBack",(e,t,r,a,n=null)=>{var h=!Boolean(n)||isNaN(n.overshoot)?1.70158:n.overshoot;return(e/=a/2)<1?r/2*(e*e*(((h*=1.525)+1)*e-h))+t:r/2*((e-=2)*e*(((h*=1.525)+1)*e+h)+2)+t});i(mt,"easeOutInBack",(e,t,r,a,n=null)=>e<a/2?ot.easeOutBack(e*2,t,r/2,a,n):ot.easeInBack(e*2-a,t+r/2,r/2,a,n));i(mt,"easeInBounce",(e,t,r,a,n=null)=>r-ot.easeOutBounce(a-e,0,r,a)+t);i(mt,"easeOutBounce",(e,t,r,a,n=null)=>(e/=a)<1/2.75?r*(7.5625*e*e)+t:e<2/2.75?r*(7.5625*(e-=1.5/2.75)*e+.75)+t:e<2.5/2.75?r*(7.5625*(e-=2.25/2.75)*e+.9375)+t:r*(7.5625*(e-=2.625/2.75)*e+.984375)+t);i(mt,"easeInOutBounce",(e,t,r,a,n=null)=>e<a/2?ot.easeInBounce(e*2,0,r,a)*.5+t:ot.easeOutBounce(e*2-a,0,r,a)*.5+r*.5+t);i(mt,"easeOutInBounce",(e,t,r,a,n=null)=>e<a/2?ot.easeOutBounce(e*2,t,r/2,a,n):ot.easeInBounce(e*2-a,t+r/2,r/2,a,n));const Xi=class extends Object{constructor(e=0,t=0){super(),i(this,"x"),i(this,"y"),i(this,"clone",()=>new Xi(this.x,this.y)),i(this,"offset",(r,a)=>{this.x=this.x+r,this.y=this.y+a}),i(this,"equals",r=>r.x===this.x&&r.y===this.y),i(this,"subtract",r=>new Xi(this.x-r.x,this.y-r.y)),i(this,"add",r=>new Xi(this.x+r.x,this.y+r.y)),i(this,"normalize",r=>{var a=this.length;a>0&&(a=r/a,this.x=this.x*a,this.y=this.y*a)}),i(this,"toString",()=>"(x="+this.x+", y="+this.y+")"),i(this,"copyFrom",r=>{this.x=r.x,this.y=r.y}),i(this,"setTo",(r,a)=>{this.x=r,this.y=a}),this.x=e,this.y=t}get length(){return Math.sqrt(this.x*this.x+this.y*this.y)}};let Xt=Xi;i(Xt,"interpolate",(e,t,r)=>new Xi(t.x+r*(e.x-t.x),t.y+r*(e.y-t.y)));i(Xt,"distance",(e,t)=>e.subtract(t).length);i(Xt,"polar",(e,t)=>new Xi(e*Math.cos(t),e*Math.sin(t)));class Ht extends Object{constructor(t=0,r=0,a=0,n=0){super(),i(this,"x"),i(this,"y"),i(this,"width"),i(this,"height"),i(this,"clone",()=>new Ht(this.x,this.y,this.width,this.height)),i(this,"isEmpty",()=>this.width<=0||this.height<=0),i(this,"setEmpty",()=>{this.x=0,this.y=0,this.width=0,this.height=0}),i(this,"inflate",(h,l)=>{this.x=this.x-h,this.width=this.width+2*h,this.y=this.y-l,this.height=this.height+2*l}),i(this,"inflatePoint",h=>{this.x=this.x-h.x,this.width=this.width+2*h.x,this.y=this.y-h.y,this.height=this.height+2*h.y}),i(this,"offset",(h,l)=>{this.x=this.x+h,this.y=this.y+l}),i(this,"offsetPoint",h=>{this.x=this.x+h.x,this.y=this.y+h.y}),i(this,"contains",(h,l)=>h>=this.x&&h<this.x+this.width&&l>=this.y&&l<this.y+this.height),i(this,"containsPoint",h=>h.x>=this.x&&h.x<this.x+this.width&&h.y>=this.y&&h.y<this.y+this.height),i(this,"containsRect",h=>{var l=h.x+h.width,p=h.y+h.height,w=this.x+this.width,E=this.y+this.height;return h.x>=this.x&&h.x<w&&h.y>=this.y&&h.y<E&&l>this.x&&l<=w&&p>this.y&&p<=E}),i(this,"intersection",h=>{var l=new Ht;return this.isEmpty()||h.isEmpty()?(l.setEmpty(),l):(l.x=Math.max(this.x,h.x),l.y=Math.max(this.y,h.y),l.width=Math.min(this.x+this.width,h.x+h.width)-l.x,l.height=Math.min(this.y+this.height,h.y+h.height)-l.y,(l.width<=0||l.height<=0)&&l.setEmpty(),l)}),i(this,"intersects",h=>{if(this.isEmpty()||h.isEmpty())return!1;var l=Math.max(this.x,h.x),p=Math.max(this.y,h.y),w=Math.min(this.x+this.width,h.x+h.width)-l,E=Math.min(this.y+this.height,h.y+h.height)-p;return!(w<=0||E<=0)}),i(this,"union",h=>{var l=null;return this.isEmpty()?h.clone():h.isEmpty()?this.clone():(l=new Ht,l.x=Math.min(this.x,h.x),l.y=Math.min(this.y,h.y),l.width=Math.max(this.x+this.width,h.x+h.width)-l.x,l.height=Math.max(this.y+this.height,h.y+h.height)-l.y,l)}),i(this,"equals",h=>h.x===this.x&&h.y===this.y&&h.width===this.width&&h.height===this.height),i(this,"toString",()=>"(x="+this.x+", y="+this.y+", w="+this.width+", h="+this.height+")"),i(this,"copyFrom",h=>{this.x=h.x,this.y=h.y,this.width=h.width,this.height=h.height}),i(this,"setTo",(h,l,p,w)=>{this.x=h,this.y=l,this.width=p,this.height=w}),i(this,"__transform",(h,l)=>{var p=l.a*this.x+l.c*this.y,w=p,E=l.b*this.x+l.d*this.y,C=E,O=l.a*(this.x+this.width)+l.c*this.y,N=l.b*(this.x+this.width)+l.d*this.y;O<p&&(p=O),N<E&&(E=N),O>w&&(w=O),N>C&&(C=N),O=l.a*(this.x+this.width)+l.c*(this.y+this.height),N=l.b*(this.x+this.width)+l.d*(this.y+this.height),O<p&&(p=O),N<E&&(E=N),O>w&&(w=O),N>C&&(C=N),O=l.a*this.x+l.c*(this.y+this.height),N=l.b*this.x+l.d*(this.y+this.height),O<p&&(p=O),N<E&&(E=N),O>w&&(w=O),N>C&&(C=N),h.setTo(p+l.tx,E+l.ty,w-p,C-E)}),i(this,"__expand",(h,l,p,w)=>{if(this.width==0&&this.height==0){this.x=h,this.y=l,this.width=p,this.height=w;return}var E=this.right,C=this.bottom;this.x>h&&(this.x=h,this.width=E-h),this.y>l&&(this.y=l,this.height=C-l),E<h+p&&(this.width=h+p-this.x),C<l+w&&(this.height=l+w-this.y)}),this.x=t,this.y=r,this.width=a,this.height=n}get left(){return this.x}set left(t){this.width=this.width+(this.x-t),this.x=t}get right(){return this.x+this.width}set right(t){this.width=t-this.x}get top(){return this.y}set top(t){this.height=this.height+(this.y-t),this.y=t}get bottom(){return this.y+this.height}set bottom(t){this.height=t-this.y}get topLeft(){return new Xt(this.x,this.y)}set topLeft(t){this.width=this.width+(this.x-t.x),this.height=this.height+(this.y-t.y),this.x=t.x,this.y=t.y}get bottomRight(){return new Xt(this.right,this.bottom)}set bottomRight(t){this.width=t.x-this.x,this.height=t.y-this.y}get size(){return new Xt(this.width,this.height)}set size(t){this.width=t.x,this.height=t.y}}class En{constructor(t=0,r=0,a=0,n=0){i(this,"x"),i(this,"y"),i(this,"width"),i(this,"height"),i(this,"right"),i(this,"bottom"),i(this,"id"),this.x=t,this.y=r,this.width=a,this.height=n,this.right=t+a,this.bottom=r+n}}class po{constructor(t,r,a){i(this,"width"),i(this,"height"),i(this,"id"),this.width=t,this.height=r,this.id=a}}class _o{constructor(t,r,a=0){i(this,"mWidth",0),i(this,"mHeight",0),i(this,"mPadding",8),i(this,"mPackedWidth",0),i(this,"mPackedHeight",0),i(this,"mInsertList",[]),i(this,"mInsertedRectangles",new Array),i(this,"mFreeAreas",new Array),i(this,"mNewFreeAreas",new Array),i(this,"mOutsideRectangle"),i(this,"mSortableSizeStack",new Array),i(this,"mRectangleStack",new Array),this.mOutsideRectangle=new En(t+1,r+1,0,0),this.reset(t,r,a)}get rectangleCount(){return this.mInsertedRectangles.length}get packedWidth(){return this.mPackedWidth}get packedHeight(){return this.mPackedHeight}get padding(){return this.mPadding}reset(t,r,a=0){for(;this.mInsertedRectangles.length;)this.freeRectangle(this.mInsertedRectangles.pop());for(;this.mFreeAreas.length;)this.freeRectangle(this.mFreeAreas.pop());for(this.mWidth=t,this.mHeight=r,this.mPackedWidth=0,this.mPackedHeight=0,this.mFreeAreas[0]=this.allocateRectangle(0,0,this.mWidth,this.mHeight);this.mInsertList.length;)this.freeSize(this.mInsertList.pop());this.mPadding=a}getRectangle(t,r){let a=this.mInsertedRectangles[t];return r?(r.x=a.x,r.y=a.y,r.width=a.width,r.height=a.height,r):new Ht(a.x,a.y,a.width,a.height)}getRectangleId(t){return this.mInsertedRectangles[t].id}insertRectangle(t,r,a){let n=this.allocateSize(t,r,a);this.mInsertList.push(n)}sortOn(t,r){return t.sort(function(a,n){var h=a[r],l=n[r];return h<l?-1:h>l?1:0})}packRectangles(t=!0){for(t&&this.sortOn(this.mInsertList,"width");this.mInsertList.length>0;){let r=this.mInsertList.pop(),a=r.width,n=r.height,h=this.getFreeAreaIndex(a,n);if(h>=0){let l=this.mFreeAreas[h],p=this.allocateRectangle(l.x,l.y,a,n);for(p.id=r.id,this.generateNewFreeAreas(p,this.mFreeAreas,this.mNewFreeAreas);this.mNewFreeAreas.length>0;)this.mFreeAreas[this.mFreeAreas.length]=this.mNewFreeAreas.pop();this.mInsertedRectangles[this.mInsertedRectangles.length]=p,p.right>this.mPackedWidth&&(this.mPackedWidth=p.right),p.bottom>this.mPackedHeight&&(this.mPackedHeight=p.bottom)}this.freeSize(r)}return this.rectangleCount}filterSelfSubAreas(t){for(let r=t.length-1;r>=0;r--){let a=t[r];for(let n=t.length-1;n>=0;n--)if(r!=n){let h=t[n];if(a.x>=h.x&&a.y>=h.y&&a.right<=h.right&&a.bottom<=h.bottom){this.freeRectangle(a);let l=t.pop();r<t.length&&(t[r]=l);break}}}}generateNewFreeAreas(t,r,a){const n=t.x,h=t.y,l=t.right+1+this.mPadding,p=t.bottom+1+this.mPadding;let w=null;this.mPadding==0&&(w=t);for(let E=r.length-1;E>=0;E--){const C=r[E];if(!(n>=C.right||l<=C.x||h>=C.bottom||p<=C.y)){w||(w=this.allocateRectangle(t.x,t.y,t.width+this.mPadding,t.height+this.mPadding)),this.generateDividedAreas(w,C,a);let O=r.pop();E<r.length&&(r[E]=O)}}w&&w!=t&&this.freeRectangle(w),this.filterSelfSubAreas(a)}generateDividedAreas(t,r,a){let n=0;const h=r.right-t.right;h>0&&(a[a.length]=this.allocateRectangle(t.right,r.y,h,r.height),n++);const l=t.x-r.x;l>0&&(a[a.length]=this.allocateRectangle(r.x,r.y,l,r.height),n++);const p=r.bottom-t.bottom;p>0&&(a[a.length]=this.allocateRectangle(r.x,t.bottom,r.width,p),n++);const w=t.y-r.y;w>0&&(a[a.length]=this.allocateRectangle(r.x,r.y,r.width,w),n++),n==0&&(t.width<r.width||t.height<r.height)?a[a.length]=r:this.freeRectangle(r)}getFreeAreaIndex(t,r){let a=this.mOutsideRectangle,n=-1;const h=t+this.mPadding,l=r+this.mPadding,p=this.mFreeAreas.length;for(let w=p-1;w>=0;w--){const E=this.mFreeAreas[w];if(E.x<this.mPackedWidth||E.y<this.mPackedHeight){if(E.x<a.x&&h<=E.width&&l<=E.height){if(n=w,h==E.width&&E.width<=E.height&&E.right<this.mWidth||l==E.height&&E.height<=E.width)break;a=E}}else if(E.x<a.x&&t<=E.width&&r<=E.height){if(n=w,t==E.width&&E.width<=E.height&&E.right<this.mWidth||r==E.height&&E.height<=E.width)break;a=E}}return n}allocateRectangle(t,r,a,n){if(this.mRectangleStack.length>0){let h=this.mRectangleStack.pop();return h.x=t,h.y=r,h.width=a,h.height=n,h.right=t+a,h.bottom=r+n,h}return new En(t,r,a,n)}freeRectangle(t){this.mRectangleStack[this.mRectangleStack.length]=t}allocateSize(t,r,a){if(this.mSortableSizeStack.length>0){let n=this.mSortableSizeStack.pop();return n.width=t,n.height=r,n.id=a,n}return new po(t,r,a)}freeSize(t){this.mSortableSizeStack[this.mSortableSizeStack.length]=t}}i(_o,"VERSION","1.3.0");class Kr{constructor(){i(this,"maxFontSize",0),i(this,"width",0),i(this,"offsetX",0),i(this,"offsetY",0)}}const Zr=class extends Object{constructor(e="",t=0){super(),i(this,"message"),i(this,"name"),i(this,"_errorID"),this.message=e,this._errorID=t,this.name=""}static getErrorMessage(e){return null}static throwError(e,t,...r){var a=function(n,h,l){var p=-1;switch(n.charAt(1)){case"1":break;case"2":p=1;break;case"3":p=2;break;case"4":p=3;break;case"5":p=4;break;case"6":case 6:p=5;break;default:p=0}return p>-1&&r.length>p?r[p]:""};throw new Zr(Zr.getErrorMessage(t).replace(new RegExp("%[0-9]","g"),a),t)}getStackTrace(){return null}get errorID(){return this._errorID}};let zi=Zr;i(zi,"len",1);class nr extends Object{constructor(t=null){super(),t!=null&&this.decode(t)}decode(t){for(var r=null,a=0,n=null,h=null,l=void 0,p=t.split("&"),w=0;w<p.length;w++)r=p[w],a=r.indexOf("="),a==-1?zi.throwError(zi,2101):(n=unescape(r.substr(0,a)),h=unescape(r.substr(a+1)),l=this[n],l!=null?(l instanceof Array||(this[n]=l=[l]),l.push(h)):this[n]=h)}}class Ee extends Object{constructor(t=null){super(),i(this,"listeners",{}),i(this,"addEventListener",(r,a,n=!1,h=0,l=!1)=>{this.listeners[r]==null&&(this.listeners[r]=[]);var p=this.listeners[r],w=p.indexOf(a);w!=-1&&p.splice(w,1),p.push(a)}),i(this,"removeEventListener",(r,a,n=!1)=>{var h=this.listeners[r];if(h){var l=h.indexOf(a);l!=-1&&h.splice(l,1),h.length===0&&(this.listeners[r]=null,delete this.listeners[r])}}),i(this,"hasEventListener",r=>this.listeners[r]!=null),i(this,"dispatchEventFunction",r=>{r.target=this,r.currentTarget=this;var a=!1,n=this.listeners[r.type];if(n)for(var h=n.length,l=0;l<h;l++){var p=n[l];p&&(p(r),a=!0)}return a}),t&&this.ctor(t)}static trimHeaderValue(t){for(var r=null,a=0,n=t.length,h=!1;a<n&&!h;)r=t.charAt(a),h=r!=" "&&r!="	",h||a++;var l=n;for(h=!1;l>a&&!h;)r=t.charAt(l-1),h=r!=" "&&r!="	",h||l--;return t.substring(a,l)}ctor(t){}dispatchEvent(t){return t.target?this.dispatchEventFunction(t.clone()):this.dispatchEventFunction(t)}willTrigger(t){return!1}}class Fn extends Ee{constructor(){super(),i(this,"_content")}static getLoaderInfoByDefinition(t){return null}get loaderURL(){return this.url}get url(){return window.location.href}get isURLInaccessible(){return!1}get bytesLoaded(){return 0}get bytesTotal(){return 0}get swfVersion(){return 0}get actionScriptVersion(){return 0}get frameRate(){return 0}get parameters(){var t=null,r=this._getArgs(),a={};for(t in r)a[t]=r[t];return a}get width(){return 0}get height(){return 0}get contentType(){return"spriteflexjs"}get sharedEvents(){return null}get parentSandboxBridge(){return null}set parentSandboxBridge(t){}get childSandboxBridge(){return null}set childSandboxBridge(t){}get sameDomain(){return!1}get childAllowsParent(){return!1}get parentAllowsChild(){return!1}get loader(){return null}set content(t){this._content=t}get content(){return this._content}get bytes(){return null}_getArgs(){try{var t=new nr(window.location.search.substr(1))}catch{}return t}}class se extends Object{constructor(){super()}}i(se,"NORMAL","source-over");i(se,"LAYER","layer");i(se,"MULTIPLY","multiply");i(se,"SCREEN","screen");i(se,"LIGHTEN","lighten");i(se,"DARKEN","darken");i(se,"ADD","lighter");i(se,"SUBTRACT","subtract");i(se,"DIFFERENCE","difference");i(se,"INVERT","invert");i(se,"OVERLAY","overlay");i(se,"HARDLIGHT","hard-light");i(se,"ALPHA","alpha");i(se,"ERASE","erase");i(se,"SHADER","shader");const Pn=class extends W{constructor(e,t=!0,r=!1,a=0,n=!1,h=NaN,l=NaN,p=NaN,w=NaN,E=NaN,C=null,O=!1,N=!1,V=!1){super(e,t,r),i(this,"m_touchPointID"),i(this,"m_isPrimaryTouchPoint"),i(this,"m_sizeY"),i(this,"m_sizeX"),i(this,"m_pressure"),i(this,"m_relatedObject"),i(this,"m_isRelatedObjectInaccessible"),i(this,"m_ctrlKey"),i(this,"m_altKey"),i(this,"m_shiftKey"),this.m_touchPointID=a,this.m_isPrimaryTouchPoint=n,this.localX=h,this.localY=l,this.m_sizeX=p,this.m_sizeY=w,this.m_pressure=E,this.m_relatedObject=C,this.m_ctrlKey=O,this.m_altKey=N,this.m_shiftKey=V}clone(){return new Pn(this.type,this.bubbles,this.cancelable,this.m_touchPointID,this.m_isPrimaryTouchPoint,this.localX,this.localY,this.m_sizeX,this.m_sizeY,this.m_pressure,this.m_relatedObject,this.m_ctrlKey,this.m_altKey,this.m_shiftKey)}toString(){return this.formatToString("TouchEvent","type","bubbles","cancelable","eventPhase","touchPointID","isPrimaryTouchPoint","localX","localY","stageX","stageY","sizeX","sizeY","pressure","relatedObject","ctrlKey","altKey","shiftKey")}get localX(){return 0}set localX(e){}get localY(){return 0}set localY(e){}get touchPointID(){return this.m_touchPointID}set touchPointID(e){this.m_touchPointID=e}get isPrimaryTouchPoint(){return this.m_isPrimaryTouchPoint}set isPrimaryTouchPoint(e){this.m_isPrimaryTouchPoint=e}get sizeX(){return this.m_sizeX}set sizeX(e){this.m_sizeX=e}get sizeY(){return this.m_sizeY}set sizeY(e){this.m_sizeY=e}get pressure(){return this.m_pressure}set pressure(e){this.m_pressure=e}get relatedObject(){return this.m_relatedObject}set relatedObject(e){this.m_relatedObject=e}get ctrlKey(){return this.m_ctrlKey}set ctrlKey(e){this.m_ctrlKey=e}get altKey(){return this.m_altKey}set altKey(e){this.m_altKey=e}get shiftKey(){return this.m_shiftKey}set shiftKey(e){this.m_shiftKey=e}get stageX(){return isNaN(this.localX)||isNaN(this.localY)?Number.NaN:this.getStageX()}get stageY(){return isNaN(this.localX)||isNaN(this.localY)?Number.NaN:this.getStageY()}updateAfterEvent(){}getStageX(){return 0}getStageY(){return 0}get isRelatedObjectInaccessible(){return this.m_isRelatedObjectInaccessible}set isRelatedObjectInaccessible(e){this.m_isRelatedObjectInaccessible=e}};let Nt=Pn;i(Nt,"TOUCH_BEGIN","touchBegin");i(Nt,"TOUCH_END","touchEnd");i(Nt,"TOUCH_MOVE","touchMove");i(Nt,"TOUCH_OVER","touchOver");i(Nt,"TOUCH_OUT","touchOut");i(Nt,"TOUCH_ROLL_OVER","touchRollOver");i(Nt,"TOUCH_ROLL_OUT","touchRollOut");i(Nt,"TOUCH_TAP","touchTap");i(Nt,"PROXIMITY_BEGIN","proximityBegin");i(Nt,"PROXIMITY_END","proximityEnd");i(Nt,"PROXIMITY_MOVE","proximityMove");i(Nt,"PROXIMITY_OUT","proximityOut");i(Nt,"PROXIMITY_OVER","proximityOver");i(Nt,"PROXIMITY_ROLL_OUT","proximityRollOut");i(Nt,"PROXIMITY_ROLL_OVER","proximityRollOver");const Rn=class extends W{constructor(e,t=!0,r=!1,a=void 0,n=void 0,h=null,l=!1,p=!1,w=!1,E=!1,C=0){super(e,t,r),i(this,"m_relatedObject"),i(this,"m_ctrlKey"),i(this,"m_altKey"),i(this,"m_shiftKey"),i(this,"m_buttonDown"),i(this,"m_delta"),i(this,"m_isRelatedObjectInaccessible"),i(this,"_localX",0),i(this,"_localY",0),this._localX=a,this._localY=n,this.m_relatedObject=h,this.m_ctrlKey=l,this.m_altKey=p,this.m_shiftKey=w,this.m_buttonDown=E,this.m_delta=C}clone(){return new Rn(this.type,this.bubbles,this.cancelable,this.localX,this.localY,this.m_relatedObject,this.m_ctrlKey,this.m_altKey,this.m_shiftKey,this.m_buttonDown,this.m_delta)}toString(){return this.formatToString("MouseEvent","type","bubbles","cancelable","eventPhase","localX","localY","stageX","stageY","relatedObject","ctrlKey","altKey","shiftKey","buttonDown","delta")}get localX(){return this._localX}set localX(e){this._localX=e}get localY(){return this._localY}set localY(e){this._localY=e}get relatedObject(){return this.m_relatedObject}set relatedObject(e){this.m_relatedObject=e}get ctrlKey(){return this.m_ctrlKey}set ctrlKey(e){this.m_ctrlKey=e}get altKey(){return this.m_altKey}set altKey(e){this.m_altKey=e}get shiftKey(){return this.m_shiftKey}set shiftKey(e){this.m_shiftKey=e}get buttonDown(){return this.m_buttonDown}set buttonDown(e){this.m_buttonDown=e}get delta(){return this.m_delta}set delta(e){this.m_delta=e}get stageX(){return isNaN(this.localX)||isNaN(this.localY)?Number.NaN:this.getStageX()}get stageY(){return isNaN(this.localX)||isNaN(this.localY)?Number.NaN:this.getStageY()}updateAfterEvent(){}getStageX(){return this.localX}getStageY(){return this.localY}get isRelatedObjectInaccessible(){return this.m_isRelatedObjectInaccessible}set isRelatedObjectInaccessible(e){this.m_isRelatedObjectInaccessible=e}get movementX(){return 0}set movementX(e){}get movementY(){return 0}set movementY(e){}};let B=Rn;i(B,"CLICK","click");i(B,"DOUBLE_CLICK","doubleClick");i(B,"MOUSE_DOWN","mouseDown");i(B,"MOUSE_MOVE","mouseMove");i(B,"MOUSE_OUT","mouseOut");i(B,"MOUSE_OVER","mouseOver");i(B,"MOUSE_UP","mouseUp");i(B,"RELEASE_OUTSIDE","releaseOutside");i(B,"MOUSE_WHEEL","mouseWheel");i(B,"ROLL_OUT","rollOut");i(B,"ROLL_OVER","rollOver");i(B,"MIDDLE_CLICK","middleClick");i(B,"MIDDLE_MOUSE_DOWN","middleMouseDown");i(B,"MIDDLE_MOUSE_UP","middleMouseUp");i(B,"RIGHT_CLICK","rightClick");i(B,"RIGHT_MOUSE_DOWN","rightMouseDown");i(B,"RIGHT_MOUSE_UP","rightMouseUp");i(B,"CONTEXT_MENU","contextMenu");class Pt{constructor(t=1,r=0,a=0,n=1,h=0,l=0){i(this,"a"),i(this,"b"),i(this,"c"),i(this,"d"),i(this,"tx"),i(this,"ty"),i(this,"t0"),i(this,"t1"),i(this,"t2"),i(this,"t3"),this.a=t,this.b=r,this.c=a,this.d=n,this.tx=h,this.ty=l}clone(){return new Pt(this.a,this.b,this.c,this.d,this.tx,this.ty)}concat(t){this.t0=this.a,this.a=this.a*t.a+this.b*t.c,this.b=this.t0*t.b+this.b*t.d,this.t0=this.c,this.c=this.c*t.a+this.d*t.c,this.d=this.t0*t.b+this.d*t.d,this.t0=this.tx,this.tx=this.tx*t.a+this.ty*t.c+t.tx,this.ty=this.t0*t.b+this.ty*t.d+t.ty}invert(){if(this.b===0&&this.c===0)this.a=1/this.a,this.d=1/this.d,this.tx*=-this.a,this.ty*=-this.d;else{var t=this.a*this.d-this.b*this.c;t===0?(this.a=this.d=1,this.b=this.c=0,this.tx=this.ty=0):(t=1/t,this.t0=this.a,this.t1=this.b,this.t2=this.c,this.t3=this.d,this.a=this.t3*t,this.b=-this.t1*t,this.c=-this.t2*t,this.d=this.t0*t,this.t0=-(this.b*this.tx+this.d*this.ty),this.tx=-(this.a*this.tx+this.c*this.ty),this.ty=this.t0)}}identity(){this.a=this.d=1,this.b=this.c=0,this.tx=this.ty=0}createBox(t,r,a=0,n=0,h=0){var l=Math.cos(a),p=Math.sin(a);this.a=l*t,this.b=p*r,this.c=-p*t,this.d=l*r,this.tx=n,this.ty=h}createGradientBox(t,r,a=0,n=0,h=0){this.createBox(t/1638.4,r/1638.4,a,n+t/2,h+r/2)}rotate(t){var r=Math.cos(t),a=Math.sin(t);this.t0=this.a,this.t1=this.c,this.t2=this.tx,this.a=r*this.a-a*this.b,this.b=a*this.t0+r*this.b,this.c=r*this.c-a*this.d,this.d=a*this.t1+r*this.d,this.tx=r*this.tx-a*this.ty,this.ty=a*this.t2+r*this.ty}translate(t,r){this.tx+=t,this.ty+=r}scale(t,r){this.a*=t,this.b*=r,this.c*=t,this.d*=r,this.tx*=t,this.ty*=r}deltaTransformPoint(t){return new Xt(this.a*t.x+this.c*t.y,this.d*t.y+this.b*t.x)}transformPoint(t){return new Xt(this.a*t.x+this.c*t.y+this.tx,this.d*t.y+this.b*t.x+this.ty)}toString(){return"(a="+this.a+", b="+this.b+", c="+this.c+", d="+this.d+", tx="+this.tx+", ty="+this.ty+")"}copyFrom(t){this.a=t.a,this.b=t.b,this.c=t.c,this.d=t.d,this.tx=t.tx,this.ty=t.ty}setTo(t,r,a,n,h,l){this.a=t,this.b=r,this.c=a,this.d=n,this.tx=h,this.ty=l}copyRowTo(t,r){switch(t){case 0:break;case 1:r.x=this.b,r.y=this.d,r.z=this.ty;break;case 2:case 3:r.x=0,r.y=0,r.z=1;break;default:r.x=this.a,r.y=this.c,r.z=this.tx}}copyColumnTo(t,r){switch(t){case 0:break;case 1:r.x=this.c,r.y=this.d,r.z=0;break;case 2:case 3:r.x=this.tx,r.y=this.ty,r.z=1;break;default:r.x=this.a,r.y=this.b,r.z=0}}copyRowFrom(t,r){switch(t){case 0:break;case 1:case 2:this.b=r.x,this.d=r.y,this.ty=r.z;break;default:this.a=r.x,this.c=r.y,this.tx=r.z}}copyColumnFrom(t,r){switch(t){case 0:break;case 1:case 2:this.b=r.x,this.d=r.y,this.ty=r.z;break;default:this.a=r.x,this.c=r.y,this.tx=r.z}}}class Ln extends Object{constructor(t){super(),i(this,"_matrix",new Pt),i(this,"_colorTransform",new Ae),i(this,"_concatenatedColorTransform",new Ae),i(this,"colorDirty",!0),i(this,"dirty",!0),i(this,"_concatenatedMatrix",new Pt),i(this,"invDirty",!0),i(this,"_invMatrix",new Pt),i(this,"_displayObject"),i(this,"ctor",r=>{this._displayObject=r}),i(this,"updateTransforms",()=>{this.dirty=!0,this.invDirty=!0}),i(this,"updateColorTransforms",()=>{this.colorDirty=!0}),t&&this.ctor(t)}get matrix(){return this._matrix}set matrix(t){this._matrix=t,this.updateTransforms()}get colorTransform(){return this._colorTransform}set colorTransform(t){this._colorTransform=t,this.updateColorTransforms()}get concatenatedMatrix(){return this.dirty&&(this._concatenatedMatrix.copyFrom(this.matrix),this._displayObject.parent&&this._concatenatedMatrix.concat(this._displayObject.parent.transform.concatenatedMatrix),this.dirty=!1),this._concatenatedMatrix}get concatenatedColorTransform(){return this.colorDirty&&(this._concatenatedColorTransform=this.cloneColorTransform(this._colorTransform),this._displayObject.parent&&this._concatenatedColorTransform.concat(this._displayObject.parent.transform.concatenatedColorTransform),this.colorDirty=!1),this._concatenatedColorTransform}cloneColorTransform(t){return new Ae(t.redMultiplier,t.greenMultiplier,t.blueMultiplier,t.alphaMultiplier,t.redOffset,t.greenOffset,t.blueOffset,t.alphaOffset)}get pixelBounds(){return null}get matrix3D(){return null}set matrix3D(t){}getRelativeMatrix3D(t){return null}get perspectiveProjection(){return null}set perspectiveProjection(t){}get invMatrix(){return this.invDirty&&(this._invMatrix.copyFrom(this.concatenatedMatrix),this._invMatrix.invert(),this.invDirty=!1),this._invMatrix}}class cr extends ur{constructor(t=4,r=4,a=1){super(),i(this,"maskFilter"),i(this,"_blurX",0),i(this,"_blurY",0),i(this,"_quality",1),i(this,"_isDirty",!0),this._blurX=t,this._blurY=r,this._quality=a,this.maskFilter=D.canvasKit.MaskFilter.MakeBlur(D.canvasKit.BlurStyle.Normal,Math.max(this._blurX,this._blurY),!1)}get blurX(){return this._blurX}set blurX(t){this._blurX=t,this._isDirty=!0}get blurY(){return this._blurY}set blurY(t){this._blurY=t,this._isDirty=!0}get quality(){return this._quality}set quality(t){this._quality=t,this._isDirty=!0}_applyFilter(t,r,a){this._isDirty&&(a.setMaskFilter(this.maskFilter),this._isDirty=!1)}}class Dn extends ur{constructor(t=4,r=45,a=0,n=1,h=4,l=4,p=1,w=1,E=!1,C=!1,O=!1){super(),i(this,"paint"),i(this,"_alpha",1),i(this,"_angle",0),i(this,"_blurX",0),i(this,"_blurY",0),i(this,"_color",0),i(this,"_distance",5),i(this,"_hideObject",!1),i(this,"_inner",!1),i(this,"_knockout",!1),i(this,"_quality",1),i(this,"_strength",1),i(this,"_blur"),this._distance=t,this._angle=r,this._color=a,this._alpha=n,this._blurX=h,this._blurY=l,this._strength=p,this._quality=w,this._inner=E==!0||E==1,this._knockout=C==!0||C==1,this._hideObject=O==!0||O==1;var N=Math.PI/180*r;this._offsetX=(t-1)*Math.cos(N),this._offsetY=(t-1)*Math.sin(N),this._blur=Math.max(h,l);let V=D.canvasKit.MaskFilter.MakeBlur(D.canvasKit.BlurStyle.Normal,this._blur,!1);this.paint=new D.canvasKit.Paint,this.paint.setStyle(D.canvasKit.PaintStyle.Fill),this.paint.setColor(D.renderer.getRGBAColor(a,n,new Ae)),this.paint.setMaskFilter(V)}get alpha(){return this._alpha}set alpha(t){this._alpha=t}get angle(){return this._angle}set angle(t){this._angle=t}get blurX(){return this._blurX}set blurX(t){this._blurX=t}get blurY(){return this._blurY}set blurY(t){this._blurY=t}get color(){return this._color}set color(t){this._color=t}get distance(){return this._distance}set distance(t){this._distance=t}get hideObject(){return this._hideObject}set hideObject(t){this._hideObject=t}get inner(){return this._inner}set inner(t){this._inner=t}get knockout(){return this._knockout}set knockout(t){this._knockout=t}get quality(){return this._quality}set quality(t){this._quality=t}get strength(){return this._strength}set strength(t){this._strength=t}get blur(){return this._blur}clone(){return null}_applyFilter(t,r){const a=D.canvasKit.Matrix.translated(this._offsetX+1,this._offsetY+1);t.concat(a),t.drawPath(r,this.paint);let n=D.canvasKit.Matrix.invert(a)||a;t.concat(n)}}class Jr extends ur{constructor(t=16711680,r=1,a=6,n=6,h=2,l=1,p=!1,w=!1){super(),i(this,"paint"),i(this,"_color"),i(this,"_alpha"),i(this,"_blurX"),i(this,"_blurY"),i(this,"_strength"),i(this,"_quality"),i(this,"_inner"),i(this,"_knockout"),i(this,"_blur"),i(this,"_rgba"),i(this,"_red"),i(this,"_green"),i(this,"_blue"),i(this,"origImage"),i(this,"copyData"),i(this,"copyCanvas"),i(this,"biggerCanvas"),i(this,"_applyFilter",(O,N)=>{this._inner,O.drawPath(N,this.paint)}),this._color=t,this._alpha=r,this._alpha<0&&(this._alpha=0),this._alpha>1&&(this._alpha=1),this._blurX=a,this._blurY=n,this._strength=h-1,this._quality=l,this._inner=p,this._knockout=w,this._red=t>>16&255,this._green=t>>8&255,this._blue=t&255,this._offsetX=this._offsetY=this._blur=Math.max(a,n);let E=D.canvasKit.BlurStyle.Normal;p&&(E=D.canvasKit.BlurStyle.Inner),w&&(E=D.canvasKit.BlurStyle.Outer);let C=D.canvasKit.MaskFilter.MakeBlur(E,this._blur,!1);this.paint=new D.canvasKit.Paint,this._inner&&this.paint.setStyle(D.canvasKit.PaintStyle.Stroke),this.paint.setColor(D.renderer.getRGBAColor(t,r,new Ae)),this.paint.setMaskFilter(C)}get alpha(){return this._alpha}set alpha(t){this._alpha=t}get blurX(){return this._blurX}set blurX(t){this._blurX=t,this._blur=Math.max(this.blurX,this.blurY),this._offsetX=this._offsetY=this._blur}get blurY(){return this._blurY}set blurY(t){this._blurY=t,this._blur=Math.max(this.blurX,this.blurY),this._offsetX=this._offsetY=this._blur}get color(){return this._color}set color(t){this._color=t,this._rgba="rgba("+(this.color>>16&255)+","+(this.color>>8&255)+","+(this.color&255)+","+this.alpha+")"}get inner(){return this._inner}set inner(t){this._inner=t}get knockout(){return this._knockout}set knockout(t){this._knockout=t}get quality(){return this._quality}set quality(t){this._quality=t}get strength(){return this._strength}set strength(t){this._strength=t}get blur(){return this._blur}get rgba(){return this._rgba}}const Di=class extends Ee{constructor(){super(),i(this,"_stage"),i(this,"_inited",!1),i(this,"_root"),i(this,"_off",!1),i(this,"innerID"),i(this,"_name"),i(this,"_rotation",0),i(this,"rsin",0),i(this,"rcos",1),i(this,"transform"),i(this,"_parent"),i(this,"_mask"),i(this,"_visible",!0),i(this,"_mouseEnabled",!0),i(this,"_doubleClickEnabled",!1),i(this,"lastMouseOverObj"),i(this,"_blendMode"),i(this,"_opaqueBackground",-1),i(this,"_clearColor",[0,0,0,0]),i(this,"_cacheAsBitmap",!1),i(this,"_parentCached",!1),i(this,"_loaderInfo"),i(this,"_filters",[]),i(this,"_filterOffsetX",0),i(this,"_filterOffsetY",0),i(this,"_blurFilter"),i(this,"offscreenCanvas"),i(this,"ocCTX"),i(this,"initDisplayObjectStage",()=>{this._inited||(this._blendMode=se.NORMAL,this.transform=new Ln(this),this.innerID=Di.ID++,this._name="instance"+this.innerID,this.innerID===0&&(Di._globalStage.setRoot(this),this._stage=Di._globalStage,this._stage.addEventListener(W.ENTER_FRAME,this.__enterFrame),this._stage.addEventListener(B.CLICK,this.__mouseevent),this._stage.addEventListener(B.CONTEXT_MENU,this.__mouseevent),this._stage.addEventListener(B.DOUBLE_CLICK,this.__mouseevent),this._stage.addEventListener(B.MOUSE_DOWN,this.__mouseevent),this._stage.addEventListener(B.MOUSE_MOVE,this.__mouseevent),this._stage.addEventListener(B.MOUSE_UP,this.__mouseevent),this._stage.addEventListener(B.MOUSE_WHEEL,this.__mouseevent),this._stage.addEventListener(Nt.TOUCH_BEGIN,this.__mouseevent),this._stage.addEventListener(Nt.TOUCH_END,this.__mouseevent),this._stage.addEventListener(Nt.TOUCH_MOVE,this.__mouseevent)),this._inited=!0)}),i(this,"globalToLocal",e=>this.transform.invMatrix.transformPoint(e)),i(this,"localToGlobal",e=>this.transform.concatenatedMatrix.transformPoint(e)),i(this,"getFullBounds",e=>{var t=Object(e).graphics,r=t&&t.bound?t.bound.clone():new Ht;r.width*=this.scaleX,r.height*=this.scaleY,r.x*=this.scaleX,r.y*=this.scaleY;var a=this._rotation>=180?this._rotation-180:this._rotation;if(a!=0){var n=a*(Math.PI/180),h=Math.round((r.height*Math.abs(Math.sin(n))+r.width*Math.abs(Math.cos(n)))*100)/100,l=Math.round((r.height*Math.abs(Math.cos(n))+r.width*Math.abs(Math.sin(n)))*100)/100;h=h>r.width?h-r.width:0,l=l>r.height?l-r.width:0,r.inflate(h/2,l/2)}return r.inflate(this.filterOffsetX,this.filterOffsetY),r}),i(this,"hitTestObject",e=>!1),i(this,"hitTestPoint",(e,t,r=!1)=>!1),i(this,"globalToLocal3D",e=>null),i(this,"local3DToGlobal",e=>null),i(this,"ApplyFilters",(e,t)=>{for(let r=0;r<this._filters.length;r++)this._filters[r]._applyFilter(e,null,t)}),i(this,"__enterFrame",e=>{if(D.dirtyGraphics&&this._stage.surface){D.dirtyGraphics=!1;var t=this.stage.skiaCanvas;t.clear(this._stage._clearColor),D.drawCounter=0,this.__update(t)}}),i(this,"__mouseevent",e=>{Qr();var t=this.__doMouse(e);if(Qr(),e.type===B.MOUSE_MOVE){for(var r=this.lastMouseOverObj;r&&r!=t;)r.dispatchEvent(new B(B.MOUSE_OUT,!1,!1,e.localX,e.localY,null,e.ctrlKey,e.altKey,e.shiftKey,e.buttonDown)),(!t||r instanceof Je&&!r.__containsNestedChild(t)||t&&r.hasEventListener(B.ROLL_OUT)&&!r.getBounds(r).containsRect(t.getBounds(t)))&&r.dispatchEvent(new B(B.ROLL_OUT,!1,!1,e.localX,e.localY,null,e.ctrlKey,e.altKey,e.shiftKey,e.buttonDown)),r=r.parent;if(t&&t!=r){var a=new B(B.MOUSE_OVER,!0,!1,e.localX,e.localY,null,e.ctrlKey,e.altKey,e.shiftKey,e.buttonDown),n=new B(B.ROLL_OVER,!0,!1,e.localX,e.localY,null,e.ctrlKey,e.altKey,e.shiftKey,e.buttonDown);t.dispatchEvent(a),t.dispatchEvent(n)}this.lastMouseOverObj=t}t&&t.dispatchEvent(e)}),i(this,"dispatchEvent",e=>{var t=super.dispatchEvent(e);return e.bubbles&&this.parent&&this.parent.dispatchEvent(e),t}),this._loaderInfo=new Fn,this._stage=Di._globalStage,this._stage&&this.initDisplayObjectStage()}static set initStage(e){Di._globalStage=e}get stage(){return Di._globalStage}set stage(e){window.TSAanimate_Stage=e,this._stage&&e!==null?this.dispatchEvent(new W(W.ADDED_TO_STAGE)):(D.dirtyGraphics=!0,this.dispatchEvent(new W(W.REMOVED_FROM_STAGE)))}get loaderInfo(){return this._loaderInfo}get root(){return this._root}get name(){return this._name}set name(e){this._name=e}get parent(){return this._parent}get mask(){return this._mask}set mask(e){this._mask&&this._mask!=e&&(this._mask.visible=!0),this._mask=e,e.graphics.lastPath.isMask=!0,e.visible=!1}get visible(){return this._visible}set visible(e){this._visible=e,this.updateTransforms()}get x(){return this.transform.matrix.tx}set x(e){this.transform.matrix.tx=e,this.updateTransforms()}get y(){return this.transform.matrix.ty}set y(e){this.transform.matrix.ty=e,this.updateTransforms()}get z(){return 0}set z(e){}get scaleX(){var e=this.transform.matrix;return this._rotation===0?e.a:Math.sqrt(e.a*e.a+e.b*e.b)}set scaleX(e){var t=this.transform.matrix;this._rotation===0?t.a=e:(t.a=this.rcos*e,t.b=this.rsin*e),this.updateTransforms()}get scaleY(){var e=this.transform.matrix;return this._rotation===0?e.d:Math.sqrt(e.c*e.c+e.d*e.d)}set scaleY(e){var t=this.transform.matrix;this._rotation===0?t.d=e:(t.c=-this.rsin*e,t.d=this.rcos*e),this.updateTransforms()}get scaleZ(){return 1}set scaleZ(e){}get mouseX(){return this.stage?this.transform.invMatrix.transformPoint(new Xt(this.stage.stageMouseX,this.stage.stageMouseY)).x:0}get mouseY(){return this.stage?this.transform.invMatrix.transformPoint(new Xt(this.stage.stageMouseX,this.stage.stageMouseY)).y:0}get rotation(){return this._rotation}set rotation(e){this._rotation=e>=360?e-360:e;var t=this.transform.matrix,r=e*Math.PI/180;this.rsin=Math.sin(r),this.rcos=Math.cos(r);var a=t.b===0?t.a:Math.sqrt(t.a*t.a+t.b*t.b),n=t.c===0?t.d:Math.sqrt(t.c*t.c+t.d*t.d);t.a=this.rcos*a,t.b=this.rsin*a,t.c=-this.rsin*n,t.d=this.rcos*n,this.updateTransforms()}get rotationX(){return 0}set rotationX(e){}get rotationY(){return 0}set rotationY(e){}get rotationZ(){return 0}set rotationZ(e){}updateTransforms(){this.transform.updateTransforms(),D.dirtyGraphics=!0}get alpha(){return this.transform.colorTransform.alphaMultiplier}set alpha(e){if(this.transform.colorTransform.alphaMultiplier=e,this.transform.updateColorTransforms(),this instanceof Je)for(var t=this.numChildren,r=0;r<t;r++){var a=this.getChildAt(r);a.transform.updateColorTransforms()}D.dirtyGraphics=!0}get width(){var e=this.getRect(this),t=this._rotation*(Math.PI/180);return e.width=Math.round((e.height*this.scaleY*Math.abs(Math.sin(t))+e.width*this.scaleX*Math.abs(Math.cos(t)))*10)/10,e?e.width:0}set width(e){this.scaleX=e/this.getRect(this).width}get height(){var e=this.getRect(this),t=this._rotation*(Math.PI/180);return e.height=Math.round((e.height*this.scaleY*Math.abs(Math.cos(t))+e.width*this.scaleX*Math.abs(Math.sin(t)))*10)/10,e?e.height:0}set height(e){this.scaleY=e/this.getRect(this).height}get cacheAsBitmap(){return this._cacheAsBitmap}set cacheAsBitmap(e){this._cacheAsBitmap=e}get opaqueBackground(){return this._opaqueBackground}set opaqueBackground(e){this._opaqueBackground=e,this._clearColor=D.canvasKit.Color(e>>16&255,e>>8&255,e&255,1)}get scrollRect(){return null}set scrollRect(e){}get filters(){return this._filters}set filters(e){this._filters=e;let t=!1;for(let r of this._filters)this._filterOffsetX=Math.max(r.offsetX,this._filterOffsetX),this._filterOffsetY=Math.max(r.offsetY,this._filterOffsetY),r instanceof cr&&(t=!0,this._blurFilter=r);t||(this._blurFilter=null)}get blendMode(){return this._blendMode}set blendMode(e){this._blendMode=e}get scale9Grid(){return null}set scale9Grid(e){}getBounds(e){var t=new Pt,r=new Ht;if(e&&e!=this){t=this.transform.concatenatedMatrix.clone();var a=e.transform.concatenatedMatrix.clone();a.invert(),t.concat(a)}if(this instanceof Je){var n=Object(this).graphics;if(n&&n.bound){var h=new Ht,l=n.bound.clone();l.__transform(h,t),r.__expand(h.x,h.y,h.width,h.height)}}return r}getRect(e){if(Object(e).bitmapData)return Object(e).bitmapData.rect;var t=Object(e).graphics;return t&&t.rect?t.rect.clone():new Ht}get metaData(){return null}set metaData(e){}get parentCached(){return this._parentCached}get filterOffsetX(){return this._filterOffsetX}get filterOffsetY(){return this._filterOffsetY}__update(e,t=0,r=0,a=[]){}__doMouse(e){return null}get tabEnabled(){return!0}set tabEnabled(e){}get tabIndex(){return 0}set tabIndex(e){}get focusRect(){return{}}set focusRect(e){}get mouseEnabled(){return this._mouseEnabled}set mouseEnabled(e){this._mouseEnabled=e}get doubleClickEnabled(){return this._doubleClickEnabled}set doubleClickEnabled(e){this._doubleClickEnabled=e}get softKeyboardInputAreaOfInterest(){return new Ht}set softKeyboardInputAreaOfInterest(e){}get needsSoftKeyboard(){return!1}set needsSoftKeyboard(e){}requestSoftKeyboard(){return!1}};let Mi=Di;i(Mi,"_globalStage");i(Mi,"ID",0);const Nn=class extends W{constructor(e,t=!1,r=!1,a=!1){super(e,t,r),i(this,"_activating"),this._activating=a}get activating(){return this._activating}set activating(e){this._activating=e}clone(){return new Nn(this.type,this.bubbles,this.cancelable,this.activating)}toString(){return this.formatToString("ActivityEvent","type","bubbles","cancelable","activating")}};let ne=Nn;i(ne,"ACTIVITY","activity");i(ne,"MOTION_DETECTED","motionDetected");i(ne,"MOTION_ENDED","motionEnded");const In=class extends W{constructor(e,t=!1,r=!1,a=""){super(e,t,r),i(this,"m_text"),this.m_text=a}get text(){return this.m_text}set text(e){this.m_text=e}clone(){var e=new In(this.type,this.bubbles,this.cancelable,this.m_text);return e.copyNativeData(this),e}toString(){return this.formatToString("TextEvent","type","bubbles","cancelable","eventPhase","text")}copyNativeData(e){}};let la=In;i(la,"LINK","link");i(la,"TEXT_INPUT","textInput");const kn=class extends la{constructor(e,t=!1,r=!1,a="",n=0){super(e,t,r,a),i(this,"m_errorID"),this.m_errorID=n}get errorID(){return this.m_errorID}clone(){return new kn(this.type,this.bubbles,this.cancelable,this.text,this.m_errorID)}toString(){return this.formatToString("ErrorEvent","type","bubbles","cancelable","eventPhase","text")}};let ua=kn;i(ua,"ERROR","error");class ca extends Object{constructor(){super()}}i(ca,"AT_TARGET",2);i(ca,"BUBBLING_PHASE",3);i(ca,"CAPTURING_PHASE",1);const Bn=class extends W{get isRelatedObjectInaccessible(){return!1}set isRelatedObjectInaccessible(e){}get keyCode(){return 0}set keyCode(e){}get relatedObject(){return null}set relatedObject(e){}get shiftKey(){return!1}set shiftKey(e){}clone(){return new Bn(this.type,this.bubbles,this.cancelable,this.relatedObject,this.shiftKey,this.keyCode)}constructor(e,t=!0,r=!1,a=null,n=!1,h=0){super(e,t,r)}};let xe=Bn;i(xe,"FOCUS_IN","focusIn");i(xe,"FOCUS_OUT","focusOut");i(xe,"KEY_FOCUS_CHANGE","keyFocusChange");i(xe,"MOUSE_FOCUS_CHANGE","mouseFocusChange");const Un=class extends W{constructor(e,t=!1,r=!1,a=0,n=!1){super(e,t,r),i(this,"m_status"),i(this,"m_responseHeaders"),i(this,"m_responseUrl"),i(this,"m_redirected"),this.m_status=a,this.m_redirected=n,this.m_responseHeaders=[]}clone(){var e=new Un(this.type,this.bubbles,this.cancelable,this.status,this.redirected);return e.responseURL=this.responseURL,e.responseHeaders=this.responseHeaders,e}toString(){return this.formatToString("HTTPStatusEvent","type","bubbles","cancelable","eventPhase","status","redirected","responseURL")}get status(){return this.m_status}get responseURL(){return this.m_responseUrl}set responseURL(e){this.m_responseUrl=e}get responseHeaders(){return this.m_responseHeaders}set responseHeaders(e){this.m_responseHeaders=e}get redirected(){return this.m_redirected}set redirected(e){this.m_redirected=e}};let da=Un;i(da,"HTTP_STATUS","httpStatus");i(da,"HTTP_RESPONSE_STATUS","httpResponseStatus");const Hn=class extends ua{constructor(e,t=!1,r=!1,a="",n=0){super(e,t,r,a,n)}clone(){return new Hn(this.type,this.bubbles,this.cancelable,this.text,this.errorID)}toString(){return this.formatToString("IOErrorEvent","type","bubbles","cancelable","eventPhase","text")}};let We=Hn;i(We,"IO_ERROR","ioError");i(We,"NETWORK_ERROR","networkError");i(We,"DISK_ERROR","diskError");i(We,"VERIFY_ERROR","verifyError");const Gn=class extends W{constructor(e,t=!0,r=!1,a=0,n=0,h=0,l=!1,p=!1,w=!1){super(e,t,r),i(this,"m_keyLocation"),i(this,"m_keyCode"),i(this,"m_ctrlKey"),i(this,"m_altKey"),i(this,"m_shiftKey"),this.charCode=a,this.keyCode=n,this.keyLocation=h,this.ctrlKey=l,this.altKey=p,this.shiftKey=w}clone(){return new Gn(this.type,this.bubbles,this.cancelable,this.charCode,this.keyCode,this.keyLocation,this.ctrlKey,this.altKey,this.shiftKey)}toString(){return this.formatToString("KeyboardEvent","type","bubbles","cancelable","eventPhase","charCode","keyCode","keyLocation","ctrlKey","altKey","shiftKey")}get charCode(){return 0}set charCode(e){}get keyCode(){return this.m_keyCode}set keyCode(e){this.m_keyCode=e}get keyLocation(){return this.m_keyLocation}set keyLocation(e){this.m_keyLocation=e}get ctrlKey(){return this.m_ctrlKey}set ctrlKey(e){this.m_ctrlKey=e}get altKey(){return this.m_altKey}set altKey(e){this.m_altKey=e}get shiftKey(){return this.m_shiftKey}set shiftKey(e){this.m_shiftKey=e}updateAfterEvent(){}};let De=Gn;i(De,"KEY_DOWN","keyDown");i(De,"KEY_UP","keyUp");const Wn=class extends W{constructor(e,t=!1,r=!1,a=null){super(e,t,r),i(this,"_info"),i(this,"clone",()=>new Wn(this.type,this.bubbles,this.cancelable,this.info)),i(this,"toString",()=>this.formatToString("NetStatusEvent","type","bubbles","cancelable","info")),this._info=a}get info(){return this._info}set info(e){this._info=e}};let gt=Wn;i(gt,"NET_STATUS","netStatus");const Kn=class extends W{constructor(e,t=!1,r=!1,a=0,n=0){super(e,t,r),i(this,"m_bytesLoaded"),i(this,"m_bytesTotal"),this.m_bytesLoaded=a,this.m_bytesTotal=n}clone(){return new Kn(this.type,this.bubbles,this.cancelable,this.m_bytesLoaded,this.m_bytesTotal)}toString(){return this.formatToString("ProgressEvent","type","bubbles","cancelable","eventPhase","bytesLoaded","bytesTotal")}get bytesLoaded(){return this.m_bytesLoaded}set bytesLoaded(e){this.m_bytesLoaded=e}get bytesTotal(){return this.m_bytesTotal}set bytesTotal(e){this.m_bytesTotal=e}};let Cs=Kn;i(Cs,"PROGRESS","progress");i(Cs,"SOCKET_DATA","socketData");const Vn=class extends ua{constructor(e,t=!1,r=!1,a="",n=0){super(e,t,r,a,n)}clone(){return new Vn(this.type,this.bubbles,this.cancelable,this.text,this.errorID)}toString(){return this.formatToString("SecurityErrorEvent","type","bubbles","cancelable","eventPhase","text")}};let jn=Vn;i(jn,"SECURITY_ERROR","securityError");const Xn=class extends W{constructor(e,t=!1,r=!1){super(e,t,r)}clone(){return new Xn(this.type,this.bubbles,this.cancelable)}toString(){return this.formatToString("TimerEvent","type","bubbles","cancelable","eventPhase")}updateAfterEvent(){}};let hi=Xn;i(hi,"TIMER","timer");i(hi,"TIMER_COMPLETE","timerComplete");class go extends W{constructor(t,r=!1,a=!1,n=null,h=null){super(t,r,a),i(this,"m_status"),i(this,"m_colorSpace"),i(this,"codecInfo"),this.m_status=n,this.m_colorSpace=h}get status(){return this.m_status}get colorSpace(){return this.m_colorSpace}}i(go,"RENDER_STATE","renderState");class Je extends Mi{constructor(){super(),i(this,"children",[]),i(this,"_childrenCached",!1),i(this,"_mouseChildren",!0),i(this,"hasFills",!1),i(this,"hasStrokes",!1),i(this,"addChild",t=>this.addChildAt(t,this.children.length)),i(this,"addChildAt",(t,r)=>{var a=this.children.indexOf(t);return a!=-1&&this.children.splice(a,1),this.children.splice(r,0,t),t.stage=this.stage,t._parent=this,t.dispatchEvent(new W(W.ADDED)),this.updateTransforms(),t}),i(this,"removeChild",t=>{var r=this.children.indexOf(t);return r!=-1?this.removeChildAt(r):t}),i(this,"removeChildAt",t=>{var r=this.children[t];return r&&(r._parent=null,r.stage=null),this.children.splice(t,1),this.updateTransforms(),r.dispatchEvent(new W(W.REMOVED)),r instanceof Je&&this.updateChildrenRemovedFromStage(r),r}),i(this,"updateChildrenRemovedFromStage",t=>{for(let r=0;r<t.numChildren;r++){let a=t.children[r];a&&(a instanceof Je&&this.updateChildrenRemovedFromStage(a),a.stage=null)}}),i(this,"getChildIndex",t=>this.children.indexOf(t)),i(this,"setChildIndex",(t,r)=>{this.removeChild(t),this.addChildAt(t,r)}),i(this,"getChildAt",t=>this.children[t]),i(this,"getChildByName",t=>{for(var r=this.children.length,a=0;a<r;a++){var n=this.children[a];if(n.name===t)return n}return null}),i(this,"getObjectsUnderPoint",t=>null),i(this,"areInaccessibleObjectsUnderPoint",t=>!1),i(this,"contains",t=>this.children.indexOf(t)!=-1),i(this,"swapChildrenAt",(t,r)=>{var a=this.children[t];this.children[t]=this.children[r],this.children[r]=a}),i(this,"swapChildren",(t,r)=>{this.swapChildrenAt(this.getChildIndex(t),this.getChildIndex(r))}),i(this,"removeChildren",(t=0,r=2147483647)=>{for(var a=Math.min(this.numChildren-1,t+r-1);a>=t;a--)this.removeChildAt(a)}),i(this,"stopAllMovieClips",()=>{}),i(this,"updateTransforms",()=>{super.updateTransforms();for(var t=this.children.length,r=0;r<t;r++){var a=this.children[r];a.updateTransforms()}}),i(this,"getBounds",t=>{for(var r=super.getBounds(t),a=this.children.length,n=0;n<a;n++){var h=this.children[n],l=h.getBounds(h);l.left+=h.x,l.right+=h.x,l.top+=h.y,l.bottom+=h.y,r=r.union(l)}return r}),i(this,"getRect",t=>{for(var r=super.getRect(t),a=this.children.length,n=0;n<a;n++){var h=this.children[n],l=h.getRect(h);l.left+=h.x,l.right+=h.x,l.top+=h.y,l.bottom+=h.y,r=r.union(l)}return r}),i(this,"getFullBounds",t=>{var r=super.getBounds(t);r.width*=this.scaleX,r.height*=this.scaleY,r.x*=this.scaleX,r.y*=this.scaleY;for(var a=this.children.length,n=0;n<a;n++){var h=this.children[n],l=h.getFullBounds(h);l.left+=h.x,l.right+=h.x,l.top+=h.y,l.bottom+=h.y,r=r.union(l)}return r.inflate(this.filterOffsetX,this.filterOffsetY),r}),i(this,"hitTestPoint",(t,r,a=!1)=>{var n=this.getBounds(this);return n?n.containsPoint(this.globalToLocal(new Xt(t,r))):!1}),i(this,"hitTestObject",t=>this.getRect(this.parent).containsRect(t.getRect(t.parent))),i(this,"__containsNestedChild",t=>{for(let r of this.children){if(r==t)return!0;if(r instanceof Je&&r.__containsNestedChild(t))return!0}return!1})}get numChildren(){return this.children.length}get tabChildren(){return!1}set tabChildren(t){}get mouseChildren(){return this._mouseChildren}set mouseChildren(t){this._mouseChildren=t}__update(t,r=0,a=0,n=[]){if(!this._off&&this.visible)for(var h=this.children.length,l=0;l<h;l++){var p=this.children[l];Object(p).graphics,p.__update(t,r,a,n)}}__doMouse(t){if(this.mouseEnabled&&this.visible)for(var r=this.children.length-1;r>=0;r--){var a=this.children[r].__doMouse(t);if(a)return a}return null}}class ki extends Object{constructor(){super()}}i(ki,"ALPHA",8);i(ki,"BLUE",4);i(ki,"GREEN",2);i(ki,"RED",1);const Ni=class{constructor(e,t,r=!0,a=4294967295){i(this,"__data"),i(this,"image"),i(this,"imageData"),i(this,"imageSource"),i(this,"_lock",!1),i(this,"ctx"),i(this,"_transparent"),i(this,"_fillColor"),i(this,"_width"),i(this,"_height"),this._transparent=r,this._fillColor=a,this.imageSource=document.createElement("canvas"),this.imageSource.width=this._width=e,this.imageSource.height=this._height=t,this.ctx=this.imageSource.getContext("2d",{willReadFrequently:!0}),this.imageData=this.ctx.getImageData(0,0,this.imageSource.width,this.imageSource.height),this.__data=this.imageData.data,this.fillRect(this.rect,a)}fromImage(e,t=0,r=0,a=0,n=0){this.ctx.drawImage(e,t,r),D.dirtyGraphics=!0,this.imageData=this.ctx.getImageData(0,0,this._width,this._height),this.__data=this.imageData.data,this.image=D.canvasKit.MakeImageFromCanvasImageSource(this.imageSource)}clone(){let e=new Ni(this.imageSource.width,this.imageSource.height,this._transparent,this._fillColor);return e.__data=this.__data,e.image=this.image,e}get width(){return this._width}get height(){return this._height}get transparent(){return this._transparent}get rect(){return new Ht(0,0,this._width,this._height)}getPixel(e,t){var r=(t*this._width+e)*4;return this.__data[r]<<16|this.__data[r+1]<<8|this.__data[r+2]}getPixel32(e,t){var r=(t*this.width+e)*4;return this.__data[r+3]<<24|this.__data[r]<<16|this.__data[r+1]<<8|this.__data[r+2]}setPixel(e,t,r){var a=(t*this._width+e)*4;this.__data[a]=r>>16&255,this.__data[a+1]=r>>8&255,this.__data[a+2]=r&255,this._lock||(this.ctx.putImageData(this.imageData,0,0),this.image=D.canvasKit.MakeImageFromCanvasImageSource(this.imageSource),D.dirtyGraphics=!0)}setPixel32(e,t,r){var a=(t*this._width+e)*4;this.__data[a]=r>>16&255,this.__data[a+1]=r>>8&255,this.__data[a+2]=r&255,this.__data[a+3]=r>>>24,this._lock||(this.ctx.putImageData(this.imageData,0,0),this.image=D.canvasKit.MakeImageFromCanvasImageSource(this.imageSource),D.dirtyGraphics=!0)}colorTransform(e,t){}compare(e){return null}copyChannel(e,t,r,a,n){}copyPixels(e,t,r,a=null,n=null,h=!1){this.lock();for(var l=0;l<t.width;l++)for(var p=0;p<t.height;p++)this.setPixel32(l+r.x,p+r.y,e.getPixel32(l+t.x,p+t.y));this.unlock()}dispose(){throw Error("dispose method not implemented yet")}draw(e,t=null,r=null,a=null,n=null,h=!1){this.drawWithQuality(e,t,r,a,n,h)}drawWithQuality(e,t=null,r=null,a=null,n=null,h=!1,l=null){if(e instanceof Ni){var p=e;this.fromImage(p.ctx)}}fillRect(e,t){this.lock();for(var r=0;r<this.height;++r)for(var a=0;a<this.width;++a)this.setPixel32(a,r,this.transparent?t:4278190080|t);this.unlock()}floodFill(e,t,r){}getColorBoundsRect(e,t,r=!0){return null}getPixels(e){return null}copyPixelsToByteArray(e,t){}getVector(e){return null}hitTest(e,t,r,a=null,n=1){return!1}merge(e,t,r,a,n,h,l){}noise(e,t=0,r=255,a=7,n=!1){this.lock();for(var h=0;h<this._height;++h)for(var l=0;l<this._width;++l)this.setPixel32(l,h,4278190080|16777215*Math.random());this.unlock()}paletteMap(e,t,r,a=null,n=null,h=null,l=null){}perlinNoise(e,t,r,a,n,h,l=7,p=!1,w=null){var E=this._width,C=this._height;if(!this._lock){var O=this._lock;this.lock()}this.fillRect(this.rect,4278190080);var N=[];l&ki.RED&&N.push([0,a]),l&ki.GREEN&&N.push([1,a+(p?0:5)]),l&ki.BLUE&&N.push([2,a+(p?0:10)]);for(var V=N.length,X=r,J=0,tt=1,nt=e,ct=t,Dt=.6;J+=tt,e=Number(e),t=Number(t),!(X<=0||e<=1||t<=1);)tt*=Dt,X--,e/=2,t/=2;for(e=nt,t=ct,tt=1,X=r;e=Number(e),t=Number(t),!(X<=0||e<=1||t<=1);){var At=0,pt=0;if(w){var St=w[r-X];St&&(At=Number(St.x/16),pt=Number(St.y/16))}for(var he=Math.ceil(E/e),Yt=Math.ceil(C/t),zt=0;zt<=Yt;zt++)for(var Gt=0;Gt<=he;Gt++)if(Gt!=0&&zt!=0)for(var re=0;re<V;re++){var we=N[re][0],Zt=N[re][1],ae=Ni.perm[(Gt-1+Zt+At)%16+(zt-1+Zt+pt)%16*16],Wt=Ni.perm[(Gt+Zt+At)%16+(zt-1+Zt+pt)%16*16],Kt=Ni.perm[(Gt-1+Zt+At)%16+(zt+Zt+pt)%16*16],Ds=Ni.perm[(Gt+Zt+At)%16+(zt+Zt+pt)%16*16],es=Gt*e;es>E&&(es=E);var is=zt*t;is>C&&(is=C);for(var Ns=(Gt-1)*e,Is=(zt-1)*t,Ui=Ns;Ui<es;Ui++){var Ke=(Ui-Ns)/e;Ke=Ke*Ke*(3-2*Ke);for(var _i=Is;_i<is;_i++){var oe=(_i-Is)/t;oe=oe*oe*(3-2*oe);var Ct=Wt*Ke+ae*(1-Ke),Ve=Ds*Ke+Kt*(1-Ke),gi=Ve*oe+Ct*(1-oe);this.__data[(Ui+_i*E)*4+we]+=gi*tt/J}}}X--,e/=2,t/=2,tt*=Dt}this._lock=O,this._lock||(this.ctx.putImageData(this.imageData,0,0),D.dirtyGraphics=!0)}pixelDissolve(e,t,r,a=0,n=0,h=0){return 0}scroll(e,t){}setPixels(e,t){}setVector(e,t){this.lock();for(var r=0;r<this._width;r++)for(var a=0;a<this._height;a++)this.setPixel(r,a,t[r+a*this._width]);this.unlock()}threshold(e,t,r,a,n,h=0,l=4294967295,p=!1){return 0}lock(){this._lock=!0}unlock(e=null){this._lock=!1,this.ctx.putImageData(this.imageData,0,0),this.image=D.canvasKit.MakeImageFromCanvasImageSource(this.imageSource),D.dirtyGraphics=!0}histogram(e=null){return null}encode(e,t,r=null){return null}};let Os=Ni;i(Os,"perm",[151,160,137,91,90,15,131,13,201,95,96,53,194,233,7,225,140,36,103,30,69,142,8,99,37,240,21,10,23,190,6,148,247,120,234,75,0,26,197,62,94,252,219,203,117,35,11,32,57,177,33,88,237,149,56,87,174,20,125,136,171,168,68,175,74,165,71,134,139,48,27,166,77,146,158,231,83,111,229,122,60,211,133,230,220,105,92,41,55,46,245,40,244,102,143,54,65,25,63,161,1,216,80,73,209,76,132,187,208,89,18,169,200,196,135,130,116,188,159,86,164,100,109,198,173,186,3,64,52,217,226,250,124,123,5,202,38,147,118,126,255,82,85,212,207,206,59,227,47,16,58,17,182,189,28,42,223,183,170,213,119,248,152,2,44,154,163,70,221,153,101,155,167,43,172,9,129,22,39,253,19,98,108,110,79,113,224,232,178,185,112,104,218,246,97,228,251,34,242,193,238,210,144,12,191,179,162,241,81,51,145,235,249,14,239,107,49,192,214,31,181,199,106,157,184,84,204,176,115,121,50,45,127,4,150,254,138,236,205,93,222,114,67,29,24,72,243,141,128,195,78,66,215,61,156,180]);class ui extends Mi{constructor(t=null,r="auto",a=!1){super(),i(this,"_bitmapData"),i(this,"getFullBounds",n=>this._bitmapData?this._bitmapData.rect:new Ht),i(this,"__doMouse",n=>this.visible&&this.hitTestPoint(this.stage.mouseX,this.stage.mouseY)?this:null),i(this,"hitTestPoint",(n,h,l=!1)=>{var p=new Ht(0,0,this.width*this.scaleX,this.height*this.scaleY),w=this.globalToLocal(new Xt(n,h));return p.containsPoint(w)}),this._bitmapData=t}get pixelSnapping(){return null}set pixelSnapping(t){}get smoothing(){return!1}set smoothing(t){}get bitmapData(){return this._bitmapData}set bitmapData(t){this._bitmapData=t,D.dirtyGraphics=!0}get cacheImage(){return this._bitmapData}__update(t,r=0,a=0,n=[]){if(!this._off&&this.visible&&this._bitmapData&&this._bitmapData.image){let l=this.transform.concatenatedMatrix,p;if(this.mask){var h=this.mask.transform.concatenatedMatrix;t.save(),this.mask.graphics.draw(t,h,se.NORMAL,new Ae,[]),p=this.mask.graphics.lastPath.path;let w=[h.a,h.c,h.tx,h.b,h.d,h.ty,0,0,1];p.transform(w),p.setFillType(D.canvasKit.FillType.Winding),t.clipPath(p,D.canvasKit.ClipOp.Intersect,!0);let E=D.canvasKit.Matrix.invert(w)||w;p.transform(E)}D.renderer.renderImage(t,this._bitmapData.image,l,this.blendMode,this.transform.concatenatedColorTransform),D.drawCounter++,this.mask&&t.restore()}}}class Yn extends Je{constructor(){super(),i(this,"_ldInfo"),i(this,"_ctx"),i(this,"image"),i(this,"xhr"),i(this,"onImageLoad",t=>{var r=new Os(this.image.width,this.image.height,!0,0);r.fromImage(this.image),this._ldInfo.content&&this._ldInfo.content.parent&&this._ldInfo.content.parent.removeChild(this._ldInfo.content),this._ldInfo.content=new ui(r),this.addChild(this._ldInfo.content),this._ldInfo.dispatchEvent(new W(W.COMPLETE))}),i(this,"onIOError",t=>{this._ldInfo.dispatchEvent(new We(We.IO_ERROR,!1,!1,t))}),this._ldInfo=new Fn}load(t,r=null){var a=t.url.toLowerCase(),n=a.substring(t.url.lastIndexOf(".")).toLowerCase();(n==".png"||n==".jpg"||n==".jpeg"||n==".webp"||a.indexOf(".jpg")!=-1||a.indexOf(".png")!=-1||a.indexOf(".jpeg")!=-1||a.indexOf(".webp")!=-1)&&(this.image&&this.image.removeEventListener("load",this.onImageLoad,!1),this.image=new Image,this.image.addEventListener("load",this.onImageLoad,!1),this.image.addEventListener("error",this.onIOError,!1),this.image.setAttribute("crossOrigin",""),this.image.src=t.url)}_getJPEGLoaderContextdeblockingfilter(t){return 0}loadBytes(t,r=null){}close(){this._close()}unload(){this._unload(!1,!1)}unloadAndStop(t=!0){this._unload(!0,t)}_unload(t,r){}_close(){}get content(){return this._ldInfo.content}get contentLoaderInfo(){return this._ldInfo}}class mo extends Ee{constructor(){super(),i(this,"xhr"),i(this,"load",t=>{var r=t.url;t.data&&t.data instanceof nr&&(r=r+"?"+JSON.stringify(t.data).replace(/:/g,"=").replace(/,/g,"&&").replace(/"/g,"").replace(/{/g,"").replace(/}/g,"")),this.xhr=new XMLHttpRequest,this.xhr.open("get",r,!0),this.xhr.responseType="arraybuffer",this.xhr.addEventListener("readystatechange",this.xhr_onreadystatechange,!1),this.xhr.addEventListener("error",this.xhr_error,!1),this.xhr.addEventListener("progress",this.xhr_progress,!1),this.xhr.send(t.data instanceof nr?"":t.data)}),i(this,"xhr_error",t=>{this.dispatchEvent(new We(We.IO_ERROR))}),i(this,"xhr_progress",t=>{this.dispatchEvent(new Cs(Cs.PROGRESS,!1,!1,t.loaded,t.total))}),i(this,"xhr_onreadystatechange",t=>{this.xhr.readyState===4&&this.xhr.status===200?this.dispatchEvent(new W(W.COMPLETE)):this.xhr.readyState===4&&this.xhr.status===404&&this.dispatchEvent(new We(We.IO_ERROR))}),i(this,"readBytes",(t,r=0,a=0)=>{})}readBoolean(){return!1}readByte(){return 0}readUnsignedByte(){return 0}readShort(){return 0}readUnsignedShort(){return 0}readUnsignedInt(){return 0}readInt(){return 0}readFloat(){return 0}readDouble(){return 0}readMultiByte(t,r){return null}readUTF(){return null}readUTFBytes(t){return null}get connected(){return!1}get bytesAvailable(){return 0}close(){}readObject(){return null}get objectEncoding(){return 0}set objectEncoding(t){}get endian(){return null}set endian(t){}get diskCacheEnabled(){return!1}get position(){return 0}set position(t){}get length(){return 0}stop(){}}class qi extends Object{constructor(){super()}}i(qi,"TEXT","text");i(qi,"BINARY","binary");i(qi,"VARIABLES","variables");class hr extends Object{constructor(){super()}}i(hr,"BIG_ENDIAN","bigEndian");i(hr,"LITTLE_ENDIAN","littleEndian");const ta=class{constructor(){i(this,"dataView"),i(this,"_endian",hr.BIG_ENDIAN),i(this,"isLittleEndian",!1),i(this,"_position",0),i(this,"_length",0),this.dataView=new DataView(new ArrayBuffer(0))}static get defaultObjectEncoding(){return 0}static set defaultObjectEncoding(e){}readBytes(e,t=0,r=0){e.position=t,e.writeBytes(this,this.position,r)}writeBytes(e,t=0,r=0){r===0&&(r=e.length-t),this.beforWrite(r),e.position=t;for(var a=0;a<r;a++)this.writeByte(e.readByte())}writeBoolean(e){this.beforWrite(1),this.dataView.setInt8(this._position,e?1:0),this._position++}writeByte(e){this.beforWrite(1),this.dataView.setInt8(this._position,e),this._position++}writeShort(e){this.beforWrite(2),this.dataView.setInt16(this._position,e,this.isLittleEndian),this._position+=2}writeInt(e){this.beforWrite(4),this.dataView.setInt32(this._position,e,this.isLittleEndian),this._position+=4}writeUnsignedInt(e){this.beforWrite(4),this.dataView.setUint32(this._position,e,this.isLittleEndian),this._position+=4}writeFloat(e){this.beforWrite(4),this.dataView.setFloat32(this._position,e,this.isLittleEndian),this._position+=4}writeDouble(e){this.beforWrite(8),this.dataView.setFloat64(this._position,e,this.isLittleEndian),this._position+=8}writeMultiByte(e,t){try{var r=new TextEncoder,a=r.encode(e)}catch{a=new Uint8Array(e.split("").map(function(l){return l.charCodeAt(0)}))}for(var n=0;n<a.length;n++)this.writeByte(a[n])}writeUTF(e){this._position+=2;var t=this._position;this.writeUTFBytes(e);var r=this._position;this._position=t-2,this.writeShort(t-r),this._position=r}writeUTFBytes(e){this.writeMultiByte(e,"utf-8")}readBoolean(){var e=this.dataView.getInt8(this._position)!=0;return this._position++,e}readByte(){var e=this.dataView.getInt8(this._position);return this._position++,e}readUnsignedByte(){var e=this.dataView.getUint8(this._position);return this._position++,e}readShort(){var e=this.dataView.getInt16(this._position,this.isLittleEndian);return this._position+=2,e}readUnsignedShort(){var e=this.dataView.getUint16(this._position,this.isLittleEndian);return this._position+=2,e}readInt(){var e=this.dataView.getInt32(this._position,this.isLittleEndian);return this._position+=4,e}readUnsignedInt(){var e=this.dataView.getUint32(this._position,this.isLittleEndian);return this._position+=4,e}readFloat(){var e=this.dataView.getFloat32(this._position,this.isLittleEndian);return this._position+=4,e}readDouble(){var e=this.dataView.getFloat64(this._position,this.isLittleEndian);return this._position+=8,e}readMultiByte(e,t){try{var r=new Uint8Array(e);r.set(new Uint8Array(ta._slice(this.dataView.buffer,this._position,this._position+e)));var a=new TextDecoder(t),n=a.decode(r)}catch{n="";for(var h=0;h<e;h++)n+=String.fromCharCode(this.dataView.getUint8(this._position+h))}return this._position+=e,n}readUTF(){return this.readUTFBytes(this.readUnsignedShort())}readUTFBytes(e){return this.readMultiByte(e,"utf-8")}get length(){return this._length}set length(e){this._length=e;var t=new Uint8Array(e);t.set(new Uint8Array(this.dataView.buffer.byteLength>e?ta._slice(this.dataView.buffer,0,e):this.dataView.buffer)),this.dataView=new DataView(t.buffer)}beforWrite(e){this._position+e>this.length&&(this.length=this._position+e)}writeObject(e){}readObject(){return null}deflate(){this._compress("deflate")}_compress(e){}compress(e="zlib"){this._compress(e)}inflate(){this._uncompress("deflate")}_uncompress(e){}uncompress(e="zlib"){this._uncompress(e)}toString(){return this._toString()}_toString(){return this.position=0,this.readUTFBytes(this.length)}get bytesAvailable(){return this.length-this.position}get position(){return this._position}set position(e){this._position=e}get objectEncoding(){return 0}set objectEncoding(e){}get endian(){return this._endian}set endian(e){this._endian=e,this.isLittleEndian=e===hr.LITTLE_ENDIAN}clear(){this.position=0,this.length=0}atomicCompareAndSwapIntAt(e,t,r){return 0}atomicCompareAndSwapLength(e,t){return 0}get shareable(){return!1}set shareable(e){}static _slice(e,t,r){try{var a=e.slice(t,r)}catch{r===0&&(r=e.byteLength),a=new ArrayBuffer(r-t);var n=new Uint8Array(a),h=new Uint8Array(e,t,r-t);n.set(h)}return a}};let zn=ta;i(zn,"_defaultObjectEncoding");class vo extends Ee{constructor(t=null){super(),i(this,"_data"),i(this,"_dataFormat","text"),i(this,"_bytesLoaded",0),i(this,"_bytesTotal",0),i(this,"stream"),i(this,"stream_ioError",r=>{this.dispatchEvent(r)}),i(this,"load",r=>{this.stream.load(r)}),i(this,"close",()=>{this.stream.close()}),i(this,"redirectEvent",r=>{this.dispatchEvent(r)}),i(this,"onComplete",r=>{var a=this.stream.xhr.response,n=new zn;switch(n.length=a.byteLength,n.dataView=new DataView(a),this._dataFormat){case qi.TEXT:this._data=n.toString();break;case qi.VARIABLES:n.length>0&&(this._data=new nr(n.toString()));break;default:this._data=n}this.dispatchEvent(r)}),i(this,"onProgress",r=>{this._bytesLoaded=r.bytesLoaded,this._bytesTotal=r.bytesTotal,this.dispatchEvent(r)}),this.stream=new mo,this.stream.addEventListener(W.OPEN,this.redirectEvent),this.stream.addEventListener(We.IO_ERROR,this.stream_ioError),this.stream.addEventListener(jn.SECURITY_ERROR,this.redirectEvent),this.stream.addEventListener(da.HTTP_STATUS,this.redirectEvent),this.stream.addEventListener(Cs.PROGRESS,this.onProgress),this.stream.addEventListener(W.COMPLETE,this.onComplete),t!=null&&this.load(t)}get data(){return this._data}set data(t){this._data=t}get dataFormat(){return this._dataFormat}set dataFormat(t){this._dataFormat=t}get bytesLoaded(){return this._bytesLoaded}set bytesLoaded(t){this._bytesLoaded=t}get bytesTotal(){return this._bytesTotal}set bytesTotal(t){this._bytesTotal=t}}class or extends Object{constructor(t=null){super(),i(this,"_url"),i(this,"_data",{}),t!=null&&(this.url=t),this.requestHeaders=[]}get url(){return this._url}set url(t){this._url=t}get data(){return this._data}set data(t){this._data=t}get method(){return null}set method(t){}setMethod(t){}get contentType(){return null}set contentType(t){}get requestHeaders(){return null}set requestHeaders(t){}setRequestHeaders(t){}filterRequestHeaders(t,r,a){return!0}get digest(){return null}set digest(t){}useRedirectedURL(t,r=!1,a=null,n=null){}shouldFilterHTTPHeader(t){return!1}}i(or,"kInvalidParamError",2004);class yo extends Ee{constructor(t){super(),i(this,"queue",[]),i(this,"ld"),i(this,"urlLD"),i(this,"queueItem"),i(this,"load",()=>{if(this.queue.length>0){this.queueItem=this.queue.shift()||"";var r=this.queueItem.substr(this.queueItem.lastIndexOf(".")).toLowerCase();if(r==".ttf"||r==".woff"||r==".woff2"){var a=this.queueItem.replace(/_/g," "),n=a.lastIndexOf("/");n!=0&&(n+=1),a=a.substring(n,a.lastIndexOf(".")),fetch(this.queueItem).then(l=>{l.arrayBuffer().then(p=>{this.fontLoaded(p,a)})})}else if(r==".mp3"||r==".wav"||r==".mp4"||r==".webm"){var h=new or(this.queueItem);this.urlLD.dataFormat=qi.BINARY,this.urlLD.load(h)}else h=new or(this.queueItem),this.ld.load(h)}else this.dispatchEvent(new W(W.COMPLETE))}),i(this,"loadComplete",r=>{var a=r.currentTarget,n=this.queueItem;n=n.substring(n.lastIndexOf("/")+1);var h=n.substring(n.lastIndexOf(".")),l=n.substring(n.lastIndexOf(".")).toLowerCase();if(n=n.replace(h,""),l==".png"||l==".jpg"||l==".webp"){var p=a.content;D.images[n]=p.bitmapData}else(l==".mp3"||l==".wav")&&(D.sounds[n]=this.urlLD.data);this.load()}),i(this,"fontError",r=>{r&&console.log("Failed to load font: "+r.message)}),i(this,"fontLoaded",(r,a)=>{r&&(D.fonts[a]=r),this.load()}),this.queue=t,this.ld=new Yn,this.ld.contentLoaderInfo.addEventListener(W.COMPLETE,this.loadComplete),this.urlLD=new vo,this.urlLD.addEventListener(W.COMPLETE,this.loadComplete)}}class Ii extends Object{constructor(t=null,r=null,a=!0,n=!1){super(),i(this,"paint"),i(this,"graphicType","FILL"),i(this,"path"),i(this,"bitmapData"),i(this,"matrix"),i(this,"repeat"),i(this,"smooth"),i(this,"pattern"),this.bitmapData=t,this.matrix=r,this.repeat=a,this.smooth=n}draw(t,r){!this.pattern&&this.bitmapData&&(this.pattern=t.createPattern(this.bitmapData.imageSource,this.repeat?"repeat":"no-repeat")),t.fillStyle=this.pattern}skiaDraw(t,r,a){}}class wn extends Object{constructor(){super(),i(this,"paint"),i(this,"path"),i(this,"fill"),i(this,"graphicType","FILL"),i(this,"_worldMatrix",new Pt)}draw(t,r){if(this.fill){if(this.fill instanceof Ii){var a=this.fill;if(a.matrix)var n=a.matrix;t.globalAlpha=r.alphaMultiplier}else t.globalAlpha=1;n&&(t.save(),t.transform(n.a,n.b,n.c,n.d,n.tx,n.ty)),t.fill(),n&&t.restore()}}skiaDraw(t,r,a){}}class Vr{constructor(t,r,a){i(this,"data"),i(this,"data32PerVertex"),i(this,"buff"),i(this,"usage"),i(this,"dirty",!0),this.usage=a,this.data32PerVertex=r,this.data=t}getBuff(t){return this.buff==null&&(this.buff=t.createVertexBuffer(this.data.length/this.data32PerVertex,this.data32PerVertex),this.buff.gl.bindBuffer(this.buff.gl.ARRAY_BUFFER,this.buff.buff),this.buff.gl.bufferData(this.buff.gl.ARRAY_BUFFER,this.data,this.usage),this.dirty=!1,this.buff.dirty=!0),this.dirty&&(this.buff.gl.bindBuffer(this.buff.gl.ARRAY_BUFFER,this.buff.buff),this.buff.gl.bufferSubData(this.buff.gl.ARRAY_BUFFER,0,this.data),this.dirty=!1,this.buff.dirty=!0),this.buff}}class qn{constructor(t,r){i(this,"buff"),i(this,"usage"),i(this,"dirty",!0),i(this,"data"),this.usage=r,this.data=t}getBuff(t){return this.buff==null&&(this.buff=t.createIndexBuffer(this.data.length),this.buff.gl.bindBuffer(this.buff.gl.ELEMENT_ARRAY_BUFFER,this.buff.buff),this.buff.gl.bufferData(this.buff.gl.ELEMENT_ARRAY_BUFFER,this.data,this.usage),this.dirty=!1),this.dirty&&(this.buff.gl.bindBuffer(this.buff.gl.ELEMENT_ARRAY_BUFFER,this.buff.buff),this.buff.gl.bufferSubData(this.buff.gl.ELEMENT_ARRAY_BUFFER,0,this.data),this.dirty=!1),this.buff}}class Eo{constructor(t,r,a,n){i(this,"pos"),i(this,"uv"),i(this,"_color"),i(this,"usage"),i(this,"index"),i(this,"numTriangles",-1),this.usage=n,t&&(this.pos=new Vr(t,2,n)),r&&(this.uv=new Vr(r,2,n)),a&&(this.index=new qn(a,n))}get color(){return(this._color==null||this._color.data.length!=this.pos.data.length/2)&&(this._color=new Vr(new Uint32Array(this.pos.data.length/2),4,this.usage)),this._color}set color(t){this._color=t}}class Mt extends Object{constructor(){super()}}i(Mt,"NO_OP",0);i(Mt,"MOVE_TO",1);i(Mt,"LINE_TO",2);i(Mt,"CURVE_TO",3);i(Mt,"WIDE_MOVE_TO",4);i(Mt,"WIDE_LINE_TO",5);i(Mt,"CUBIC_CURVE_TO",6);i(Mt,"ARC",7);i(Mt,"CLOSE_PATH",8);i(Mt,"DRAW_TRIANGLES",9);class jr extends Object{constructor(t=null,r=null,a="evenOdd"){super(),i(this,"paint"),i(this,"path"),i(this,"isMask",!1),i(this,"graphicType","PATH"),i(this,"pathDirty",!1),i(this,"commands",[]),i(this,"data",[]),i(this,"tris",[]),i(this,"_winding"),i(this,"clear",()=>{this.commands.length=0,this.data.length=0,this.tris.length=0,this.pathDirty=!0}),i(this,"moveTo",(n,h)=>{this.commands.push(Mt.MOVE_TO),this.data.push(n,h),this.pathDirty=!0}),i(this,"lineTo",(n,h)=>{this.commands.push(Mt.LINE_TO),this.data.push(n,h),this.pathDirty=!0}),i(this,"curveTo",(n,h,l,p)=>{this.commands.push(Mt.CURVE_TO),this.data.push(n,h,l,p),this.pathDirty=!0}),i(this,"cubicCurveTo",(n,h,l,p,w,E)=>{this.commands.push(Mt.CUBIC_CURVE_TO),this.data.push(n,h,l,p,w,E),this.pathDirty=!0}),i(this,"wideLineTo",(n,h)=>{this.commands.push(Mt.WIDE_LINE_TO),this.data.push(0,0,n,h),this.pathDirty=!0}),i(this,"wideMoveTo",(n,h)=>{this.commands.push(Mt.WIDE_MOVE_TO),this.data.push(0,0,n,h),this.pathDirty=!0}),i(this,"arc",(n,h,l,p,w)=>{this.commands.push(Mt.ARC),this.data.push(n,h,l,p,w),this.pathDirty=!0}),i(this,"draw",(n,h)=>{if(this.commands.length){n.beginPath();for(var l=0,p=0,w=this.commands.length,E=0;E<w;E++){var C=this.commands[E];switch(C){case Mt.MOVE_TO:n.moveTo(this.data[l++],this.data[l++]);break;case Mt.LINE_TO:n.lineTo(this.data[l++],this.data[l++]);break;case Mt.CURVE_TO:n.quadraticCurveTo(this.data[l++],this.data[l++],this.data[l++],this.data[l++]);break;case Mt.CUBIC_CURVE_TO:n.bezierCurveTo(this.data[l++],this.data[l++],this.data[l++],this.data[l++],this.data[l++],this.data[l++]);break;case Mt.WIDE_MOVE_TO:l+=2,n.moveTo(this.data[l++],this.data[l++]);break;case Mt.WIDE_LINE_TO:l+=2,n.lineTo(this.data[l++],this.data[l++]);break;case Mt.ARC:n.arc(this.data[l++],this.data[l++],this.data[l++],this.data[l++],this.data[l++]);break;case Mt.DRAW_TRIANGLES:this.doDrawTriangles(this.tris[p++],n);break;case Mt.CLOSE_PATH:n.closePath();break}}}}),i(this,"skiaDraw",(n,h,l)=>{if(this.pathDirty&&this.commands.length){this.path.reset(),this.pathDirty=!1;for(var p=0,w=this.commands.length,E=0;E<w;E++){var C=this.commands[E];switch(C){case Mt.MOVE_TO:this.path.moveTo(this.data[p++],this.data[p++]);break;case Mt.LINE_TO:this.path.lineTo(this.data[p++],this.data[p++]);break;case Mt.CURVE_TO:this.path.quadTo(this.data[p++],this.data[p++],this.data[p++],this.data[p++]);break;case Mt.CUBIC_CURVE_TO:this.path.cubicTo(this.data[p++],this.data[p++],this.data[p++],this.data[p++],this.data[p++],this.data[p++]);break;case Mt.WIDE_MOVE_TO:p+=2,this.path.moveTo(this.data[p++],this.data[p++]);break;case Mt.WIDE_LINE_TO:p+=2,this.path.lineTo(this.data[p++],this.data[p++]);break;case Mt.ARC:this.path.arc(this.data[p++],this.data[p++],this.data[p++],this.data[p++],this.data[p++]);break;case Mt.CLOSE_PATH:this.path.close();break}}}}),i(this,"closePath",()=>{this.commands.push(Mt.CLOSE_PATH),this.pathDirty=!0}),i(this,"drawTriangles",(n,h,l)=>{this.tris.push([n,h,l]),this.commands.push(Mt.DRAW_TRIANGLES),this.pathDirty=!0}),i(this,"doDrawTriangles",(n,h)=>{for(var l=n[0],p=n[1],w=p.length,E=0;E<w;){var C=p[E++],O=p[E++],N=p[E++],V=l[2*C],X=l[2*C+1],J=l[2*O],tt=l[2*O+1],nt=l[2*N],ct=l[2*N+1];h.moveTo(V,X),h.lineTo(J,tt),h.lineTo(nt,ct),h.lineTo(V,X)}}),this.commands=t,this.data=r,this.commands==null&&(this.commands=[]),this.data==null&&(this.data=[]),this._winding=a,this.path=new D.canvasKit.Path}get winding(){return this._winding}set winding(t){this._winding=t}}class wo{constructor(t){i(this,"_canvasKit"),i(this,"getRGBAColor",(r,a,n)=>this._canvasKit.Color((r>>16&255)*n.redMultiplier+n.redOffset,(r>>8&255)*n.greenMultiplier+n.greenOffset,(r&255)*n.greenMultiplier+n.greenOffset,a*n.alphaMultiplier+n.alphaOffset)),this._canvasKit=t}getCssColor(t,r,a,n){throw new Error("Method not implemented.")}renderGraphics(t,r,a,n,h,l,p=!1){let w,E,C;for(var O=r.length,N=0;N<O;N++){var V=r[N];if(V.skiaDraw(t,h,a),V.graphicType=="FILL"&&(E=V),V.graphicType=="STROKE"&&(C=V),V.graphicType=="PATH"){let X=[a.a,a.c,a.tx,a.b,a.d,a.ty,0,0,1];V.path.transform(X);for(let tt=0;tt<l.length;tt++)l[tt]instanceof cr?w=l[tt]:(l[tt].knockout&&(E&&E.paint.setBlendMode(D.canvasKit.BlendMode.Dst),C&&C.paint.setBlendMode(D.canvasKit.BlendMode.Dst)),l[tt].inner&&(E&&E.paint.setBlendMode(D.canvasKit.BlendMode.DstOver),C&&C.paint.setBlendMode(D.canvasKit.BlendMode.Src)),l[tt]._applyFilter(t,V.path));E&&E.paint&&(w&&w._applyFilter(t,null,E.paint),t.drawPath(V.path,E.paint)),C&&C.paint&&(w&&w._applyFilter(t,null,C.paint),t.drawPath(V.path,C.paint));let J=this._canvasKit.Matrix.invert(X)||X;V.path.transform(J)}}}renderImage(t,r,a,n,h,l,p){let w=[a.a,a.c,a.tx,a.b,a.d,a.ty,0,0,1];t.concat(w),t.drawImageOptions(r,0,0,D.canvasKit.FilterMode.Linear,D.canvasKit.MipmapMode.Linear);let E=this._canvasKit.Matrix.invert(w)||w;t.concat(E)}renderVideo(t,r,a,n,h,l,p){throw new Error("Method not implemented.")}renderText(t,r,a,n,h,l,p,w,E){let C=[h.a,h.c,h.tx,h.b,h.d,h.ty,0,0,1];t.concat(C),t.drawText(r,0,0,a,n);let O=this._canvasKit.Matrix.invert(C)||C;t.concat(O)}renderParagraph(t,r,a,n,h){let l=[a.a,a.c,a.tx,a.b,a.d,a.ty,0,0,1];t.concat(l),t.drawParagraph(r,2,1);let p=this._canvasKit.Matrix.invert(l)||l;t.concat(p)}}class fa extends Object{constructor(){super()}}i(fa,"ROUND","round");i(fa,"NONE","none");i(fa,"SQUARE","square");class ue extends Object{constructor(){super()}}i(ue,"LINEAR","linear");i(ue,"RADIAL","radial");class si extends Object{constructor(t="linear",r=null,a=null,n=null,h=null,l=null,p="pad",w="rgb",E=0){super(),i(this,"paint"),i(this,"graphicType","FILL"),i(this,"path"),i(this,"colors"),i(this,"alphas"),i(this,"ratios"),i(this,"matrix"),i(this,"focalPointRatio"),i(this,"_shader"),i(this,"_type"),i(this,"_bounds"),i(this,"_spreadMethod"),i(this,"_tileMode"),i(this,"_interpolationMethod"),i(this,"_startPoint"),i(this,"_endPoint"),i(this,"_radius1",0),i(this,"_radius2",0),i(this,"_convertedColors"),i(this,"_convertedRatios"),i(this,"_colorTransform"),i(this,"_isDirty",!0),i(this,"skiaDraw",(O,N,V)=>{let X=[V.a,V.c,V.tx,V.b,V.d,V.ty,0,0,1];(this._isDirty||this.colorsChanged(N))&&(this._colorTransform=this._colorTransform,this.type===ue.LINEAR?this._shader=D.canvasKit.Shader.MakeLinearGradient([this._startPoint.x,this._startPoint.y],[this._endPoint.x,this._endPoint.y],this.getShaderColors(),this._convertedRatios,this._tileMode,X):this._shader=D.canvasKit.Shader.MakeRadialGradient([this._startPoint.x,this._startPoint.y],this._radius2>=this._radius1?this._radius2/2:this._radius1/2,this.getShaderColors(),this._convertedRatios,this._tileMode,X)),this.paint.setShader(this._shader),this._isDirty=!1}),this._type=t,this.colors=r,this.alphas=a,this.ratios=n,this._bounds=h||new Ht,this.matrix=l,this._spreadMethod=p,this._interpolationMethod=w,this.focalPointRatio=E,this._colorTransform=new Ae,this.paint=new D.canvasKit.Paint,this.paint.setAntiAlias(!0),this._tileMode=p=="pad"?D.canvasKit.TileMode.Clamp:p=="repeat"?D.canvasKit.TileMode.Repeat:D.canvasKit.TileMode.Mirror,this._convertedRatios=[];for(var C=0;C<n.length;C++)this._convertedRatios.push(n[C]/255);this.transformGradient()}getShaderColors(){let t=[];for(var r=0;r<this.colors.length;r++){var a=D.renderer.getRGBAColor(this.colors[r],this.alphas[r],this._colorTransform);t.push(a)}return t}transformGradient(){if(this.matrix){var t=this.decompose_2d_matrix(this.matrix),r=t.scale.x,a=t.scale.y,n=t.rotation,h=r*1638.4,l=a*1638.4,p=new Ht(t.translation[0]-h/2,t.translation[1]-l/2,h,l),w=new Xt((p.topLeft.x+p.bottomRight.x)/2,(p.topLeft.y+p.bottomRight.y)/2);this.type==ue.LINEAR?(this._startPoint=new Xt(p.topLeft.x,(p.topLeft.y+p.bottomRight.y)/2),this._endPoint=new Xt(p.bottomRight.x,(p.topLeft.y+p.bottomRight.y)/2),this._startPoint=this.getRotatedRectPoint(n,this._startPoint,w),this._endPoint=this.getRotatedRectPoint(n,this._endPoint,w)):(this._startPoint=w,this._endPoint=w,this._radius1=Math.abs(h),this._radius2=Math.abs(l),this.getRotatedRectPoint(n,new Xt(this._radius1,this._radius2),w))}else this.type==ue.LINEAR?(this._startPoint=new Xt(this._bounds.topLeft.x,this._bounds.bottomRight.y/2),this._endPoint=new Xt(this._bounds.bottomRight.x,this._bounds.bottomRight.y/2)):(this._startPoint=this._endPoint=new Xt(this.bounds.x+this.bounds.width/2,this.bounds.y+this.bounds.height/2),this._radius2=this.bounds.width)}getRotatedRectPoint(t,r,a=null,n=1,h=1){var l=a?a.x:0,p=a?a.y:0,w=new Pt(1,0,0,1,r.x-l,r.y-p);return w.scale(n,h),w.rotate(t),new Xt(w.tx+l,w.ty+p)}decompose_2d_matrix(t){var r=t.a,a=t.b,n=t.c,h=t.d,l=t.tx,p=t.ty,w=r*h-a*n,E={translation:new Array(l,p),rotation:0,scale:{x:0,y:0},skew:new Array(0,0)};if(r!=0||a!=0){var C=Math.sqrt(r*r+a*a);E.rotation=a>0?Math.acos(r/C):-Math.acos(r/C),E.scale.x=C,E.scale.y=w/C,E.skew=[Math.atan((r*n+a*h)/(C*C)),0]}else if(n!=0||h!=0){var O=Math.sqrt(n*n+h*h);E.rotation=Math.PI/2-(h>0?Math.acos(-n/O):-Math.acos(n/O)),E.scale.x=w/O,E.scale.y=O,E.skew=[0,Math.atan((r*n+a*h)/(O*O))]}return E}colorsChanged(t){return!(this._colorTransform.alphaMultiplier===t.alphaMultiplier&&this._colorTransform.alphaOffset===t.alphaOffset&&this._colorTransform.blueMultiplier===t.blueMultiplier&&this._colorTransform.blueOffset===t.blueOffset&&this._colorTransform.greenMultiplier===t.greenMultiplier&&this._colorTransform.greenOffset===t.greenOffset&&this._colorTransform.redMultiplier===t.redMultiplier&&this._colorTransform.redOffset===t.redOffset&&this._colorTransform.tint===t.tint)}get type(){return this._type}set type(t){this._type=t}get spreadMethod(){return this._spreadMethod}set spreadMethod(t){this._spreadMethod=t}get interpolationMethod(){return this._interpolationMethod}set interpolationMethod(t){this._interpolationMethod=t}get bounds(){return this._bounds}set bounds(t){this._bounds=t,this.transformGradient()}get shader(){return this._shader}get startPoint(){return this._startPoint}get endPoint(){return this._endPoint}draw(t,r){}}class ni extends Object{constructor(t=0,r=1){super(),i(this,"color",0),i(this,"alpha",1),i(this,"_glcolor",[]),i(this,"paint"),i(this,"path"),i(this,"graphicType","FILL"),i(this,"rgba"),this.color=t,this.alpha=r,this.paint=new D.canvasKit.Paint,this.paint.setAntiAlias(!0),this.rgba=D.renderer.getRGBAColor(this.color,this.alpha,new Ae),this.paint.setColor(this.rgba)}draw(t,r){t.fillStyle=D.renderer.getCssColor(this.color,this.alpha,r,null).toString()}skiaDraw(t,r,a){var n=D.renderer.getRGBAColor(this.color,this.alpha,r);this.rgba!=n&&this.paint.setColor(n)}}class Es extends Object{constructor(t=NaN,r=!1,a="normal",n="none",h="round",l=3,p=null){super(),i(this,"graphicType","STROKE"),i(this,"paint"),i(this,"path"),i(this,"thickness"),i(this,"pixelHinting"),i(this,"miterLimit"),i(this,"_caps"),i(this,"_joints"),i(this,"_scaleMode"),i(this,"_fill"),this.thickness=t,this.pixelHinting=r,this._caps=n=="none"?"butt":n,this._joints=h,this.miterLimit=l,this._scaleMode=a,this._fill=p||new ni(0,1),this.paint=this.fill.paint,this.paint.setColor(D.canvasKit.Color(0,0,0,0)),this.paint.setStyle(D.canvasKit.PaintStyle.Stroke),this.paint.setStrokeWidth(t),this.paint.setStrokeCap(D.canvasKit.StrokeCap.Square),this.paint.setAntiAlias(!0)}get fill(){return this._fill}set fill(t){this._fill=t,this.paint=this._fill.paint,this.paint.setStyle(D.canvasKit.PaintStyle.Stroke),this.paint.setStrokeWidth(this.thickness),this.paint.setStrokeCap(D.canvasKit.StrokeCap.Square)}get caps(){return this._caps}set caps(t){this._caps=t}get joints(){return this._joints}set joints(t){this._joints=t}get scaleMode(){return this._scaleMode}set scaleMode(t){this._scaleMode=t}draw(t,r){if(isNaN(this.thickness))t.lineJoin=this._joints,t.stroke();else if(t.lineWidth=this.thickness,this.fill instanceof ni){var a=this.fill;t.lineCap=this._caps,t.lineJoin=this._joints,t.miterLimit=this.miterLimit,t.strokeStyle=D.renderer.getCssColor(a.color,a.alpha,r,null).toString()}else if(this.fill instanceof si){var n=this.fill;n.draw(t,r),t.lineCap=this._caps,t.lineJoin=this._joints,t.miterLimit=this.miterLimit}}skiaDraw(t,r,a){if(this._fill instanceof ni){var n=this._fill,h=D.renderer.getRGBAColor(n.color,n.alpha,r);this.paint.setColor(h)}else this._fill.skiaDraw(t,r,a)}}class Tn extends Object{constructor(t=null,r=null,a=null,n="none"){super(),i(this,"paint"),i(this,"graphicType","PATH"),i(this,"path"),i(this,"indices"),i(this,"vertices"),i(this,"uvtData"),i(this,"_culling"),this.vertices=t,this.indices=r,this.uvtData=a,this._culling=n}get culling(){return this._culling}set culling(t){this._culling=t}draw(t,r){console.log("tripath")}skiaDraw(t,r,a){}}class dr extends Object{constructor(){super(),i(this,"graphicsData",[]),i(this,"gradientFills",new Array),i(this,"lastStroke"),i(this,"lastFill"),i(this,"pathPool",[]),i(this,"pathPoolPos",0),i(this,"lastPath"),i(this,"lastHalfThickness",0),i(this,"_bound"),i(this,"_rect"),i(this,"lockBound",!1),i(this,"_worldMatrix",new Pt),i(this,"clear",()=>{this.lastStroke=null,this.lastPath=null,this.pathPoolPos=0,this.graphicsData=[],this._bound=null,D.dirtyGraphics=!0}),i(this,"beginFill",(t,r=1)=>{this.endStrokAndFill(),this.lastFill=new ni(t,r),this.graphicsData.push(this.lastFill)}),i(this,"beginGradientFill",(t,r,a,n,h=null,l="pad",p="rgb",w=0)=>{this.endStrokAndFill(),this.lastFill=new si(t,r,a,n,this._bound,h,l,p,w),this.graphicsData.push(this.lastFill)}),i(this,"beginBitmapFill",(t,r=null,a=!0,n=!1)=>{this.endStrokAndFill(),this.lastFill=new Ii(t,r,a,n),this.graphicsData.push(this.lastFill)}),i(this,"endStrokAndFill",()=>{if(this.lastPath){if(this.lastFill){var t=new wn;t.fill=this.lastFill,this.graphicsData.push(t),this.lastFill=null}this.lastStroke&&!isNaN(this.lastStroke.thickness)&&(this.lastStroke=new Es(NaN),this.lastHalfThickness=Math.ceil(this.lastStroke.thickness/2),this.graphicsData.push(this.lastStroke)),this.lastPath=null}}),i(this,"lineGradientStyle",(t,r,a,n,h=null,l="pad",p="rgb",w=0)=>{this.lastStroke&&(this.endFill(),this.lastStroke.fill=new si(t,r,a,n,this._bound,h,l,p,w))}),i(this,"lineStyle",(t=NaN,r=0,a=1,n=!1,h="normal",l=null,p=null,w=3)=>{this.endStrokAndFill(),isNaN(t)||(t=t===0?1:t<.5?.5:t,a=a<.2?.2:a,this.lastStroke=new Es(t,n,h,l||"round",p||"round",w,new ni(r,a)),this.lastHalfThickness=Math.ceil(this.lastStroke.thickness/2),this.graphicsData.push(this.lastStroke))}),i(this,"drawRect",(t,r,a,n)=>{this.lockBound=!0,this.moveTo(t,r),this.lineTo(t+a,r),this.lineTo(t+a,r+n),this.lineTo(t,r+n),this.lastPath.closePath(),this.lockBound=!1,this.inflateBound(t,r),this.inflateBound(t+a,r+n)}),i(this,"drawRoundRect",(t,r,a,n,h,l=NaN)=>{this.lockBound=!0,isNaN(l)&&(l=h),this.moveTo(t+h,r),this.lineTo(t+a-h,r),this.curveTo(t+a,r,t+a,r+l),this.lineTo(t+a,r+n-l),this.curveTo(t+a,r+n,t+a-h,r+n),this.lineTo(t+h,r+n),this.curveTo(t,r+n,t,r+n-l),this.lineTo(t,r+l),this.curveTo(t,r,t+h,r),this.lockBound=!1,this.inflateBound(t,r),this.inflateBound(t+a,r+n)}),i(this,"drawRoundRectComplex",(t,r,a,n,h,l,p,w)=>{this.lockBound=!0,this.moveTo(t+h,r),this.lineTo(t+a-l,r),this.curveTo(t+a,r,t+a,r+l),this.lineTo(t+a,r+n-w),this.curveTo(t+a,r+n,t+a-w,r+n),this.lineTo(t+p,r+n),this.curveTo(t,r+n,t,r+n-p),this.lineTo(t,r+h),this.curveTo(t,r,t+h,r),this.lockBound=!1,this.inflateBound(t,r),this.inflateBound(t+a,r+n)}),i(this,"drawCircle",(t,r,a)=>{this.makePath(),this.lastPath.moveTo(t+a,r),this.lastPath.arc(t,r,a,0,Math.PI*2),this.inflateBound(t-a,r-a),this.inflateBound(t+a,r+a)}),i(this,"drawEllipse",(t,r,a,n)=>{this.lockBound=!0;var h=.5522848,l=a/2*h,p=n/2*h,w=t+a,E=r+n,C=t+a/2,O=r+n/2;this.moveTo(t,O),this.cubicCurveTo(t,O-p,C-l,r,C,r),this.cubicCurveTo(C+l,r,w,O-p,w,O),this.cubicCurveTo(w,O+p,C+l,E,C,E),this.cubicCurveTo(C-l,E,t,O+p,t,O),this.lockBound=!1,this.inflateBound(t,r),this.inflateBound(t+a,r+n)}),i(this,"moveTo",(t,r)=>{var a=this._bound?this._bound.x:0,n=this._bound?this._bound.y:0;this.makePath(),this.lastPath.moveTo(t,r),this.inflateBound(Math.ceil(t-this.lastHalfThickness),Math.ceil(r-this.lastHalfThickness)),t-this.lastHalfThickness<a&&(this._bound.width+=Math.ceil(this.lastHalfThickness*2)),r-this.lastHalfThickness<n&&(this._bound.height+=Math.ceil(this.lastHalfThickness*2))}),i(this,"lineTo",(t,r)=>{var a=this._bound?this._bound.x:0,n=this._bound?this._bound.y:0;this.makePath(),this.lastPath.lineTo(t,r),this.inflateBound(Math.ceil(t-this.lastHalfThickness),Math.ceil(r-this.lastHalfThickness)),t-this.lastHalfThickness<a&&(this._bound.width+=Math.ceil(this.lastHalfThickness*2)),r-this.lastHalfThickness<n&&(this._bound.height+=Math.ceil(this.lastHalfThickness*2))}),i(this,"curveTo",(t,r,a,n)=>{var h=this._bound?this._bound.x:0,l=this._bound?this._bound.y:0;this.makePath(),this.lastPath.curveTo(t,r,a,n),this.inflateBound(t-this.lastHalfThickness,r-this.lastHalfThickness),this.inflateBound(a-this.lastHalfThickness,n-this.lastHalfThickness),t-this.lastHalfThickness<h&&(this._bound.width+=this.lastHalfThickness*2),r-this.lastHalfThickness<l&&(this._bound.height+=this.lastHalfThickness*2),a-this.lastHalfThickness<this._bound.x&&(this._bound.width+=this.lastHalfThickness*2),n-this.lastHalfThickness<this._bound.y&&(this._bound.height+=this.lastHalfThickness*2)}),i(this,"cubicCurveTo",(t,r,a,n,h,l)=>{var p=this._bound?this._bound.x:0,w=this._bound?this._bound.y:0;this.makePath(),this.lastPath.cubicCurveTo(t,r,a,n,h,l),this.inflateBound(t-this.lastHalfThickness,r-this.lastHalfThickness),this.inflateBound(a-this.lastHalfThickness,n-this.lastHalfThickness),this.inflateBound(h-this.lastHalfThickness,l-this.lastHalfThickness),t-this.lastHalfThickness<p&&(this._bound.width+=this.lastHalfThickness*2),r-this.lastHalfThickness<w&&(this._bound.height+=this.lastHalfThickness*2),a-this.lastHalfThickness<this._bound.x&&(this._bound.width+=this.lastHalfThickness*2),n-this.lastHalfThickness<this._bound.y&&(this._bound.height+=this.lastHalfThickness*2),h-this.lastHalfThickness<this._bound.x&&(this._bound.width+=this.lastHalfThickness*2),l-this.lastHalfThickness<this._bound.y&&(this._bound.height+=this.lastHalfThickness*2)}),i(this,"inflateBound",(t,r)=>{this._bound==null&&(this._bound=new Ht(Number.MAX_VALUE,Number.MAX_VALUE,-Number.MAX_VALUE,-Number.MAX_VALUE),this._rect=new Ht(Number.MAX_VALUE,Number.MAX_VALUE,-Number.MAX_VALUE,-Number.MAX_VALUE)),!this.lockBound&&(this._bound.left>t&&(this._bound.left=t,this._rect.left=t),this._bound.right<t&&(this._bound.right=t,this._rect.right=t),this._bound.top>r&&(this._bound.top=r,this._rect.top=r),this._bound.bottom<r&&(this._bound.bottom=r,this._rect.bottom=r),this.lastFill&&this.lastFill instanceof si&&(this.lastFill.bounds=this._bound),this.lastStroke&&this.lastStroke.fill instanceof si&&(this.lastStroke.fill.bounds=this._bound))}),i(this,"makePath",()=>{if(this.lastPath==null){var t=!1;this.lastPath=this.pathPool[this.pathPoolPos],this.lastPath==null&&(this.lastPath=this.pathPool[this.pathPoolPos]=new jr,t=!0),this.lastPath.clear(),t&&this.lastPath.moveTo(0,0),this.pathPoolPos++,this.graphicsData.push(this.lastPath)}D.dirtyGraphics=!0}),i(this,"endFill",()=>{this.endStrokAndFill()}),i(this,"copyFrom",t=>{this.graphicsData=t.graphicsData.slice()}),i(this,"lineBitmapStyle",(t,r=null,a=!0,n=!1)=>{if(this.lastStroke&&this.lastStroke instanceof Es){var h=this.lastStroke;h.fill=new Ii(t,r,a,n)}}),i(this,"drawPath",(t,r,a="evenOdd")=>{this.makePath(),this.lastPath.commands.push.apply(null,t),this.lastPath.data.push.apply(null,r)}),i(this,"drawPathObject",t=>{var r=null,a=null;t instanceof jr?(r=t,this.drawPath(r.commands,r.data,r.winding)):t instanceof Tn&&(a=t,this.drawTriangles(a.vertices,a.indices,a.uvtData,a.culling))}),i(this,"beginFillObject",t=>{var r=null,a=null,n=null;t==null?this.endFill():t instanceof wn?this.endFill():t instanceof ni?(r=t,this.beginFill(r.color,r.alpha)):t instanceof si?(a=t,this.beginGradientFill(a.type,a.colors,a.alphas,a.ratios,a.matrix,a.spreadMethod,a.interpolationMethod,a.focalPointRatio)):t instanceof Ii&&(n=t,this.beginBitmapFill(n.bitmapData,n.matrix,n.repeat,n.smooth))}),i(this,"beginStrokeObject",t=>{var r=null,a=null,n=null,h=null,l=null;t!=null&&t instanceof Es&&(h=t),h&&h.fill&&h.fill instanceof(ni||si||Ii)&&(l=h.fill),h==null||l==null?this.lineStyle():l instanceof ni?(r=l,this.lineStyle(h.thickness,r.color,r.alpha,h.pixelHinting,h.scaleMode,h.caps,h.joints,h.miterLimit)):l instanceof si?(a=l,this.lineStyle(h.thickness,0,1,h.pixelHinting,h.scaleMode,h.caps,h.joints,h.miterLimit),this.lineGradientStyle(a.type,a.colors,a.alphas,a.ratios,a.matrix,a.spreadMethod,a.interpolationMethod,a.focalPointRatio)):l instanceof Ii&&(n=l,this.lineStyle(h.thickness,0,1,h.pixelHinting,h.scaleMode,h.caps,h.joints,h.miterLimit),this.lineBitmapStyle(n.bitmapData,n.matrix,n.repeat,n.smooth))}),i(this,"drawGraphicsData",t=>{var r=null,a=null,n=null,h=null;if(t!=null)for(var l=0;l<t.length;l++)r=t[l],r instanceof(jr||Tn)?(a=r,this.drawPathObject(a)):r instanceof(ni||si||Ii)?(n=r,this.beginFillObject(n)):r instanceof Es&&(h=r,this.beginStrokeObject(h))}),i(this,"readGraphicsData",(t=!0)=>this.graphicsData.slice()),i(this,"draw",(t,r,a,n,h)=>{this.graphicsData.length&&(D.renderer.renderGraphics(t,this.graphicsData,r,a,n,h),D.drawCounter++)})}drawTriangles(t,r=null,a=null,n="none"){this.makePath(),this.lastPath.drawTriangles(t,r,a)}get rect(){return this._rect}get bound(){return this._bound}}i(dr,"debug",!1);class Qn extends Object{constructor(){super()}}i(Qn,"EVEN_ODD","evenOdd");i(Qn,"NON_ZERO","nonZero");class $n extends Object{constructor(){super()}}i($n,"RGB","rgb");i($n,"LINEAR_RGB","linearRGB");class pa extends Object{constructor(){super()}}i(pa,"ROUND","round");i(pa,"BEVEL","bevel");i(pa,"MITER","miter");class ti extends Object{constructor(){super()}}i(ti,"NORMAL","normal");i(ti,"VERTICAL","vertical");i(ti,"HORIZONTAL","horizontal");i(ti,"NONE","none");class fi extends Object{constructor(){super()}}i(fi,"LOW","low");i(fi,"MEDIUM","medium");i(fi,"HIGH","high");i(fi,"BEST","best");i(fi,"HIGH_8X8","8x8");i(fi,"HIGH_8X8_LINEAR","8x8linear");i(fi,"HIGH_16X16","16x16");i(fi,"HIGH_16X16_LINEAR","16x16linear");class To extends Object{constructor(){super(),i(this,"fshader"),i(this,"vshader"),i(this,"program"),i(this,"gl"),i(this,"uniformLocations",{}),i(this,"attribLocations",{})}upload(t,r){if(this.fshader=this.gl.createShader(this.gl.FRAGMENT_SHADER),this.vshader=this.gl.createShader(this.gl.VERTEX_SHADER),t.position=r.position=0,this.gl.shaderSource(this.vshader,t.readUTFBytes(t.length)),this.gl.compileShader(this.vshader),!this.gl.getShaderParameter(this.vshader,this.gl.COMPILE_STATUS))throw this.vshader+`
`+t+`
`+this.gl.getShaderInfoLog(this.vshader);if(this.gl.shaderSource(this.fshader,r.readUTFBytes(r.length)),this.gl.compileShader(this.fshader),!this.gl.getShaderParameter(this.fshader,this.gl.COMPILE_STATUS))throw r+`
`+this.gl.getShaderInfoLog(this.fshader);if(this.gl.attachShader(this.program,this.vshader),this.gl.attachShader(this.program,this.fshader),this.gl.linkProgram(this.program),!this.gl.getProgramParameter(this.program,this.gl.LINK_STATUS))throw this.gl.getProgramInfoLog(this.program)}dispose(){this.gl.deleteShader(this.fshader),this.gl.deleteShader(this.vshader),this.gl.deleteProgram(this.program)}getUniformLocation(t){var r=this.uniformLocations[t];return r==null&&(r=this.uniformLocations[t]=this.gl.getUniformLocation(this.program,t)),r}getAttribLocation(t){var r=this.attribLocations[t];r==null&&(r=this.attribLocations[t]=this.gl.getAttribLocation(this.program,t));var a=Number(r);return this.gl.enableVertexAttribArray(a),a}}class bo extends Object{constructor(){super(),i(this,"count"),i(this,"buff"),i(this,"gl")}uploadFromVector(t,r,a){this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,this.buff),this.gl.bufferData(this.gl.ELEMENT_ARRAY_BUFFER,new Uint16Array(t),this.gl.STATIC_DRAW)}uploadFromByteArray(t,r,a,n){}dispose(){this.gl.deleteBuffer(this.buff),this.buff=null}}class _a extends Object{constructor(){super()}}i(_a,"VERTEX","vertex");i(_a,"FRAGMENT","fragment");class So extends Object{constructor(){super(),i(this,"buff"),i(this,"gl"),i(this,"data32PerVertex"),i(this,"dirty",!0)}uploadFromVector(t,r,a){this.dirty=!0,this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.buff),this.gl.bufferData(this.gl.ARRAY_BUFFER,new Float32Array(t),this.gl.STATIC_DRAW)}uploadFromByteArray(t,r,a,n){}dispose(){this.gl.deleteBuffer(this.buff),this.buff=null}}class $e extends Object{constructor(){super()}}i($e,"FLOAT_1","float1");i($e,"FLOAT_2","float2");i($e,"FLOAT_3","float3");i($e,"FLOAT_4","float4");i($e,"BYTES_4","bytes4");const Ge=class extends Object{constructor(){super()}static getGLVal(e,t){switch(t){case Ge.ONE:return e.ONE;case Ge.ZERO:return e.ZERO;case Ge.SOURCE_ALPHA:return e.SRC_ALPHA;case Ge.SOURCE_COLOR:return e.SRC_COLOR;case Ge.ONE_MINUS_SOURCE_ALPHA:return e.ONE_MINUS_SRC_ALPHA;case Ge.ONE_MINUS_SOURCE_COLOR:return e.ONE_MINUS_SRC_COLOR;case Ge.DESTINATION_ALPHA:return e.DST_ALPHA;case Ge.DESTINATION_COLOR:return e.DST_COLOR;case Ge.ONE_MINUS_DESTINATION_ALPHA:return e.ONE_MINUS_DST_ALPHA;case Ge.ONE_MINUS_DESTINATION_COLOR:return e.ONE_MINUS_DST_COLOR}return 0}};let Ne=Ge;i(Ne,"ONE","one");i(Ne,"ZERO","zero");i(Ne,"SOURCE_ALPHA","sourceAlpha");i(Ne,"SOURCE_COLOR","sourceColor");i(Ne,"ONE_MINUS_SOURCE_ALPHA","oneMinusSourceAlpha");i(Ne,"ONE_MINUS_SOURCE_COLOR","oneMinusSourceColor");i(Ne,"DESTINATION_ALPHA","destinationAlpha");i(Ne,"DESTINATION_COLOR","destinationColor");i(Ne,"ONE_MINUS_DESTINATION_ALPHA","oneMinusDestinationAlpha");i(Ne,"ONE_MINUS_DESTINATION_COLOR","oneMinusDestinationColor");const ri=class extends Object{constructor(){super()}static getGLVal(e,t){switch(t){case ri.ALWAYS:return e.ALWAYS;case ri.NEVER:return e.NEAREST;case ri.LESS:return e.LESS;case ri.LESS_EQUAL:return e.LESS|e.EQUAL;case ri.EQUAL:return e.EQUAL;case ri.GREATER_EQUAL:return e.GREATER|e.EQUAL;case ri.GREATER:return e.GREATER;case ri.NOT_EQUAL:return e.NOTEQUAL}return 0}};let pi=ri;i(pi,"ALWAYS","always");i(pi,"NEVER","never");i(pi,"LESS","less");i(pi,"LESS_EQUAL","lessEqual");i(pi,"EQUAL","equal");i(pi,"GREATER_EQUAL","greaterEqual");i(pi,"GREATER","greater");i(pi,"NOT_EQUAL","notEqual");class fr extends Ee{constructor(){super()}dispose(){}}class Xr extends fr{constructor(){super(),i(this,"gl"),i(this,"texture"),i(this,"repeat",!0),i(this,"up",!1)}uploadFromBitmapData(t,r=0){this.uploadFromImg(t.imageSource,r)}uploadFromImg(t,r=0){this.up=!0,this.gl.bindTexture(this.gl.TEXTURE_2D,this.texture),this.gl.texImage2D(this.gl.TEXTURE_2D,0,this.gl.RGBA,this.gl.RGBA,this.gl.UNSIGNED_BYTE,t),this.repeat?(this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,this.gl.REPEAT),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,this.gl.REPEAT)):(this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,this.gl.CLAMP_TO_EDGE),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,this.gl.CLAMP_TO_EDGE)),r>0?(this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MAG_FILTER,this.gl.LINEAR),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MIN_FILTER,this.gl.LINEAR_MIPMAP_NEAREST),this.gl.generateMipmap(this.gl.TEXTURE_2D)):(this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MAG_FILTER,this.gl.NEAREST),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MIN_FILTER,this.gl.NEAREST)),this.gl.pixelStorei(this.gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),this.gl.bindTexture(this.gl.TEXTURE_2D,null)}uploadFromByteArray(t,r,a=0){}uploadCompressedTextureFromByteArray(t,r,a=!1){}}class bn extends fr{constructor(){super()}uploadFromBitmapData(t,r,a=0){}uploadFromByteArray(t,r,a,n=0){}uploadCompressedTextureFromByteArray(t,r,a=!1){}}class Sn extends fr{constructor(){super()}uploadFromBitmapData(t){}uploadFromByteArray(t,r){}}class Mo extends fr{constructor(){super()}attachCamera(t){}get videoWidth(){return 0}get videoHeight(){return 0}}const bs=class extends Object{constructor(){super()}static getGLVal(e,t){switch(t){case bs.NONE:return e.NONE;case bs.BACK:return e.FRONT;case bs.FRONT:return e.BACK;case bs.FRONT_AND_BACK:return e.FRONT_AND_BACK}return 0}};let Qi=bs;i(Qi,"NONE","none");i(Qi,"BACK","back");i(Qi,"FRONT","front");i(Qi,"FRONT_AND_BACK","frontAndBack");class xo extends Ee{constructor(){super(),i(this,"canvas"),i(this,"gl"),i(this,"currentProgram"),i(this,"currentTextures",{}),i(this,"currentVBufs",{})}static get supportsVideoTexture(){return!1}get driverInfo(){return null}dispose(t=!0){}get enableErrorChecking(){return!1}set enableErrorChecking(t){}configureBackBuffer(t,r,a,n=!0,h=!1){this.canvas.width=t,this.canvas.height=r,this.canvas.style.width=t+"px",this.canvas.style.height=r+"px",this.gl.viewport(0,0,t,r),n?(this.gl.enable(this.gl.DEPTH_TEST),this.gl.enable(this.gl.STENCIL_TEST)):(this.gl.disable(this.gl.DEPTH_TEST),this.gl.disable(this.gl.STENCIL_TEST))}clear(t=0,r=0,a=0,n=1,h=1,l=0,p=4294967295){D.dirtyGraphics=!0,this.gl.clearColor(t,r,a,n),this.gl.clearDepth(h),this.gl.clearStencil(l),this.gl.clear(this.gl.COLOR_BUFFER_BIT|this.gl.DEPTH_BUFFER_BIT)}drawTriangles(t,r=0,a=-1){this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,t.buff),this.gl.drawElements(this.gl.TRIANGLES,a<0?t.count:a*3,this.gl.UNSIGNED_SHORT,r*2)}present(){D.dirtyGraphics=!0}setProgram(t){this.currentProgram!=t&&(this.currentProgram=t,this.gl.useProgram(t.program))}setProgramConstantsFromVector(t,r,a,n=-1){this.setProgramConstantsFromVectorGL(this.getUniformLocationName(t,r),a,n)}setProgramConstantsFromMatrix(t,r,a,n=!1){this.setProgramConstantsFromMatrixGL(this.getUniformLocationName(t,r),a,n)}setProgramConstantsFromByteArray(t,r,a,n,h){}setProgramConstantsFromVectorGL(t,r,a=-1){this.gl.uniform4fv(this.getUniformLocation(t),r)}setProgramConstantsFromMatrixGL(t,r,a=!1){a&&r.transpose(),this.gl.uniformMatrix4fv(this.getUniformLocation(t),!1,r.rawData),a&&r.transpose()}setProgramConstantsFromByteArrayGL(t,r,a,n){}getUniformLocationName(t,r){return _a.VERTEX===t?"vc"+r:"fc"+r}getUniformLocation(t){return this.currentProgram.getUniformLocation(t)}setVertexBufferAt(t,r,a=0,n="float4"){this.setVertexBufferAtGL("va"+t,r,a,n)}setVertexBufferAtGL(t,r,a=0,n="float4"){if(r.dirty||this.currentVBufs[t]!=r){r.dirty=!1,this.currentVBufs[t]=r;var h=this.currentProgram.getAttribLocation(t);this.gl.bindBuffer(this.gl.ARRAY_BUFFER,r.buff);var l=this.gl.FLOAT,p=0,w=4,E=!1;switch(n){case $e.FLOAT_1:p=1;break;case $e.FLOAT_2:p=2;break;case $e.FLOAT_3:p=3;break;case $e.FLOAT_4:p=4;break;case $e.BYTES_4:p=4,l=this.gl.UNSIGNED_BYTE,E=!0,w=1;break}this.gl.vertexAttribPointer(h,p,l,E,r.data32PerVertex*w,a*w)}}setBlendFactors(t,r){this.gl.enable(this.gl.BLEND),this.gl.blendEquation(this.gl.FUNC_ADD),this.gl.blendFunc(Ne.getGLVal(this.gl,t),Ne.getGLVal(this.gl,r))}setColorMask(t,r,a,n){this.gl.colorMask(t,r,a,n)}setDepthTest(t,r){this.gl.depthFunc(pi.getGLVal(this.gl,r)),this.gl.depthMask(t)}setTextureAt(t,r){r==null?this.setTextureInternal(t,null):r instanceof Xr?this.setTextureInternal(t,r):r instanceof bn?this.setCubeTextureInternal(t,r):r instanceof Sn?this.setRectangleTextureInternal(t,r):r instanceof Mo&&this.setVideoTextureInternal(t,r)}setRenderToTexture(t,r=!1,a=0,n=0,h=0){var l=0;if(t instanceof Xr)l=1;else if(t instanceof bn)l=2;else if(t instanceof Sn)l=3;else if(t!=null)throw"texture argument not derived from TextureBase (can be Texture, CubeTexture, or if supported, RectangleTexture)";this.setRenderToTextureInternal(t,l,r,a,n,h)}setRenderToBackBuffer(){}setRenderToTextureInternal(t,r,a,n,h,l){}setCulling(t){t===Qi.NONE?this.gl.disable(this.gl.CULL_FACE):(this.gl.enable(this.gl.CULL_FACE),this.gl.cullFace(Qi.getGLVal(this.gl,t)))}setStencilActions(t="frontAndBack",r="always",a="keep",n="keep",h="keep"){}setStencilReferenceValue(t,r=255,a=255){}setScissorRectangle(t){t==null?this.gl.disable(this.gl.SCISSOR_TEST):(this.gl.enable(this.gl.SCISSOR_TEST),this.gl.scissor(t.x,t.y,t.width,t.height))}createVertexBuffer(t,r,a="staticDraw"){var n=new So;return n.buff=this.gl.createBuffer(),n.data32PerVertex=r,n.gl=this.gl,n}createIndexBuffer(t,r="staticDraw"){var a=new bo;return a.buff=this.gl.createBuffer(),a.gl=this.gl,a.count=t,a}createTexture(t,r,a,n,h=0){var l=new Xr;return l.gl=this.gl,l.texture=this.gl.createTexture(),l}createCubeTexture(t,r,a,n=0){return null}createRectangleTexture(t,r,a,n){return null}createProgram(){var t=new To;return t.gl=this.gl,t.program=this.gl.createProgram(),t}drawToBitmapData(t){}setSamplerStateAt(t,r,a,n){}get profile(){return null}setTextureInternal(t,r){this.setTextureAtGL("fs"+t,t,r)}setTextureAtGL(t,r,a){(this.currentTextures[t]!=a||a&&a.up)&&(this.currentTextures[t]=a,a&&(a.up=!1,this.gl.activeTexture(this.gl["TEXTURE"+r]),this.gl.bindTexture(this.gl.TEXTURE_2D,a.texture),this.gl.uniform1i(this.currentProgram.getUniformLocation(t),r)))}setCubeTextureInternal(t,r){}setRectangleTextureInternal(t,r){}setVideoTextureInternal(t,r){}get backBufferWidth(){return 0}get backBufferHeight(){return 0}get maxBackBufferWidth(){return 0}set maxBackBufferWidth(t){}get maxBackBufferHeight(){return 0}set maxBackBufferHeight(t){}createVideoTexture(){return null}}const Zn=class extends Ee{constructor(){super(),i(this,"canvas"),i(this,"_context3D"),i(this,"id"),this.id=Zn.ID++,this.canvas=document.createElement("canvas"),this.canvas.style.position="absolute",this.canvas.style.left="0px",this.canvas.style.top="0px",this.canvas.style.zIndex=(this.id-20).toString()}get context3D(){return this._context3D}requestContext3D(e="auto",t="baseline"){this._context3D||(D.rootHTMLElement.appendChild(this.canvas),this._context3D=new xo,this._context3D.canvas=this.canvas,this._context3D.gl=this.canvas.getContext("webgl",{alpha:!1,antialias:!1})||this.canvas.getContext("experimental-webgl",{alpha:!1,antialias:!1})),this.dispatchEvent(new W(W.CONTEXT3D_CREATE))}requestContext3DMatchingProfiles(e){this.requestContext3D()}get x(){return 0}set x(e){}get y(){return 0}set y(e){}get visible(){return!1}set visible(e){}};let Ss=Zn;i(Ss,"ID",0);class ei extends Object{constructor(){super()}}i(ei,"TOP","T");i(ei,"LEFT","L");i(ei,"BOTTOM","B");i(ei,"RIGHT","R");i(ei,"TOP_LEFT","TL");i(ei,"TOP_RIGHT","TR");i(ei,"BOTTOM_LEFT","BL");i(ei,"BOTTOM_RIGHT","BR");class Si extends Object{}i(Si,"EXACT_FIT","exactFit");i(Si,"NO_BORDER","noBorder");i(Si,"NO_SCALE","noScale");i(Si,"SHOW_ALL","showAll");const qt=class extends Je{constructor(){if(super(),i(this,"__rootHtmlElement"),i(this,"__htmlWrapper"),i(this,"_canvas"),i(this,"_skiaCanvas"),i(this,"_canvasKit"),i(this,"_surface"),i(this,"_ctx"),i(this,"_ctx2d"),i(this,"prevTime"),i(this,"needSendMouseMove"),i(this,"needSendTouchMove",!1),i(this,"origWidth",-1),i(this,"origHeight",-1),i(this,"_align",ei.TOP_LEFT),i(this,"_allowsFullScreen",!0),i(this,"_allowsFullScreenInteractive",!0),i(this,"_browserZoomFactor",1),i(this,"_color",16777215),i(this,"_colorCorrection"),i(this,"_colorCorrectionSupport"),i(this,"_contentsScaleFactor",1),i(this,"_contextMenu"),i(this,"_displayContextInfo"),i(this,"_displayState"),i(this,"_focus"),i(this,"_focusRect"),i(this,"_frameRate"),i(this,"_fullScreenHeight"),i(this,"_fullScreenSourceRect"),i(this,"_fullScreenWidth"),i(this,"_mouseLock",!1),i(this,"_stageMouseX",0),i(this,"_stageMouseY",0),i(this,"_quality",fi.BEST),i(this,"_scaleMode",Si.SHOW_ALL),i(this,"_showDefaultContextMenu",!0),i(this,"_softKeyboardRect"),i(this,"_stage3Ds"),i(this,"_stageFocusRec",!0),i(this,"_stageHeight",0),i(this,"_stageWidth",0),i(this,"_textSnapshot"),i(this,"isButtonDown",!1),i(this,"_pauseRendering",!1),i(this,"__enterframeSprites",[]),i(this,"window_resize",e=>{this.origWidth==-1&&(this.origWidth=D.stageWidth),this.origHeight==-1&&(this.origHeight=D.stageHeight),D.dirtyGraphics=!0,D.autoSize&&(D.stageWidth=D.rootHTMLElement?D.rootHTMLElement.clientWidth:window.innerWidth,D.stageHeight=D.rootHTMLElement?D.rootHTMLElement.clientHeight:window.innerHeight);let t=D.highDPI?window.devicePixelRatio:1;this._stageWidth=D.stageWidth*t,this._stageHeight=D.stageHeight*t,this._canvas.width=this._stageWidth,this._canvas.height=this._stageHeight,this._canvas.style.width=this._stageWidth/t+"px",this._canvas.style.height=this._stageHeight/t+"px",this._stage3Ds[0].canvas.width=this._stageWidth,this._stage3Ds[0].canvas.height=this._stageHeight,this._stage3Ds[0].canvas.style.width=this._stageWidth/t+"px",this._stage3Ds[0].canvas.style.height=this._stageHeight/t+"px",this._surface=D.canvasKit.MakeCanvasSurface("flashportcanvas"),this._skiaCanvas=this._surface.getCanvas(),qt._instance&&qt._instance.root&&(qt._instance.scaleMode==Si.SHOW_ALL?(qt._instance.root.scaleX=D.stageWidth/this.origWidth,qt._instance.root.scaleY=qt._instance.root.scaleX,qt._instance.root.scaleY*this.origHeight>this._stageHeight&&(qt._instance.root.scaleY=D.stageHeight/this.origHeight,qt._instance.root.scaleX=qt._instance.root.scaleY)):qt._instance.scaleMode==Si.EXACT_FIT&&(qt._instance.root.scaleX=D.stageWidth/this.origWidth,qt._instance.root.scaleY=D.stageHeight/this.origHeight),qt._instance.dispatchEvent(new W(W.RESIZE)))}),i(this,"_updateStage",e=>{if(!this._pauseRendering){(qt._instance.stageWidth!=D.stageWidth||qt._instance.stageHeight!=D.stageHeight)&&this.window_resize(null),this.needSendMouseMove&&(this.dispatchEvent(new B(B.MOUSE_MOVE,!0,!1,this._stageMouseX,this._stageMouseY,null,this.needSendMouseMove.ctrlKey,this.needSendMouseMove.altKey,this.needSendMouseMove.shiftKey,this.needSendMouseMove.buttons!=null?this.needSendMouseMove.buttons>0:this.isButtonDown)),this.needSendMouseMove=null),this.needSendTouchMove&&(this.dispatchEvent(new Nt(Nt.TOUCH_MOVE,!0,!1,0,!0,this._stageMouseX,this._stageMouseY,null,this.needSendTouchMove.ctrlKey,this.needSendTouchMove.altKey,this.needSendTouchMove.shiftKey,this.needSendTouchMove.buttons!=null?this.needSendTouchMove.buttons>0:this.isButtonDown)),this.needSendTouchMove=null);var t=1e3/this._frameRate,r=window.performance.now(),a=r-this.prevTime;if(a>=t){for(let n of this.__enterframeSprites)n.dispatchEvent(new W(W.ENTER_FRAME));this.prevTime=r-a%t,this.dispatchEvent(new W(W.ENTER_FRAME,!0))}this._surface.requestAnimationFrame(this._updateStage)}}),i(this,"createCanvas",e=>{this._canvas||(this._canvas=document.getElementById("flashportcanvas"),this._canvas==null&&(this._canvas=document.createElement("canvas"),this._canvas.id="flashportcanvas",this._canvas.style.position="absolute",this._canvas.style.left="0px",this._canvas.style.top="0px",this.__rootHtmlElement.appendChild(this._canvas),this.window_resize()),this._surface=e.MakeCanvasSurface("flashportcanvas"),this._skiaCanvas=this._surface.getCanvas(),this._canvas.addEventListener("click",this.canvas_mouseevent,!1),this._canvas.addEventListener("contextmenu",this.canvas_mouseevent,!1),this._canvas.addEventListener("dblclick",this.canvas_mouseevent,!1),this._canvas.addEventListener("mousedown",this.canvas_mouseevent,!1),this._canvas.addEventListener("mouseenter",this.canvas_mouseevent,!1),this._canvas.addEventListener("mouseleave",this.canvas_mouseevent,!1),this._canvas.addEventListener("mousemove",this.canvas_mouseevent,!1),this._canvas.addEventListener("mouseover",this.canvas_mouseevent,!1),this._canvas.addEventListener("mouseout",this.canvas_mouseevent,!1),this._canvas.addEventListener("mouseup",this.canvas_mouseevent,!1),this._canvas.addEventListener("mousewheel",this.canvas_mouseevent,this.supportsPassive?{passive:!0}:!1),this._canvas.addEventListener("touchcancel",this.canvas_touchevent,!1),this._canvas.addEventListener("touchend",this.canvas_touchevent,!1),this._canvas.addEventListener("touchmove",this.canvas_touchevent,this.supportsPassive?{passive:!0}:!1),this._canvas.addEventListener("touchstart",this.canvas_touchevent,this.supportsPassive?{passive:!0}:!1),document.addEventListener("keydown",this.canvas_keyevent,!1),document.addEventListener("keyup",this.canvas_keyevent,!1),this._surface.requestAnimationFrame(this._updateStage))}),i(this,"canvas_touchevent",e=>{var t=e.type,r="",a="";switch(console.log("touchy? "+t),t){case"touchcancel":r=Nt.TOUCH_END,a=B.MOUSE_UP,this.isButtonDown=!1;break;case"touchend":r=Nt.TOUCH_END,a=B.MOUSE_UP,this.isButtonDown=!1;break;case"touchmove":r=Nt.TOUCH_MOVE,a=B.MOUSE_MOVE;break;case"touchstart":r=Nt.TOUCH_BEGIN,a=B.MOUSE_DOWN,this.isButtonDown=!0,this.supportsPassive||e.preventDefault();break}r&&(e.targetTouches.length&&(this._stageMouseX=e.targetTouches[0].pageX-this._canvas.offsetLeft-(D.rootHTMLElement?D.rootHTMLElement.offsetLeft:0),this._stageMouseY=e.targetTouches[0].pageY-this._canvas.offsetTop-(D.rootHTMLElement?D.rootHTMLElement.offsetTop:0)),this.hasEventListener(r)&&(r!=Nt.TOUCH_MOVE?this.dispatchEvent(new Nt(r,!0,!1,0,!0,this._stageMouseX,this._stageMouseY,1,1,1,e.ctrlKey,e.altKey,e.shiftKey,e.buttons!=null?e.buttons>0:this.isButtonDown)):this.needSendTouchMove=!0),this.hasEventListener(a)&&(a!=B.MOUSE_MOVE?this.dispatchEvent(new B(a,!0,!1,this._stageMouseX,this._stageMouseY,this,e.ctrlKey,e.altKey,e.shiftKey,e.buttons!=null?e.buttons>0:this.isButtonDown)):this.needSendMouseMove=e),r===Nt.TOUCH_END&&this.hasEventListener(B.CLICK)&&this.dispatchEvent(new B(B.CLICK,!0,!1,this._stageMouseX,this._stageMouseY,this,e.ctrlKey,e.altKey,e.shiftKey,e.buttons!=null?e.buttons>0:this.isButtonDown)))}),i(this,"canvas_keyevent",e=>{var t=e.type,r="";switch(t){case"keydown":r=De.KEY_DOWN;break;case"keyup":r=De.KEY_UP;break}this.hasEventListener(r)&&this.dispatchEvent(new De(r,!0,!1,e.charCode,e.keyCode,e.location,e.ctrlKey,e.altKey,e.shiftKey))}),i(this,"canvas_mouseevent",e=>{var t=e.type,r="";switch(t){case"click":r=B.CLICK;break;case"contextmenu":r=B.CONTEXT_MENU;break;case"dblclick":r=B.DOUBLE_CLICK;break;case"mousedown":r=B.MOUSE_DOWN,this.isButtonDown=!0;break;case"mouseenter":r=B.ROLL_OVER;break;case"mouseleave":r=B.ROLL_OUT;break;case"mousemove":r=B.MOUSE_MOVE;break;case"mouseover":r=B.MOUSE_OVER;break;case"mouseout":r=B.MOUSE_OUT;break;case"mouseup":r=B.MOUSE_UP,this.isButtonDown=!1;break;case"mousewheel":r=B.MOUSE_WHEEL;break}r&&(this._stageMouseX=e.pageX-this._canvas.offsetLeft-(D.rootHTMLElement?D.rootHTMLElement.offsetLeft:0),this._stageMouseY=e.pageY-this._canvas.offsetTop-(D.rootHTMLElement?D.rootHTMLElement.offsetTop:0),this.hasEventListener(r)&&(r!=B.MOUSE_MOVE?this.dispatchEvent(new B(r,!0,!1,this._stageMouseX,this._stageMouseY,this,e.ctrlKey,e.altKey,e.shiftKey,e.buttons!=null?e.buttons>0:this.isButtonDown,e.wheelDelta/120)):this.needSendMouseMove=e))}),i(this,"setRoot",e=>{this._root=e}),qt._instance&&!qt._instantiate)throw new Error("Stage is a singular instance and can't be instantiated twice. Access using instance.");console.log("Powered by FlashPort"),D.renderer=new wo(D.canvasKit),this.transform=new Ln(this),this.prevTime=window.performance.now(),D.rootHTMLElement?(this.__rootHtmlElement=D.rootHTMLElement,this.__rootHtmlElement.innerHTML=""):(this.__rootHtmlElement=document.createElement("div"),document.body.appendChild(this.__rootHtmlElement)),this.__htmlWrapper=document.createElement("div"),this.__htmlWrapper.style.position="absolute",this.__htmlWrapper.style.left="0px",this.__htmlWrapper.style.top="0px",this.__htmlWrapper.style.zIndex="0",document.body.appendChild(this.__htmlWrapper),D.startTime===0&&(D.startTime=Date.now()),this._frameRate=60,this._stage3Ds=Array(new Ss,new Ss,new Ss,new Ss),qt._instance=this,qt._instance.name="Stage",G.setController(this),mt.init(),this.createCanvas(D.canvasKit),this.window_resize(),window.addEventListener("resize",this.window_resize,!1),window.addEventListener("orientationchange",this.window_resize,!1)}handleVisibilityChange(e){document.hidden||e.type=="blur"?this._pauseRendering=!0:(this.prevTime=window.performance.now(),this._pauseRendering=!1,this._surface.requestAnimationFrame(this._updateStage))}static get instance(){return this._instance||(this._instantiate=!0,this._instance=new qt,this._instantiate=!1),this._instance}get stageMouseX(){return this._stageMouseX}get stageMouseY(){return this._stageMouseY}set accessibilityImplementation(e){}set accessibilityProperties(e){}get align(){return this._align}set align(e){this._align=e}get allowsFullScreen(){return this._allowsFullScreen}get allowsFullScreenInteractive(){return this._allowsFullScreenInteractive}get browserZoomFactor(){return this._browserZoomFactor}get color(){return this._color}set color(e){this._color=e}get colorCorrection(){return this._colorCorrection}set colorCorrection(e){this._colorCorrection=e}get colorCorrectionSupport(){return this._colorCorrectionSupport}get contentsScaleFactor(){return this._contentsScaleFactor}set contextMenu(e){this._contextMenu=e}get displayContextInfo(){return this._displayContextInfo}get displayState(){return document.fullscreen||document.webkitIsFullScreen||document.mozFullScreen?"fullScreen":"normal"}set displayState(e){if(e.indexOf("fullScreen")!=-1){var t=this._canvas.requestFullscreen||this._canvas.webkitRequestFullScreen||this._canvas.mozRequestFullScreen||this._canvas.msRequestFullscreen;t.call(this._canvas)}else{var r=document.exitFullscreen||document.webkitExitFullScreen||document.mozCancelFullScreen||document.msExitFullscreen;r.call(document)}}get focus(){return this._focus}set focus(e){this._focus=e}get frameRate(){return this._frameRate}set frameRate(e){this._frameRate=e}get fullScreenHeight(){return this._fullScreenHeight}get fullScreenSourceRect(){return this._fullScreenSourceRect}set fullScreenSourceRect(e){this._fullScreenSourceRect=e}get fullScreenWidth(){return this._fullScreenWidth}get mouseLock(){return this._mouseLock}set mouseLock(e){this._mouseLock=e}get quality(){return this._quality}set quality(e){this._quality=e}get scaleMode(){return this._scaleMode}set scaleMode(e){this._scaleMode=e}get showDefaultContextMenu(){return this._showDefaultContextMenu}set showDefaultContextMenu(e){this._showDefaultContextMenu=e}get softKeyboardRect(){return this._softKeyboardRect}get stage3Ds(){return this._stage3Ds}get stageFocusRect(){return this._stageFocusRec}set stageFocusRect(e){this._stageFocusRec=e}get stageHeight(){return D.autoSize?window.innerHeight*(D.highDPI?window.devicePixelRatio:1):this._stageHeight*(D.highDPI?window.devicePixelRatio:1)}set stageHeight(e){this._stageHeight=e}get stageWidth(){return D.autoSize?window.innerWidth*(D.highDPI?window.devicePixelRatio:1):this._stageWidth*(D.highDPI?window.devicePixelRatio:1)}set stageWidth(e){this._stageWidth=e}get textSnapshot(){return this._textSnapshot}invalidate(){D.dirtyGraphics=!0}isFocusInaccessible(){return!1}get canvas(){return this._canvas}get supportsPassive(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("testPassive",null,t),window.removeEventListener("testPassive",null,t)}catch{}return e}get ctx(){return this._ctx}get ctx2d(){if(!this._ctx2d){var e=document.createElement("canvas");this._ctx2d=e.getContext("2d")}return this._ctx2d}get surface(){return this._surface}get canvasKit(){return this._canvasKit}get skiaCanvas(){return this._skiaCanvas}};let Ze=qt;i(Ze,"_instance");i(Ze,"_instantiate",!1);const wi=class extends Je{constructor(){super(),i(this,"graphics",new dr),i(this,"_downX"),i(this,"_downY"),i(this,"_dragRect"),i(this,"_dragLockCenter"),i(this,"_cacheImage"),i(this,"_cacheWidth",0),i(this,"_cacheHeight",0),i(this,"_buttonMode",!1),i(this,"_useHandCursor",!1),i(this,"cacheBounds",new Ht),i(this,"__doMouse",e=>{if(Ze.instance.canvas.style.cursor="default",this.mouseEnabled&&this.visible&&!this._off){var t=!0,r=null;this.mask&&!this.mask.hitTestPoint(this.stage.mouseX,this.stage.mouseY)&&(t=!1);var a=super.__doMouse(e);return a?r=this.mouseChildren?a:this:this.hitTestPoint(this.stage.mouseX,this.stage.mouseY)&&(r=this),r&&this.buttonMode&&(Ze.instance.canvas.style.cursor=this._useHandCursor?"grab":"pointer"),t||(r=null),r}return null}),i(this,"hitTestPoint",(e,t,r=!1)=>{if(!this.graphics||!this.graphics.bound)return!1;var a=this.graphics.bound,n=this.globalToLocal(new Xt(e,t));return a.containsPoint(n)}),i(this,"addEventListener",(e,t,r=!1,a=0,n=!1)=>{e==W.ENTER_FRAME&&this instanceof wi&&Ze.instance.__enterframeSprites.push(this);var h=this.listeners[e]=this.listeners[e]||[],l=h.indexOf(t);l!=-1&&h.splice(l,1),h.push(t)}),i(this,"handleDragMove",e=>{if(this._dragLockCenter){var t=this.getBounds(this);this.x=this.parent.mouseX-(this.width/2+t.left),this.y=this.parent.mouseY-(this.height/2+t.top)}else this.x=this.parent.mouseX-this._downX,this.y=this.parent.mouseY-this._downY;this._dragRect&&(this.x<this._dragRect.x&&(this.x=this._dragRect.x),this.x>this._dragRect.x+this._dragRect.width&&(this.x=this._dragRect.x+this._dragRect.width),this.y<this._dragRect.y&&(this.y=this._dragRect.y),this.y>this._dragRect.y+this._dragRect.height&&(this.y=this._dragRect.y+this._dragRect.height))}),Mi.initStage=Ze.instance,this.initDisplayObjectStage()}get buttonMode(){return this._buttonMode}set buttonMode(e){this._buttonMode=e}startDrag(e=!1,t=null){this._dragLockCenter=e,this._dragRect=t,this._downX=this.mouseX,this._downY=this.mouseY,wi.__dragInstance=this,wi.__dragFunction=this.handleDragMove,wi.__dragInstance.stage.addEventListener(B.MOUSE_MOVE,wi.__dragFunction)}stopDrag(){wi.__dragInstance.stage.removeEventListener(B.MOUSE_MOVE,wi.__dragFunction)}startTouchDrag(e,t=!1,r=null){}stopTouchDrag(e){}get dropTarget(){return null}get hitArea(){return null}set hitArea(e){}get useHandCursor(){return this._useHandCursor}set useHandCursor(e){this._useHandCursor=e}set cacheAsBitmap(e){this._cacheAsBitmap=e}get cacheAsBitmap(){return this._cacheAsBitmap}get cacheImage(){return this._cacheImage}get cacheWidth(){return this._cacheWidth}get cacheHeight(){return this._cacheHeight}__update(e,t=0,r=0,a=[]){if(!this._off&&this.visible&&(this.graphics.graphicsData.length||this.numChildren)){this.transform.updateColorTransforms();let l=this.transform.concatenatedMatrix,p;if(this.mask){var n=this.mask.transform.concatenatedMatrix.clone();e.save(),this.mask.graphics.draw(e,n,se.NORMAL,new Ae,[]),p=this.mask.graphics.lastPath.path;let w=[n.a,n.c,n.tx,n.b,n.d,n.ty,0,0,1];p.transform(w),p.setFillType(D.canvasKit.FillType.Winding),e.clipPath(p,D.canvasKit.ClipOp.Intersect,!0);let E=D.canvasKit.Matrix.invert(w)||w;p.transform(E)}var h=this.filters.concat(a);this.graphics.draw(e,l,this.blendMode,this.transform.concatenatedColorTransform,h),super.__update(e,t,r,h),this.mask&&e.restore()}}};let st=wi;i(st,"__dragInstance");i(st,"__dragFunction");class Mn extends Object{constructor(t=1,r=0){super(),i(this,"_volume",1),i(this,"_pan",0),i(this,"_leftToLeft",1),i(this,"_rightToRight",1),i(this,"_leftToRight",0),i(this,"_rightToLeft",0),this._volume=t,this.pan=r}get volume(){return this._volume}set volume(t){this._volume=t}get leftToLeft(){return this._leftToLeft}set leftToLeft(t){this._leftToLeft=t>1?1:t,this.pan=this._rightToRight-this._leftToLeft,this._volume=Math.max(this._leftToLeft,this._rightToRight)}get leftToRight(){return this._leftToRight}set leftToRight(t){this._leftToRight=t}get rightToRight(){return this._rightToRight}set rightToRight(t){this._rightToRight=t>1?1:t,this.pan=this._rightToRight-this._leftToLeft,this._volume=Math.max(this._leftToLeft,this._rightToRight)}get rightToLeft(){return this._rightToLeft}set rightToLeft(t){this._rightToLeft=t}get pan(){return this._pan}set pan(t){t<-1&&(t=-1),t>1&&(t=1),this._pan=t,this._leftToLeft=1-t,this._leftToRight=0,this._rightToRight=1+t,this._rightToLeft=0,this._volume=Math.max(this._leftToLeft,this._rightToRight)}}class Ao extends Object{constructor(t=1e3,r=!1){super(),i(this,"bufferTime",1e3),i(this,"checkPolicyFile",!1),this.checkPolicyFile=r,this.bufferTime=t}}class Co extends Ee{constructor(){super(),i(this,"_envelops"),i(this,"_source"),i(this,"_panNode"),i(this,"_gainNode"),i(this,"_startTime"),i(this,"_sndTransform"),i(this,"_position"),i(this,"_curEnvelopPoint",-1),i(this,"_origVolume",1)}onUpdate(t){this._position=(this._source.context.currentTime-this._startTime)*1e3;for(var r=this.__envelops?this._envelops.length:0,a=0;a<r;a++){var n=this._envelops[a],h=r>1&&a!=r-1?this._envelops[a+1]:null,l=n.p*1e3;if(l!=this._curEnvelopPoint&&this._position>=l&&(!h||h&&this._position<h.p*1e3)&&(this._curEnvelopPoint=l),l==this._curEnvelopPoint&&h){var p=this._position/1e3/(n.p+h.p),w=h.l-n.l;this._sndTransform.leftToLeft=n.l+w*p;var E=h.r-n.r;this._sndTransform.rightToRight=n.r+E*p,this.soundTransform=this._sndTransform}}}get position(){return(this._source.context.currentTime-this._startTime)*1e3}get soundTransform(){return this._sndTransform}set soundTransform(t){this._sndTransform=t,this._panNode.pan.setValueAtTime(t.pan,this._source.context.currentTime),this._gainNode.gain.setValueAtTime(t.volume,this._source.context.currentTime)}stop(){Ze.instance.removeEventListener(W.ENTER_FRAME,this.onUpdate),this._source.removeEventListener("ended",this.playbackComplete),this._source.stop(0),this._source.disconnect(0),this._curEnvelopPoint=-1}get leftPeak(){return 0}get rightPeak(){return 0}get __envelops(){return this._envelops}set __envelops(t){this._envelops=t}set __source(t){this._source=t,this._source.addEventListener("ended",this.playbackComplete),Ze.instance.addEventListener(W.ENTER_FRAME,this.onUpdate)}get __source(){return this._source}set __panner(t){this._panNode=t}get __panner(){return this._panNode}get __gainNode(){return this._gainNode}set __gainNode(t){this._gainNode=t}set __startTime(t){this._startTime=t}dispose(){this.stop(),this._source.disconnect(this._panNode),this._panNode.disconnect(this._gainNode),this._gainNode.disconnect(this._source.context.destination),this._panNode=null,this._gainNode=null,this._source=null}playbackComplete(t){Ze.instance.removeEventListener(W.ENTER_FRAME,this.onUpdate),this._source.removeEventListener("ended",this.playbackComplete),this.dispatchEvent(new W(W.SOUND_COMPLETE))}}const ye=class extends Ee{constructor(e=null,t=null){super(),i(this,"xhr"),i(this,"buffer"),i(this,"playing",!1),i(this,"loops"),i(this,"_sndTransform"),i(this,"startTime"),i(this,"_stream"),i(this,"_context"),i(this,"source"),i(this,"panNode"),i(this,"gainNode"),i(this,"channel"),i(this,"_envelops"),this._context=t,this._stream=e,this._sndTransform=new Mn,ye.ctx&&ye.sounds.push(this)}load(e,t=null){if(ye.ctx){this._stream=e;var r=this._buildLoaderContext(this._context);if(D.sounds[this._stream.url]!=null){var a=D.sounds[e.url].dataView.buffer.slice(0);ye.ctx.decodeAudioData(a,this.decodeAudioDataSuccess)}else this._load(this._stream,r.checkPolicyFile,r.bufferTime)}}loadCompressedDataFromByteArray(e,t){}loadPCMFromByteArray(e,t,r="float",a=!0,n=44100){}_buildLoaderContext(e){return e||(e=new Ao),e}_load(e,t,r){this.xhr=new XMLHttpRequest,this.xhr.open("GET",e.url),this.xhr.responseType="arraybuffer",this.xhr.addEventListener("load",this.xhr_load,!0),this.xhr.send()}xhr_load(e){ye.ctx.decodeAudioData(this.xhr.response,this.decodeAudioDataSuccess)}decodeAudioDataSuccess(e){this.buffer=e,this.dispatchEvent(new W(W.COMPLETE)),this.playing||this.play(this.startTime,this.loops,this._sndTransform)}get url(){return null}get isURLInaccessible(){return!1}play(e=0,t=0,r=null){return ye.ctx&&(this.buffer==null&&this.load(this._stream,this._context),this.startTime=e,this.loops=t,r&&(this._sndTransform=r),this.buffer)?(this.channel?this.channel.stop():this.channel=new Co,this.source=ye.ctx.createBufferSource(),this.gainNode=ye.ctx.createGain(),this.panNode=ye.ctx.createStereoPanner(),this.gainNode.gain.value=r?r.volume:1,this.panNode.pan.value=r?r.pan:0,this.source.loop=t>0,this.source.buffer=this.buffer,this.source.connect(this.panNode),this.panNode.connect(this.gainNode),this.gainNode.connect(ye.ctx.destination),this.channel.__source=this.source,this.channel.__panner=this.panNode,this.channel.__gainNode=this.gainNode,this.channel.__envelops=this._envelops,this.channel.soundTransform=r||new Mn,this.channel.__source=this.source,this.source.start(0,e),this.channel.__startTime=ye.ctx.currentTime,this.playing=!0,this.channel):null}get length(){return 0}get isBuffering(){return!1}get bytesLoaded(){return 0}get bytesTotal(){return 0}get id3(){return null}static get ctx(){return ye._ctx==null&&(ye._ctx=new AudioContext),ye._ctx}close(){}extract(e,t,r=-1){return 0}get __envelops(){return this._envelops}set __envelops(e){this._envelops=e}};let Jn=ye;i(Jn,"sounds",[]);i(Jn,"_ctx");class Oo extends Ee{constructor(){super()}}class th extends Mi{constructor(){super(),i(this,"graphics"),i(this,"__update",(t,r=0,a=0,n=[])=>{if(!this._off&&this.visible&&this.graphics.graphicsData.length){var h=this.transform.concatenatedMatrix.clone(),l=this.transform.concatenatedColorTransform;let w;if(this.mask){var p=this.mask.transform.concatenatedMatrix;t.save(),this.mask.graphics.draw(t,p,se.NORMAL,new Ae,[]),w=this.mask.graphics.lastPath.path;let E=[p.a,p.c,p.tx,p.b,p.d,p.ty,0,0,1];w.transform(E),w.setFillType(D.canvasKit.FillType.Winding),t.clipPath(w,D.canvasKit.ClipOp.Intersect,!0);let C=D.canvasKit.Matrix.invert(E)||E;w.transform(C)}this.graphics.draw(t,h,this.blendMode,l,this.filters.concat(n)),this.mask&&t.restore()}}),i(this,"__doMouse",t=>this.visible&&this.hitTestPoint(this.stage.mouseX,this.stage.mouseY)?this:null),i(this,"hitTestPoint",(t,r,a=!1)=>{var n=this.getFullBounds(this),h=this.globalToLocal(new Xt(t,r));return n.containsPoint(h)}),i(this,"__getRect",()=>this.graphics.bound),this.graphics=new dr}set cacheAsBitmap(t){this._cacheAsBitmap=t}get cacheAsBitmap(){return this._cacheAsBitmap}}class ga extends Object{constructor(){super()}}i(ga,"PAD","pad");i(ga,"REFLECT","reflect");i(ga,"REPEAT","repeat");class ma extends Object{constructor(){super()}}i(ma,"FULL_SCREEN","fullScreen");i(ma,"FULL_SCREEN_INTERACTIVE","fullScreenInteractive");i(ma,"NORMAL","normal");class va extends Object{constructor(){super()}}i(va,"NONE","none");i(va,"POSITIVE","positive");i(va,"NEGATIVE","negative");class eh extends Object{constructor(){super()}}i(eh,"STATIC_DRAW","staticDraw");i(eh,"DYNAMIC_DRAW","dynamicDraw");const sr=class extends Object{constructor(){super()}};let pr=sr;i(pr,"COLOR",1<<0);i(pr,"DEPTH",1<<1);i(pr,"STENCIL",1<<2);i(pr,"ALL",sr.COLOR|sr.DEPTH|sr.STENCIL);class ya extends Object{constructor(){super()}}i(ya,"MIPNONE","mipnone");i(ya,"MIPNEAREST","mipnearest");i(ya,"MIPLINEAR","miplinear");class $i extends Object{constructor(){super()}}i($i,"BASELINE","baseline");i($i,"BASELINE_CONSTRAINED","baselineConstrained");i($i,"BASELINE_EXTENDED","baselineExtended");i($i,"STANDARD","standard");i($i,"STANDARD_CONSTRAINED","standardConstrained");i($i,"STANDARD_EXTENDED","standardExtended");class ih extends Object{constructor(){super()}}i(ih,"AUTO","auto");i(ih,"SOFTWARE","software");class xi extends Object{constructor(){super()}}i(xi,"KEEP","keep");i(xi,"ZERO","zero");i(xi,"INCREMENT_SATURATE","incrementSaturate");i(xi,"DECREMENT_SATURATE","decrementSaturate");i(xi,"INVERT","invert");i(xi,"INCREMENT_WRAP","incrementWrap");i(xi,"DECREMENT_WRAP","decrementWrap");i(xi,"SET","set");class Zi extends Object{constructor(){super()}}i(Zi,"NEAREST","nearest");i(Zi,"LINEAR","linear");i(Zi,"ANISOTROPIC2X","anisotropic2x");i(Zi,"ANISOTROPIC4X","anisotropic4x");i(Zi,"ANISOTROPIC8X","anisotropic8x");i(Zi,"ANISOTROPIC16X","anisotropic16x");class Ji extends Object{constructor(){super()}}i(Ji,"BGRA","bgra");i(Ji,"RGBA_HALF_FLOAT","rgbaHalfFloat");i(Ji,"COMPRESSED","compressed");i(Ji,"COMPRESSED_ALPHA","compressedAlpha");i(Ji,"BGR_PACKED","bgrPacked565");i(Ji,"BGRA_PACKED","bgraPacked4444");class _r extends Object{constructor(){super()}}i(_r,"REPEAT","repeat");i(_r,"CLAMP","clamp");i(_r,"CLAMP_U_REPEAT_V","clamp_u_repeat_v");i(_r,"REPEAT_U_CLAMP_V","repeat_u_clamp_v");class ea extends Ee{constructor(t,r=0){super(),i(this,"_delay"),i(this,"_repeatCount",0),i(this,"_startTime",0),i(this,"_stopTime",0),i(this,"_delayTime",0),i(this,"_interval"),i(this,"_running",!1),i(this,"_currentCount",0),i(this,"_complete",!1),i(this,"reset",()=>{this.stop(),this._stopTime=0,this._complete=!1,this._currentCount=0}),i(this,"start",()=>{this._startTime=new Date().getMilliseconds(),this._interval=window.setInterval(this.timerComplete,this._delayTime),this._running=!0}),i(this,"stop",()=>{window.clearInterval(this._interval),this._stopTime=new Date().getMilliseconds(),this._delayTime-=this._stopTime-this._startTime,this._running=!1}),i(this,"timerComplete",()=>{this._delayTime=this._delay,this.dispatchEvent(new hi(hi.TIMER)),(!this._complete||this._repeatCount>this._currentCount)&&(this._complete=!0,this._repeatCount>0&&this._currentCount++,this.dispatchEvent(new hi(hi.TIMER_COMPLETE))),this._repeatCount>0&&this._repeatCount==this._currentCount&&this.reset()}),(t<0||!isFinite(t))&&zi.throwError(RangeError,2066),this._delay=t,this._delayTime=t,this._repeatCount=r}get currentCount(){return this._currentCount}get delay(){return this._delay}set delay(t){if((t<0||!isFinite(t))&&zi.throwError(RangeError,2066),this._delay=t,this._running){var r=this._currentCount;this.reset(),this._currentCount=r,this.start()}}get repeatCount(){return this._repeatCount}set repeatCount(t){this._repeatCount=t,this._running&&(this.reset(),this.start())}get running(){return this._running}}const Vi=class extends Ee{constructor(){super(),i(this,"_stream"),i(this,"_videoElement"),i(this,"_cameraStream"),i(this,"_cameraId"),i(this,"_diffCanvas"),i(this,"_diffContext"),i(this,"_motionCanvas"),i(this,"_motionContext"),i(this,"_motionTimer",new ea(100)),i(this,"_motionLevel",50),i(this,"_pixelDiffThreshold",32),i(this,"_diffWidth",64),i(this,"_diffHeight",64),i(this,"_diffdata"),i(this,"_activityLevel"),i(this,"_motionTimeout",new ea(2e3)),i(this,"_motionDetected",!1),i(this,"_showMotionCanvas",!1),this._cameraId=Vi._name}get activityLevel(){return this._activityLevel}get bandwidth(){return null}get currentFPS(){return null}get fps(){return null}get height(){return null}get index(){return null}static get isSupported(){return!!navigator.mediaDevices}get keyFrameInterval(){return null}get loopback(){return null}get motionLevel(){return this._motionLevel}get motionTimeout(){return null}get muted(){return null}get name(){return this._cameraId}static get names(){return Vi._names}get position(){return null}get quality(){return null}get width(){return null}get cameraStream(){return this._stream}set cameraStream(e){let t=this;this._cameraId=Vi._name,this._stream=e,this._stream.addEventListener("active",function(r){t.dispatchEvent(new ne(ne.ACTIVITY,!1,!1,!0))}),this._stream.addEventListener("inactive",function(r){t.dispatchEvent(new ne(ne.ACTIVITY,!1,!1,!1))})}get videoElement(){return this._videoElement}set videoElement(e){this._videoElement=e}get showMotionCanvas(){return this._showMotionCanvas}set showMotionCanvas(e){this._showMotionCanvas=e}static _scanHardware(){}copyToByteArray(e,t){console.log("WARNING Camera.copyToByteArray method not implemented.")}copyToVector(e,t){console.log("WARNING Camera.copyToVector method not implemented.")}drawToBitmapData(e){e.fromImage(this._videoElement,0,0,this._videoElement.width,this._videoElement.height)}static getCamera(e=null,t=320,r=240,a="user"){var n=new Vi;return navigator.mediaDevices&&navigator.mediaDevices.getUserMedia?navigator.mediaDevices.enumerateDevices().then(function(h){for(var l=!1,p=0;p<h.length;p++){var w=h[p];if(e&&(w.deviceId==e||w.label==e)||!e&&Object(w).kind=="videoinput"){l=!0;var E={facingMode:a,width:{min:t,ideal:t},height:{min:r,ideal:r}};w.deviceId!=""&&(E.deviceId={exact:w.deviceId}),navigator.mediaDevices.getUserMedia({video:E,audio:!1}).then(function(C){Vi._name=w.label!=""?w.label:w.deviceId,n.cameraStream=C,n.motionLevel==50&&n.setMotionLevel(50),n.dispatchEvent(new ne(ne.ACTIVITY,!1,!1,!0))});break}}l||n.dispatchEvent(new ne(ne.ACTIVITY,!1,!1,!1))}):n.dispatchEvent(new ne(ne.ACTIVITY,!1,!1,!1)),n}setCursor(e){console.log("WARNING Camera.setCursor method not implemented.")}setKeyFrameInterval(e){console.log("WARNING Camera.setKeyFrameInterval method not implemented.")}setLoopback(e=!1){console.log("WARNING Camera.setLoopback method not implemented.")}setMode(e,t,r,a=!0){console.log("WARNING Camera.setMode method not implemented.")}setMotionLevel(e,t=2e3){this._diffCanvas||(this._diffCanvas=document.createElement("canvas"),this._diffCanvas.width=this._diffWidth,this._diffCanvas.height=this._diffHeight,this._diffContext=this._diffCanvas.getContext("2d",{willReadFrequently:!0}),this._motionCanvas=document.createElement("canvas"),this._motionCanvas.style.position="absolute",this._motionCanvas.style.zIndex="999",this._motionCanvas.width=this._diffWidth,this._motionCanvas.height=this._diffHeight,this._motionContext=this._motionCanvas.getContext("2d",{willReadFrequently:!0}),this._showMotionCanvas&&document.body.appendChild(this._motionCanvas)),this._motionLevel=e,this._motionTimeout.delay=t,this._motionTimeout.addEventListener(hi.TIMER,this.onMotionTimeout),this._motionTimer.addEventListener(hi.TIMER,this.onMotionTimer),this._motionTimer.start()}onMotionTimeout(e){this._motionDetected&&this.dispatchEvent(new ne(ne.MOTION_ENDED)),this._motionTimeout.reset(),this._motionDetected=!1}onMotionTimer(e){this._videoElement&&(this._diffContext.globalCompositeOperation="difference",this._diffContext.drawImage(this._videoElement,0,0,this._diffWidth,this._diffHeight),this._diffdata=this._diffContext.getImageData(0,0,this._diffWidth,this._diffHeight),this.processDiff(this._diffdata),this._motionContext.putImageData(this._diffdata,0,0),this._diffContext.globalCompositeOperation="source-over",this._diffContext.drawImage(this._videoElement,0,0,this._diffWidth,this._diffHeight))}processDiff(e){for(var t=e.data,r=t.length,a=0,n=0;n<r;n+=4){var h=t[n]*.3+t[n+1]*.6+t[n+2]*.1,l=Math.min(255,h*(255/this._pixelDiffThreshold));t[n]=0,t[n+1]=l,t[n+2]=0,h>=this._pixelDiffThreshold&&a++}this._activityLevel=a,a>this._motionLevel/100*(r/128)?(this._motionTimeout.reset(),this._motionDetected||(this._motionDetected=!0,this.dispatchEvent(new ne(ne.MOTION_DETECTED)))):this._motionDetected&&(this._motionTimeout.running||this._motionTimeout.start())}setQuality(e,t){console.log("WARNING Camera.setQuality method not implemented.")}};let Ps=Vi;i(Ps,"_mediaDevices");i(Ps,"_name");i(Ps,"_names",[]);i(Ps,"_devices",[]);i(Ps,"dispatchObject",new Mi);const rr=class extends Ee{constructor(){super(),i(this,"_activityLevel",0),i(this,"_codec",""),i(this,"_enableVAD",!1),i(this,"_encodeQuality",6),i(this,"_enhancedOptions"),i(this,"_gain",50),i(this,"_index",0),i(this,"_muted",!1),i(this,"_name"),i(this,"_rate",8),i(this,"_silenceLevel",10),i(this,"_silenceTimeout",2e3),i(this,"_soundTransform"),i(this,"_setLoopBack",!1)}get activityLevel(){return this._activityLevel}get codec(){return this._codec}set codec(e){this._codec=e}get enableVAD(){return console.log("WARNING Microphone.enableVAD property not implemented."),!1}set enableVAD(e){console.log("WARNING Microphone.enableVAD property not implemented.")}get encodeQuality(){return console.log("WARNING Microphone.encodeQuality property not implemented."),null}set encodeQuality(e){console.log("WARNING Microphone.encodeQuality property not implemented.")}get enhancedOptions(){return this._enhancedOptions}set enhancedOptions(e){this._enhancedOptions=e}get framesPerPacket(){return console.log("WARNING Microphone.framesPerPacket property not implemented."),null}set framesPerPacket(e){console.log("WARNING Microphone.framesPerPacket property not implemented.")}get gain(){return this._gain}set gain(e){this._gain=e}get index(){return this._index}static get isSupported(){return rr._isSupported}get muted(){return this._muted}get name(){return this._name}static get names(){return rr._names}get noiseSuppressionLevel(){return console.log("WARNING Microphone.noiseSuppressionLevel property not implemented."),null}set noiseSuppressionLevel(e){console.log("WARNING Microphone.noiseSuppressionLevel property not implemented.")}get rate(){return this._rate}set rate(e){this._rate=e}get silenceLevel(){return this._silenceLevel}get silenceTimeout(){return this._silenceTimeout}get soundTransform(){return this._soundTransform}set soundTransform(e){this._soundTransform=e}get useEchoSuppression(){return console.log("WARNING Microphone.useEchoSuppression property not implemented."),!1}static getEnhancedMicrophone(e=-1){return console.log("WARNING Microphone.getEnhancedMicrophone property not implemented."),null}static getMicrophone(e=-1){return new rr}setLoopBack(e=!0){this._setLoopBack=e}setSilenceLevel(e,t=-1){this._silenceLevel=e,this._silenceTimeout=t}setUseEchoSuppression(e){console.log("WARNING Microphone.setUseEchoSuppression property not implemented.")}};let sh=rr;i(sh,"_isSupported",!1);i(sh,"_names",[]);class gr extends Object{constructor(){super()}}i(gr,"NELLYMOSER","NellyMoser");i(gr,"SPEEX","Speex");i(gr,"PCMA","pcma");i(gr,"PCMU","pcmu");class mr extends Object{constructor(){super()}}i(mr,"H264AVC",'video/mp4; codecs="avc1.64001F, mp4a.40.2"');i(mr,"VP8",'video/webm; codecs="vorbis,vp8"');i(mr,"VP9",'video/webm; codecs="vorbis,vp9"');class Ea extends Ee{constructor(t,r="connectToFMS"){super(),i(this,"_netConnection"),i(this,"_url"),i(this,"_bytes"),i(this,"_sourceBuffer"),i(this,"_mimeCodec"),i(this,"_mediaSource"),i(this,"_duration",0),i(this,"_currentFPS",0),i(this,"_inBufferSeek",!1),i(this,"_time",0),i(this,"_videoCodec"),i(this,"_loop",!1),i(this,"_looped",!1),i(this,"_playing",!1),i(this,"_paused",!0),i(this,"_seeking",!1),i(this,"_playbackTarget"),i(this,"_clientObject"),i(this,"_bytesQueue",[]),i(this,"_isNewBytes",!1),i(this,"_camera"),i(this,"appendBytes",a=>{if(a.length==0)throw Error("NetStream.play() No Bytes Available. bytes.length is 0.");this._playbackTarget.loop=!1,this._bytes=a.dataView.buffer,this._mediaSource.readyState=="open"||this._mediaSource.readyState=="ended"?(this._isNewBytes=!0,!this._sourceBuffer||this._mediaSource.sourceBuffers.length==0?this.setupBuffer():this._sourceBuffer.updating?this._bytesQueue.push(this._bytes):this._sourceBuffer.appendBuffer(this._bytes)):this._playbackTarget.src=URL.createObjectURL(this._mediaSource)}),i(this,"appendBytesAction",a=>{console.log("Netstream.appendBytesAction method not implemented.")}),i(this,"attach",a=>{this._netConnection=a}),i(this,"attachAudio",a=>{}),i(this,"attachCamera",(a,n=-1)=>{let h=this;n!=-1&&console.log("WARNING Netstream.attachCamera() snapshotMilliseconds not implemented."),a.cameraStream?(this._playbackTarget.srcObject=a.cameraStream,a.videoElement=this._playbackTarget):a.addEventListener(ne.ACTIVITY,function(l){l.activating&&(h._playbackTarget.srcObject=a.cameraStream,a.videoElement=h._playbackTarget)})}),i(this,"close",()=>{}),i(this,"dispose",()=>{}),i(this,"onPeerConnect",a=>(console.log("WARNING Netstream.onPeerConnect property not implemented."),null)),i(this,"pause",()=>{this._playbackTarget.pause(),this._paused=!0}),i(this,"play",(...a)=>{if(a&&a[0]!=null)this._url=a[0],this._playbackTarget&&(this._playbackTarget.src=this._url,this._playbackTarget.play().catch(function(n){console.log("NetStream.play() Playback Error: "+n.message)}),this._playbackTarget.loop=this._loop);else if(a&&a[0]==null){if(this._mimeCodec=="undefined")throw Error("NetStream.play mimeCodec must be set before playback.");MediaSource.isTypeSupported(this._mimeCodec)?(this._mediaSource=new MediaSource,this._mediaSource.addEventListener("sourceopen",this.handleSourceOpened,!1),this._mediaSource.addEventListener("error",this.handleMediaSourceError,!1)):alert("Unsupported MIME type or codec: "+this._mimeCodec)}}),i(this,"play2",a=>{console.log("Netstream.play2 property not implemented.")}),i(this,"publish",(a=null,n=null)=>{console.log("Netstream.publish property not implemented.")}),i(this,"receiveAudio",a=>{console.log("Netstream.receiveAudio property not implemented.")}),i(this,"receiveVideo",a=>{console.log("Netstream.receiveVideo property not implemented.")}),i(this,"receiveVideoFPS",a=>{console.log("Netstream.receiveVideoFPS property not implemented.")}),i(this,"resume",()=>{this._playbackTarget.play(),this._paused=!1}),i(this,"seek",a=>{this._playbackTarget.currentTime=a}),i(this,"send",(a,...n)=>{console.log("Netstream.send method not implemented.")}),i(this,"step",a=>{console.log("Netstream.step method not implemented.")}),i(this,"togglePause",()=>{this._paused=!this._paused,this._playbackTarget&&(this._paused?this._playbackTarget.play():this._playbackTarget.pause())}),i(this,"netStatusEvents",a=>{switch(a.type){case"abort":Object(a).code="NetStream.Abort",this.dispatchEvent(new gt(gt.NET_STATUS,!1,!1,a));break;case"canplay":Object(a).code="NetStream.CanPlay",this.dispatchEvent(new gt(gt.NET_STATUS,!1,!1,a));break;case"canplaythrough":Object(a).code="NetStream.CanPlayThrough",this.dispatchEvent(new gt(gt.NET_STATUS,!1,!1,a));break;case"durationchange":Object(a).code="NetStream.DurationChange",this.dispatchEvent(new gt(gt.NET_STATUS,!1,!1,a));break;case"emptied":Object(a).code="NetStream.Emptied",this.dispatchEvent(new gt(gt.NET_STATUS,!1,!1,a));break;case"ended":Object(a).code="NetStream.ended",this.dispatchEvent(new gt(gt.NET_STATUS,!1,!1,a));break;case"error":Object(a).code="NetStream.Play.Stop",this.dispatchEvent(new gt(gt.NET_STATUS,!1,!1,a));break;case"loadeddata":Object(a).code="NetStream.LoadedData",this.dispatchEvent(new gt(gt.NET_STATUS,!1,!1,a));break;case"loadedmetadata":Object(a).code="NetStream.LoadedMetaData",this._clientObject&&(this._playbackTarget instanceof HTMLVideoElement?this._clientObject.onMetaData&&this._clientObject.onMetaData({duration:this._playbackTarget.duration,width:this._playbackTarget.videoWidth,height:this._playbackTarget.videoHeight}):this._playbackTarget instanceof HTMLAudioElement&&this._clientObject.onMetaData&&this._clientObject.onMetaData({duration:this._playbackTarget.duration,samplerate:this._playbackTarget.playbackRate})),this.dispatchEvent(new gt(gt.NET_STATUS,!1,!1,a));break;case"loadstart":Object(a).code="NetStream.LoadStart",this.dispatchEvent(new gt(gt.NET_STATUS,!1,!1,a));break;case"pause":Object(a).code="NetStream.Play.Stop",this.dispatchEvent(new gt(gt.NET_STATUS,!1,!1,a)),Object(a).code="NetStream.Pause.Notify",this.dispatchEvent(new gt(gt.NET_STATUS,!1,!1,a));break;case"play":Object(a).code="NetStream.Play.Start",this.dispatchEvent(new gt(gt.NET_STATUS,!1,!1,a));break;case"playing":Object(a).code="NetStream.Playing",this.dispatchEvent(new gt(gt.NET_STATUS,!1,!1,a));break;case"progress":Object(a).code="NetStream.Progress",this.dispatchEvent(new gt(gt.NET_STATUS,!1,!1,a));break;case"ratechange":Object(a).code="NetStream.RateChange",this.dispatchEvent(new gt(gt.NET_STATUS,!1,!1,a));break;case"seeked":Object(a).code="NetStream.Seek.Notify",this.dispatchEvent(new gt(gt.NET_STATUS,!1,!1,a));break;case"seeking":Object(a).code="NetStream.Seeking",this.dispatchEvent(new gt(gt.NET_STATUS,!1,!1,a));break;case"stalled":Object(a).code="NetStream.Stalled",this.dispatchEvent(new gt(gt.NET_STATUS,!1,!1,a));break;case"suspend":Object(a).code="NetStream.Suspend",this.dispatchEvent(new gt(gt.NET_STATUS,!1,!1,a));break;case"timeupdate":Object(a).code="NetStream.TimeUpdate",this.dispatchEvent(new gt(gt.NET_STATUS,!1,!1,a));break;case"volumechange":Object(a).code="NetStream.VolumeChange",this.dispatchEvent(new gt(gt.NET_STATUS,!1,!1,a));break;case"waiting":Object(a).code="NetStream.Waiting",this.dispatchEvent(new gt(gt.NET_STATUS,!1,!1,a));break}}),i(this,"setupBuffer",()=>{this._sourceBuffer=this._mediaSource.addSourceBuffer(this._mimeCodec),this._sourceBuffer.addEventListener("updateend",this.handleUpdateEnd,!1),this._sourceBuffer.addEventListener("error",this.netStatusEvents,!1),this._sourceBuffer.addEventListener("abort",this.netStatusEvents,!1),this._sourceBuffer.appendBuffer(this._bytes)}),i(this,"handleMediaSourceError",a=>{console.log("Error: NetStream.handleMediaSourceError()",a)}),i(this,"handleSourceOpened",a=>{this._sourceBuffer||this.setupBuffer()}),i(this,"handleUpdateEnd",a=>{console.log("NetStream.handleUpdateEnd() readyState: "+this._mediaSource.readyState+", duration: "+this._mediaSource.duration),this._mimeCodec==mr.VP8&&this._mediaSource.endOfStream(),this._isNewBytes?(this._playbackTarget.removeEventListener("timeupdate",this.handleTime,!1),this._duration,this._duration=this._mediaSource.duration,this._isNewBytes=!1,this._playbackTarget.currentTime=this._duration-5e-4):(this._duration=this._mediaSource.duration,this._playbackTarget.paused&&this._playbackTarget.play().catch(function(n){console.log("NetStream.handleUpdateEnd() Playback Error: "+n.message)})),this._bytesQueue.length>0&&(this._sourceBuffer.appendBuffer(this._bytesQueue[0]),this._bytesQueue.shift()),this._looped=!1,this._playbackTarget.play().catch(function(n){console.log("NetStream.handleUpdateEnd() Playback Error: "+n.message)})}),i(this,"handleSeeked",a=>{this._playbackTarget.addEventListener("timeupdate",this.handleTime,!1)}),i(this,"handleTime",a=>{this._bytes&&this._playbackTarget.currentTime!=0&&this._playbackTarget.currentTime>=this._duration-1&&!this._looped&&(this._looped=!0,this._sourceBuffer.timestampOffset=this._duration-5e-4,this._sourceBuffer.appendBuffer(this._bytes.slice(0)))}),this._netConnection=t}get audioCodec(){return console.log("Netstream.audioCodec property not implemented."),null}get audioReliable(){return console.log("Netstream.audioReliable property not implemented."),null}set audioReliable(t){console.log("Netstream.audioReliable property not implemented.")}get audioSampleAccess(){return console.log("Netstream.audioSampleAccess property not implemented."),null}set audioSampleAccess(t){console.log("Netstream.audioSampleAccess property not implemented.")}get backBufferLength(){return console.log("Netstream.backBufferLength property not implemented."),null}get backBufferTime(){return console.log("Netstream.backBufferTimer property not implemented."),null}set backBufferTime(t){console.log("Netstream.backBufferTime property not implemented.")}get bufferLength(){return this._bytes?this._bytes.byteLength:0}get bufferTime(){return console.log("Netstream.bufferTimer property not implemented."),null}set bufferTime(t){console.log("Netstream.bufferTime property not implemented.")}get bufferTimeMax(){return console.log("Netstream.bufferTimeMax property not implemented."),null}set bufferTimeMax(t){console.log("Netstream.bufferTimeMax property not implemented.")}get bytesLoaded(){return this._bytes?this._bytes.byteLength:0}get bytesTotal(){return this._bytes?this._bytes.byteLength:0}get checkPolicyFile(){return console.log("Netstream.checkPolicyFile property not implemented."),null}set checkPolicyFile(t){console.log("Netstream.checkPolicyFile property not implemented.")}get client(){return this._clientObject}set client(t){this._clientObject=t}get currentFPS(){return this._currentFPS}get dataReliable(){return console.log("Netstream.dataReliable property not implemented."),null}set dataReliable(t){console.log("Netstream.dataReliable property not implemented.")}get decodedFrames(){return console.log("Netstream.decodedFrames property not implemented."),null}get farID(){return console.log("Netstream.farID property not implemented."),null}get farNonce(){return console.log("Netstream.farNonce property not implemented."),null}get inBufferSeek(){return this._inBufferSeek}set inBufferSeek(t){this._inBufferSeek=t}get info(){return console.log("Netstream.info property not implemented."),null}get liveDelay(){return console.log("Netstream.liveDelay property not implemented."),null}get maxPauseBufferTime(){return console.log("Netstream.maxPauseBufferTime property not implemented."),null}set maxPauseBufferTime(t){console.log("Netstream.maxPauseBufferTimer property not implemented.")}get multicastAvailabilitySendToAll(){return console.log("Netstream.multicastAvailabilitySendToAll property not implemented."),null}set multicastAvailabilitySendToAll(t){console.log("Netstream.multicastAvailabilitySendToAll property not implemented.")}get multicastAvailabilityUpdatePeriod(){return console.log("Netstream.multicastAvailabilityUpdatePeriod property not implemented."),null}set multicastAvailabilityUpdatePeriod(t){console.log("Netstream.multicastAvailabilityUpdatePeriod property not implemented.")}get multicastFetchPeriod(){return console.log("Netstream.multicastFetchPeriod property not implemented."),null}set multicastFetchPeriod(t){console.log("Netstream.multicastAvailabilityUpdatePeriod property not implemented.")}get multicastInfo(){return console.log("Netstream.multicastInfo property not implemented."),null}get multicastPushNeighborLimit(){return console.log("Netstream.multicastPushNeighborLimit property not implemented."),null}set multicastPushNeighborLimit(t){console.log("Netstream.multicastPushNeighborLimit property not implemented.")}get multicastRelayMarginDuration(){return console.log("Netstream.multicastRelayMarginDuration property not implemented."),null}set multicastRelayMarginDuration(t){console.log("Netstream.multicastRelayMarginDuration property not implemented.")}get multicastWindowDuration(){return console.log("Netstream.multicastWindowDuration property not implemented."),null}set multicastWindowDuration(t){console.log("Netstream.multicastWindowDuration property not implemented.")}get nearNonce(){return console.log("Netstream.nearNonce property not implemented."),null}get objectEncoding(){return console.log("Netstream.objectEncoding property not implemented."),null}get peerStreams(){return console.log("Netstream.peerStreams property not implemented."),null}get soundTransform(){return console.log("Netstream.soundTransform property not implemented."),null}set soundTransform(t){console.log("Netstream.soundTransform property not implemented.")}get time(){return this._time}get useHardwareDecoder(){return console.log("Netstream.useHardwareDecoder property not implemented."),null}set useHardwareDecoder(t){console.log("Netstream.useHardwareDecoder property not implemented.")}get useJitterBuffer(){return console.log("Netstream.useJitterBuffer property not implemented."),null}set useJitterBuffer(t){console.log("Netstream.useJitterBuffer property not implemented.")}get videoCodec(){return this._videoCodec}get videoReliable(){return console.log("Netstream.videoReliable property not implemented."),null}set videoReliable(t){console.log("Netstream.videoReliable property not implemented.")}get videoSampleAccess(){return console.log("Netstream.videoSampleAccess property not implemented."),null}set videoSampleAccess(t){console.log("Netstream.videoSampleAccess property not implemented.")}get videoStreamSettings(){return console.log("Netstream.videoStreamSettings property not implemented."),null}set videoStreamSettings(t){console.log("Netstream.videoStreamSettings property not implemented.")}get url(){return this._url}set playbackTarget(t){this._playbackTarget=t,this._playbackTarget.onabort=this.netStatusEvents,this._playbackTarget.oncanplay=this.netStatusEvents,this._playbackTarget.oncanplaythrough=this.netStatusEvents,this._playbackTarget.ondurationchange=this.netStatusEvents,this._playbackTarget.onemptied=this.netStatusEvents,this._playbackTarget.onended=this.netStatusEvents,this._playbackTarget.onerror=this.netStatusEvents,this._playbackTarget.onloadeddata=this.netStatusEvents,this._playbackTarget.onloadedmetadata=this.netStatusEvents,this._playbackTarget.onloadstart=this.netStatusEvents,this._playbackTarget.onpause=this.netStatusEvents,this._playbackTarget.onplay=this.netStatusEvents,this._playbackTarget.onplaying=this.netStatusEvents,this._playbackTarget.onprogress=this.netStatusEvents,this._playbackTarget.onratechange=this.netStatusEvents,this._playbackTarget.onseeked=this.netStatusEvents,this._playbackTarget.onseeking=this.netStatusEvents,this._playbackTarget.onstalled=this.netStatusEvents,this._playbackTarget.onsuspend=this.netStatusEvents,this._playbackTarget.ontimeupdate=this.netStatusEvents,this._playbackTarget.addEventListener("timeupdate",this.handleTime,!1),this._playbackTarget.onvolumechange=this.netStatusEvents,this._playbackTarget.onwaiting=this.netStatusEvents}get mimeCodec(){return this._mimeCodec}set mimeCodec(t){this._mimeCodec=t}get loop(){return this._loop}set loop(t){this._loop=t,this._playbackTarget&&this._url&&(this._playbackTarget.loop=t)}}i(Ea,"CONNECT_TO_FMS","connectToFMS");i(Ea,"DIRECT_CONNECTIONS","directConnections");i(Ea,"resetDRMVouchers",()=>{console.log("Netstream.resetDRMVouchers property not implemented.")});class wa extends Object{constructor(){super()}}i(wa,"END_SEQUENCE","endSequence");i(wa,"RESET_BEGIN","resetBegin");i(wa,"RESET_SEEK","resetSeek");class ts extends Object{constructor(){super()}}i(ts,"POST","POST");i(ts,"GET","GET");i(ts,"PUT","PUT");i(ts,"DELETE","DELETE");i(ts,"HEAD","HEAD");i(ts,"OPTIONS","OPTIONS");class Ta extends Object{constructor(){super()}}i(Ta,"FINGER","finger");i(Ta,"NONE","none");i(Ta,"STYLUS","stylus");class rh extends Object{constructor(){super()}}i(rh,"NORMAL","normal");i(rh,"ADVANCED","advanced");class vr extends Object{constructor(){super()}}i(vr,"REGULAR","regular");i(vr,"BOLD","bold");i(vr,"ITALIC","italic");i(vr,"BOLD_ITALIC","boldItalic");class ba extends Object{constructor(){super()}}i(ba,"EMBEDDED","embedded");i(ba,"EMBEDDED_CFF","embeddedCFF");i(ba,"DEVICE","device");class Sa extends Object{constructor(){super()}}i(Sa,"NONE","none");i(Sa,"PIXEL","pixel");i(Sa,"SUBPIXEL","subpixel");class Qt extends Object{constructor(t=null,r=null,a=null,n=null,h=null,l=null,p=null,w=null,E=null,C=null,O=null,N=null,V=null){super(),i(this,"_css"),i(this,"dirty",!0),i(this,"_font","Arial"),i(this,"_bold"),i(this,"_italic"),i(this,"_size",12),i(this,"_color",0),i(this,"_align","left"),t!=null&&(this.font=t),r!=null&&(this.size=r),a!=null&&(this.color=a),n!=null&&(this.bold=n),h!=null&&(this.italic=h),l!=null&&(this.underline=l),p!=null&&(this.url=p),w!=null&&(this.target=w),E!=null&&(this.align=E),C!=null&&(this.leftMargin=C),O!=null&&(this.rightMargin=O),N!=null&&(this.indent=N),V!=null&&(this.leading=V)}get align(){return this._align}set align(t){this._align=t}get blockIndent(){return null}set blockIndent(t){}get bold(){return this._bold}set bold(t){this._bold=t}get bullet(){return null}set bullet(t){}get color(){return this._color}set color(t){this._color=t}get display(){return null}set display(t){}get font(){return this._font}set font(t){this._font=t}get indent(){return null}set indent(t){}get italic(){return this._italic}set italic(t){this._italic=t}get kerning(){return null}set kerning(t){}get leading(){return null}set leading(t){}get leftMargin(){return null}set leftMargin(t){}get letterSpacing(){return null}set letterSpacing(t){}get rightMargin(){return null}set rightMargin(t){}get size(){return this._size}set size(t){this._size=t}get tabStops(){return null}set tabStops(t){}get target(){return null}set target(t){}get underline(){return null}set underline(t){}get url(){return null}set url(t){}get css(){return this._css=(this.italic?"italic ":"")+(this.bold?"bold ":"")+this.size+"px "+this.font,this._css}get csscolor(){return"rgb("+(Number(this.color)>>16&255)+","+(Number(this.color)>>8&255)+","+(Number(this.color)&255)+")"}}class ah extends Object{constructor(){super()}}i(ah,"DARK_COLOR","dark");i(ah,"LIGHT_COLOR","light");class Ma extends Object{constructor(){super()}}i(Ma,"LCD","lcd");i(Ma,"CRT","crt");i(Ma,"DEFAULT","default");class oi extends Object{constructor(){super()}}i(oi,"INPUT","input");i(oi,"DYNAMIC","dynamic");class ve extends Object{constructor(){super()}}i(ve,"NONE","none");i(ve,"LEFT","left");i(ve,"CENTER","center");i(ve,"RIGHT","right");const le=class extends Mi{constructor(){super(),i(this,"paragraph"),i(this,"paraBuilder"),i(this,"paraStyle"),i(this,"paraFontMgr"),i(this,"font"),i(this,"textPaint"),i(this,"input"),i(this,"_type",oi.DYNAMIC),i(this,"graphics",new dr),i(this,"graphicsDirty",!0),i(this,"glDirty",!1),i(this,"_text",""),i(this,"lines",[]),i(this,"_textFormat",new Qt),i(this,"_width",100),i(this,"_height",100),i(this,"_autoSize",ve.NONE),i(this,"_background",!1),i(this,"_backgroundColor",16777215),i(this,"_border",!1),i(this,"_borderColor",0),i(this,"_cacheImage"),i(this,"_cacheOffsetX",0),i(this,"_cacheOffsetY",0),i(this,"chars"),i(this,"da"),i(this,"indexBufferSet"),i(this,"nowKey",0),i(this,"num",0),i(this,"charVersion",1),i(this,"disWrapper"),i(this,"_textWidth",-1),i(this,"_textHeight",-1),i(this,"_wordWrap",!1),i(this,"hasATag",!1),i(this,"tagas",[]),i(this,"href"),i(this,"_htmlText"),i(this,"removedFromStage",e=>{this.input&&this.input.parentElement&&this.input.parentElement.removeChild(this.input)}),i(this,"doXML",(e,t,r,a,n,h,l)=>{if(this.href=n,e!=null){var p=e.localName;if(p==="br")var w=`
`;else e.nodeType===3&&(w=e.nodeValue.replace(/&nbsp;/g," "),w=w.replace(//g," "));if(e.attributes&&(p==="font"?(e.attributes.getNamedItem("face")&&(t=e.attributes.getNamedItem("face").nodeValue),e.attributes.getNamedItem("size")&&(r=Number(e.attributes.getNamedItem("size").nodeValue)),e.attributes.getNamedItem("color")&&(a=parseInt(e.attributes.getNamedItem("color").nodeValue.replace("#",""),16))):p==="a"?e.attributes.getNamedItem("href")&&(this.hasATag=!0,n=e.attributes.getNamedItem("href").nodeValue,this.href=n):p==="img"?e.attributes.getNamedItem("src")&&(e.attributes.getNamedItem("src").nodeValue,e.attributes.getNamedItem("width")&&parseFloat(e.attributes.getNamedItem("width").nodeValue)):p==="textformat"&&e.attributes.getNamedItem("indent")&&(h=Number(e.attributes.getNamedItem("@indent").nodeValue))),p==="u"&&(l=1),this._textFormat.font=t&&t.toLowerCase(),this._textFormat.size=r,this._textFormat.color=a,this._textFormat.indent=h,this._textFormat.underline=l,w&&w.length>0&&this.appendText(w),e.childNodes)for(var E=0;E<e.childNodes.length;E++)this.doXML(e.childNodes[E],t,r,a,n,h,l)}}),i(this,"appendText",e=>{D.dirtyGraphics=!0,this.graphicsDirty=!0,this._text!=null?this._text+=e:this._text=e,this.lines=this.lines||[],this.lines=this.lines.concat(e.split(`
`))}),i(this,"__updateBuff",()=>{if(this.glDirty&&this.chars&&this.chars.length>0){var e=-1;this.num=0,this.charVersion++;for(var t=1,r=0;r<t;r++){var a=this;if(a.disWrapper)for(;a.disWrapper.numChildren>0;)a.disWrapper.removeChildAt(0);a._textWidth=0;var n=e+1,h=a.chars;if(h&&a.chars.length){e++;var l=le.lineInfos[e]=le.lineInfos[e]||new Kr;l.maxFontSize=0;var p=2,w=2;l.offsetY=w;for(var E=a.chars.length,C=0;C<E;C++){var O=h[C];O.lineInfo=l;var N=O.texture;if(N.u0==-1)return;var V=O.size/N.fontSize;if(O.v==`
`){p=2,w+=l.maxFontSize+O.leading,e++,l&&a._textWidth<l.width&&(a._textWidth=l.width),l=le.lineInfos[e]=le.lineInfos[e]||new Kr,l.maxFontSize=0,l.width=0,l.offsetY=w;continue}else O.v=="\uE779"&&console.log("TextField img");if(a.wordWrap)p+N.width*V>a._width&&(p=2,w+=l.maxFontSize+O.leading,e++,l&&a._textWidth<l.width&&(a._textWidth=l.width),l=le.lineInfos[e]=le.lineInfos[e]||new Kr,l.maxFontSize=0,l.width=0,l.offsetY=w);else if(a.autoSize==ve.NONE&&p+N.width*V>a._width)continue;l.maxFontSize<O.size&&(l.maxFontSize=O.size),O.charVersion=this.charVersion,O.lineInfo=l,O.x0=p,l.width=O.x1=p+N.width*V,O.y0=w-O.size,O.y1=O.y0+N.height*V,p+=N.xadvance*V,this.num++,O.underline&&this.num++}for(a._textHeight=w+l.maxFontSize,l&&a._textWidth<l.width&&(a._textWidth=l.width),C=n;C<=e;C++)l=le.lineInfos[C],a.autoSize==ve.CENTER?l.offsetX=a._width/2-l.width/2:a.autoSize==ve.RIGHT?l.offsetX=a._width-l.width:l.offsetX=0;if(a.autoSize==ve.NONE&&a._textHeight>a._height){var X=(a._height-a._textHeight)*a.scrollV;for(C=0;C<E;C++)O=h[C],l=O.lineInfo,O.charVersion==this.charVersion&&(O.y0+X+l.maxFontSize<0||O.y0+X+l.maxFontSize>a._height)&&(this.num--,O.underline&&this.num--,O.charVersion--)}}}var J=this.getNextPow2(this.num);this.da==null?(this.nowKey=J,this.da=le.POP_POOL(J)):this.nowKey!=J&&(le.PUSH_POOL(this.nowKey,this.da),this.da=le.POP_POOL(J),this.nowKey=J),this.indexBufferSet=le.indexPool[J];var tt=this.indexBufferSet==null;if(tt){this.indexBufferSet=le.indexPool[J]=new qn(new Uint16Array(J*6),WebGLRenderingContext.STATIC_DRAW);var nt=this.indexBufferSet.data;for(r=0;r<J;r++)nt[r*6]=r*4,nt[r*6+1]=nt[r*6+3]=r*4+2,nt[r*6+2]=nt[r*6+4]=r*4+1,nt[r*6+5]=r*4+3}this.da.pos.dirty=!0,this.da.color.dirty=!0,this.da.uv.dirty=!0;var ct=this.da.pos.data,Dt=this.da.color.data,At=this.da.uv.data,pt=0;for(r=0;r<t;r++)if(a=this,h=a.chars,h&&h.length){for(E=h.length,X=(a._height-a._textHeight)*a.scrollV,X>0&&(X=0),C=0;C<E;C++)if(O=h[C],O.charVersion==this.charVersion){N=O.texture;var St=O.lineInfo.maxFontSize+X,he=O.lineInfo.offsetX;ct[pt*8]=ct[pt*8+4]=O.x0+he,ct[pt*8+1]=ct[pt*8+3]=O.y0+St,ct[pt*8+2]=ct[pt*8+6]=O.x1+he,ct[pt*8+5]=ct[pt*8+7]=O.y1+St,At[pt*8]=At[pt*8+4]=N.u0,At[pt*8+1]=At[pt*8+3]=N.v0,At[pt*8+2]=At[pt*8+6]=N.u1,At[pt*8+5]=At[pt*8+7]=N.v1;var Yt=4278190080|O.bgr;Dt[pt*4]=Yt,Dt[pt*4+1]=Yt,Dt[pt*4+2]=Yt,Dt[pt*4+3]=Yt,pt++}}this.glDirty=!1}}),i(this,"input_change",e=>{this.text=this.input.value}),i(this,"getBounds",e=>{var t=new Ht(0,0,this.textWidth,this.textHeight);return(this.border||this.background)&&t.inflate(4,4),t}),i(this,"getFullBounds",e=>{var t=new Ht(0,0,this.textWidth,this.textHeight);(this.border||this.background)&&t.inflate(3.5,3);var r=this.rotation*(Math.PI/180),a=Math.round((t.height*Math.sin(r)+t.width*Math.cos(r))*10)/10,n=Math.round((t.height*Math.cos(r)+t.width*Math.sin(r))*10)/10;return a=a>t.width?a-t.width:0,n=n>t.height?n-t.width:0,t.inflate(a/2,n/2),t}),i(this,"getCharBoundaries",e=>null),i(this,"getCharIndexAtPoint",(e,t)=>0),i(this,"getCharIndexNearestPoint",(e,t)=>0),i(this,"getFirstCharInParagraph",e=>0),i(this,"getLineIndexAtPoint",(e,t)=>0),i(this,"getLineIndexOfChar",e=>0),i(this,"getLineLength",e=>0),i(this,"getLineMetrics",e=>null),i(this,"getLineOffset",e=>0),i(this,"getLineText",e=>null),i(this,"getParagraphLength",e=>0),i(this,"getTextFormat",(e=-1,t=-1)=>this._textFormat),i(this,"getTextRuns",(e=0,t=2147483647)=>null),i(this,"getRawText",()=>null),i(this,"replaceSelectedText",e=>{}),i(this,"replaceText",(e,t,r)=>{this.text=this._text.substr(0,e)+r+this._text.substr(t)}),i(this,"setSelection",(e,t)=>{}),i(this,"setTextFormat",(e,t=-1,r=-1)=>{this._textFormat=e}),i(this,"getImageReference",e=>null),i(this,"__update",(e,t=0,r=0,a=[])=>{super.__update(e,t,r,a),this._text!=null&&this.visible&&(this.__draw(e,this.transform.concatenatedMatrix,a),this.paragraph&&D.renderer.renderParagraph(e,this.paragraph,this.transform.concatenatedMatrix),D.drawCounter++)}),i(this,"__draw",(e,t,r)=>{if(this._border||this._background){this.graphics.clear(),this.border&&this.graphics.lineStyle(0,this.borderColor),this.background&&this.graphics.beginFill(this.backgroundColor),this.graphics.drawRect(-2,0,this.width+4,this.height+2);var a=this.filters.concat(r);D.renderer.renderGraphics(e,this.graphics.graphicsData,t,this.blendMode,this.transform.concatenatedColorTransform,a)}if(this.graphicsDirty)if(this.type==oi.DYNAMIC){let n=D.renderer.getRGBAColor(this._textFormat.color,this.alpha,this.transform.colorTransform),h=this._textFormat.align=="left"?D.canvasKit.TextAlign.Left:this._textFormat.align=="right"?D.canvasKit.TextAlign.Right:D.canvasKit.TextAlign.Center;this.paraStyle=new D.canvasKit.ParagraphStyle({textStyle:{color:n,fontFamilies:[this._textFormat.font],fontSize:this._textFormat.size,fontStyle:{weight:this._textFormat.bold?D.canvasKit.FontWeight.Bold:D.canvasKit.FontWeight.Normal,slant:this._textFormat.italic?D.canvasKit.FontSlant.Italic:D.canvasKit.FontSlant.Upright}},textAlign:h}),this.paragraph&&this.paragraph.delete(),this.paraFontMgr=D.canvasKit.FontMgr.FromData(D.fonts[this._textFormat.font]),this.paraBuilder=D.canvasKit.ParagraphBuilder.Make(this.paraStyle,this.paraFontMgr),this.paraBuilder.addText(this._text),this.paragraph=this.paraBuilder.build(),this.paragraph.layout(this._textFormat.size*this._text.length),this.paraFontMgr.delete(),this.paraBuilder.delete()}else this.input.style.left=t.tx+"px",this.input.style.top=t.ty+"px",this.input.style.width=this.width+"px",this.input.style.height=this.height+"px",this.input.style.fontFamily=this.defaultTextFormat.font,this.input.style.fontSize=this.defaultTextFormat.size+"px",this.input.style.color=this.defaultTextFormat.csscolor,this.input.addEventListener("mousedown",this.handleHTMLMouseDown),this.input.value!=this.text&&(this.input.value=this.text);this.type==oi.INPUT&&this.input.parentElement==null&&this.stage.__htmlWrapper.appendChild(this.input),this.graphicsDirty=!1}),i(this,"handleHTMLMouseDown",e=>{this.dispatchEvent(new B(B.MOUSE_DOWN)),this.hasEventListener(xe.FOCUS_IN)&&this.dispatchEvent(new xe(xe.FOCUS_IN))}),i(this,"__doMouse",e=>this.mouseEnabled&&this.visible&&this.hitTestPoint(this.stage.mouseX,this.stage.mouseY)?(e.type==B.MOUSE_DOWN&&this.dispatchEvent(new xe(xe.FOCUS_IN)),this):null),i(this,"hitTestPoint",(e,t,r=!1)=>!1),i(this,"getNextPow2",e=>{for(var t=1;t<e;)t*=2;return t}),i(this,"parseFromString",e=>new DOMParser().parseFromString(e,"text/html")),this.textPaint=new D.canvasKit.Paint,this.textPaint.setColor(D.canvasKit.Color(40,0,0,1)),this.textPaint.setAntiAlias(!0),this.font=new D.canvasKit.Font(null,12),this.textColor=0,this.addEventListener(W.REMOVED_FROM_STAGE,this.removedFromStage)}get alwaysShowSelection(){return!1}set alwaysShowSelection(e){}get antiAliasType(){return null}set antiAliasType(e){}get autoSize(){return this._autoSize}set autoSize(e){this._autoSize=e,this.graphicsDirty=!0,D.dirtyGraphics=!0}get background(){return this._background}set background(e){this._background=e,this.graphicsDirty=!0,D.dirtyGraphics=!0}get backgroundColor(){return this._backgroundColor}set backgroundColor(e){this._backgroundColor=e,this.graphicsDirty=!0,D.dirtyGraphics=!0}get border(){return this._border}set border(e){this._border=e,this.graphicsDirty=!0,D.dirtyGraphics=!0}get borderColor(){return this._borderColor}set borderColor(e){this._borderColor=e,this.graphicsDirty=!0,D.dirtyGraphics=!0}get bottomScrollV(){return 0}get caretIndex(){return 0}get condenseWhite(){return!1}set condenseWhite(e){}get defaultTextFormat(){return this._textFormat}set defaultTextFormat(e){this._textFormat=e,this.graphicsDirty=!0,D.dirtyGraphics=!0}get embedFonts(){return!1}set embedFonts(e){}get gridFitType(){return null}set gridFitType(e){}get length(){return 0}get textInteractionMode(){return null}get maxChars(){return 0}set maxChars(e){}get maxScrollH(){return 0}get maxScrollV(){return 0}get mouseWheelEnabled(){return!1}set mouseWheelEnabled(e){}get multiline(){return!1}set multiline(e){}get numLines(){return 0}get displayAsPassword(){return!1}set displayAsPassword(e){}get restrict(){return null}set restrict(e){}get scrollH(){return 0}set scrollH(e){}get scrollV(){return 0}set scrollV(e){}get selectable(){return!1}set selectable(e){}get selectedText(){return this.text.substring(this.selectionBeginIndex,this.selectionEndIndex)}get selectionBeginIndex(){return 0}get selectionEndIndex(){return 0}get sharpness(){return 0}set sharpness(e){}get styleSheet(){return null}set styleSheet(e){}get htmlText(){return null}set htmlText(e){if(this.hasATag=!1,this.glDirty=!0,e!=null){this.tagas=[],this._text="",e=e.replace(/\\n/g,"<br/>").replace(/\n/g,"<br/>").replace(/<br>/g,"<br/>"),this._htmlText=e;try{for(var t=new DOMParser,r=this.parseFromString(e),a=0;a<r.body.childNodes.length;a++)this.doXML(r.body.childNodes[a],this._textFormat.font,Number(this._textFormat.size),Number(this._textFormat.color),null,Number(this._textFormat.indent),Number(this._textFormat.underline))}catch{this.text=e}}}get text(){return this._text}set text(e){e===null&&(e=""),this._text!==e&&(this.hasATag=!1,this.chars=null,this.lines=null,this._text=null,this.appendText(e))}get textColor(){return Number(this._textFormat.color)}set textColor(e){this._textFormat.color=e,this.graphicsDirty=!0,D.dirtyGraphics=!0}get textHeight(){if(this.__updateBuff(),this._textHeight!=-1)return this._textHeight;var e=this.lines?Number(this.defaultTextFormat.size)*this.lines.length:0;return e}get textWidth(){if(this.__updateBuff(),this._textWidth!=-1)return this._textWidth;if(this.stage&&this.lines){var e=this.stage.ctx2d;e.font=this.defaultTextFormat.css;for(var t=0,r=0;r<this.lines.length;r++){var a=e.measureText(this.lines[r]).width;a>t&&(t=a)}return t}return 0}get thickness(){return 0}set thickness(e){}get type(){return this._type}set type(e){this._type=e,this._type==oi.INPUT&&this.input==null&&(this.input=document.createElement("input"),this.input.oninput=this.input_change,this.input.style.position="absolute",this.input.style.backgroundColor="transparent",this.input.style.borderWidth="0",this.input.style.outline="none")}get wordWrap(){return this._wordWrap}set wordWrap(e){this._wordWrap=e}get width(){return this.autoSize==ve.LEFT?this.textWidth+4:this._width}set width(e){this._width=e}get height(){return this.autoSize==ve.LEFT?this.textHeight+2:this._height}set height(e){this._height=e}get useRichTextClipboard(){return!1}set useRichTextClipboard(e){}};let bt=le;i(bt,"indexPool",{});i(bt,"DRAWABLE_POOL",{});i(bt,"lineInfos",[]);i(bt,"isFontCompatible",(e,t)=>!1);i(bt,"PUSH_POOL",(e,t)=>{var r=le.DRAWABLE_POOL[e];r==null&&(r=le.DRAWABLE_POOL[e]=[]),r.push(t)});i(bt,"POP_POOL",e=>{var t=le.DRAWABLE_POOL[e];if(t==null&&(t=le.DRAWABLE_POOL[e]=[]),t.length==0){var r=new Eo(new Float32Array(e*8),new Float32Array(e*8),null,WebGLRenderingContext.DYNAMIC_DRAW);return r}return t.pop()});class Ai extends Object{constructor(){super()}}i(Ai,"LEFT","left");i(Ai,"CENTER","center");i(Ai,"RIGHT","right");i(Ai,"JUSTIFY","justify");i(Ai,"START","start");i(Ai,"END","end");class nh extends Object{constructor(){super()}}i(nh,"INLINE","inline");i(nh,"BLOCK","block");class hh extends Object{constructor(){super()}}i(hh,"NORMAL","normal");i(hh,"SELECTION","selection");const oh=class extends Oo{constructor(){super(),i(this,"_builtInItems"),i(this,"_clipboardItems"),i(this,"_clipboardMenu",!1),i(this,"_customItems",[]),i(this,"_link")}get builtInItems(){return this._builtInItems}set builtInItems(e){this._builtInItems=e}get clipboardItems(){return this._clipboardItems}set clipboardItems(e){this._clipboardItems=e}get clipboardMenu(){return this._clipboardMenu}set clipboardMenu(e){this._clipboardMenu=e}get customItems(){return this._customItems}set customItems(e){this._customItems=e}static get isSupported(){return oh._isSupported}get link(){return this._link}set link(e){this._link=e}clone(){return null}hideBuiltInItems(){}};let Fo=oh;i(Fo,"_isSupported",!0);class Rs extends Object{constructor(){super()}}i(Rs,"STANDARD",0);i(Rs,"LEFT",1);i(Rs,"RIGHT",2);i(Rs,"NUM_PAD",3);i(Rs,"D_PAD",4);const at=class extends Object{constructor(){super()}static get capsLock(){return!1}static get numLock(){return!1}static isAccessible(){return!1}static get hasVirtualKeyboard(){return!1}static get physicalKeyboardType(){return""}};let b=at;i(b,"KEYNAME_UPARROW","Up");i(b,"KEYNAME_DOWNARROW","Down");i(b,"KEYNAME_LEFTARROW","Left");i(b,"KEYNAME_RIGHTARROW","Right");i(b,"KEYNAME_F1","F1");i(b,"KEYNAME_F2","F2");i(b,"KEYNAME_F3","F3");i(b,"KEYNAME_F4","F4");i(b,"KEYNAME_F5","F5");i(b,"KEYNAME_F6","F6");i(b,"KEYNAME_F7","F7");i(b,"KEYNAME_F8","F8");i(b,"KEYNAME_F9","F9");i(b,"KEYNAME_F10","F10");i(b,"KEYNAME_F11","F11");i(b,"KEYNAME_F12","F12");i(b,"KEYNAME_F13","F13");i(b,"KEYNAME_F14","F14");i(b,"KEYNAME_F15","F15");i(b,"KEYNAME_F16","F16");i(b,"KEYNAME_F17","F17");i(b,"KEYNAME_F18","F18");i(b,"KEYNAME_F19","F19");i(b,"KEYNAME_F20","F20");i(b,"KEYNAME_F21","F21");i(b,"KEYNAME_F22","F22");i(b,"KEYNAME_F23","F23");i(b,"KEYNAME_F24","F24");i(b,"KEYNAME_F25","F25");i(b,"KEYNAME_F26","F26");i(b,"KEYNAME_F27","F27");i(b,"KEYNAME_F28","F28");i(b,"KEYNAME_F29","F29");i(b,"KEYNAME_F30","F30");i(b,"KEYNAME_F31","F31");i(b,"KEYNAME_F32","F32");i(b,"KEYNAME_F33","F33");i(b,"KEYNAME_F34","F34");i(b,"KEYNAME_F35","F35");i(b,"KEYNAME_INSERT","Insert");i(b,"KEYNAME_DELETE","Delete");i(b,"KEYNAME_HOME","Home");i(b,"KEYNAME_BEGIN","Begin");i(b,"KEYNAME_END","End");i(b,"KEYNAME_PAGEUP","PgUp");i(b,"KEYNAME_PAGEDOWN","PgDn");i(b,"KEYNAME_PRINTSCREEN","PrntScrn");i(b,"KEYNAME_SCROLLLOCK","ScrlLck");i(b,"KEYNAME_PAUSE","Pause");i(b,"KEYNAME_SYSREQ","SysReq");i(b,"KEYNAME_BREAK","Break");i(b,"KEYNAME_RESET","Reset");i(b,"KEYNAME_STOP","Stop");i(b,"KEYNAME_MENU","Menu");i(b,"KEYNAME_USER","User");i(b,"KEYNAME_SYSTEM","Sys");i(b,"KEYNAME_PRINT","Print");i(b,"KEYNAME_CLEARLINE","ClrLn");i(b,"KEYNAME_CLEARDISPLAY","ClrDsp");i(b,"KEYNAME_INSERTLINE","InsLn");i(b,"KEYNAME_DELETELINE","DelLn");i(b,"KEYNAME_INSERTCHAR","InsChr");i(b,"KEYNAME_DELETECHAR","DelChr");i(b,"KEYNAME_PREV","Prev");i(b,"KEYNAME_NEXT","Next");i(b,"KEYNAME_SELECT","Select");i(b,"KEYNAME_EXECUTE","Exec");i(b,"KEYNAME_UNDO","Undo");i(b,"KEYNAME_REDO","Redo");i(b,"KEYNAME_FIND","Find");i(b,"KEYNAME_HELP","Help");i(b,"KEYNAME_MODESWITCH","ModeSw");i(b,"STRING_UPARROW","\uF700");i(b,"STRING_DOWNARROW","\uF701");i(b,"STRING_LEFTARROW","\uF702");i(b,"STRING_RIGHTARROW","\uF703");i(b,"STRING_F1","\uF704");i(b,"STRING_F2","\uF705");i(b,"STRING_F3","\uF706");i(b,"STRING_F4","\uF707");i(b,"STRING_F5","\uF708");i(b,"STRING_F6","\uF709");i(b,"STRING_F7","\uF70A");i(b,"STRING_F8","\uF70B");i(b,"STRING_F9","\uF70C");i(b,"STRING_F10","\uF70D");i(b,"STRING_F11","\uF70E");i(b,"STRING_F12","\uF70F");i(b,"STRING_F13","\uF710");i(b,"STRING_F14","\uF711");i(b,"STRING_F15","\uF712");i(b,"STRING_F16","\uF713");i(b,"STRING_F17","\uF714");i(b,"STRING_F18","\uF715");i(b,"STRING_F19","\uF716");i(b,"STRING_F20","\uF717");i(b,"STRING_F21","\uF718");i(b,"STRING_F22","\uF719");i(b,"STRING_F23","\uF71A");i(b,"STRING_F24","\uF71B");i(b,"STRING_F25","\uF71C");i(b,"STRING_F26","\uF71D");i(b,"STRING_F27","\uF71E");i(b,"STRING_F28","\uF71F");i(b,"STRING_F29","\uF720");i(b,"STRING_F30","\uF721");i(b,"STRING_F31","\uF722");i(b,"STRING_F32","\uF723");i(b,"STRING_F33","\uF724");i(b,"STRING_F34","\uF725");i(b,"STRING_F35","\uF726");i(b,"STRING_INSERT","\uF727");i(b,"STRING_DELETE","\uF728");i(b,"STRING_HOME","\uF729");i(b,"STRING_BEGIN","\uF72A");i(b,"STRING_END","\uF72B");i(b,"STRING_PAGEUP","\uF72C");i(b,"STRING_PAGEDOWN","\uF72D");i(b,"STRING_PRINTSCREEN","\uF72E");i(b,"STRING_SCROLLLOCK","\uF72F");i(b,"STRING_PAUSE","\uF730");i(b,"STRING_SYSREQ","\uF731");i(b,"STRING_BREAK","\uF732");i(b,"STRING_RESET","\uF733");i(b,"STRING_STOP","\uF734");i(b,"STRING_MENU","\uF735");i(b,"STRING_USER","\uF736");i(b,"STRING_SYSTEM","\uF737");i(b,"STRING_PRINT","\uF738");i(b,"STRING_CLEARLINE","\uF739");i(b,"STRING_CLEARDISPLAY","\uF73A");i(b,"STRING_INSERTLINE","\uF73B");i(b,"STRING_DELETELINE","\uF73C");i(b,"STRING_INSERTCHAR","\uF73D");i(b,"STRING_DELETECHAR","\uF73E");i(b,"STRING_PREV","\uF73F");i(b,"STRING_NEXT","\uF740");i(b,"STRING_SELECT","\uF741");i(b,"STRING_EXECUTE","\uF742");i(b,"STRING_UNDO","\uF743");i(b,"STRING_REDO","\uF744");i(b,"STRING_FIND","\uF745");i(b,"STRING_HELP","\uF746");i(b,"STRING_MODESWITCH","\uF747");i(b,"CharCodeStrings",[at.KEYNAME_UPARROW,at.KEYNAME_DOWNARROW,at.KEYNAME_LEFTARROW,at.KEYNAME_RIGHTARROW,at.KEYNAME_F1,at.KEYNAME_F2,at.KEYNAME_F3,at.KEYNAME_F4,at.KEYNAME_F5,at.KEYNAME_F6,at.KEYNAME_F7,at.KEYNAME_F8,at.KEYNAME_F9,at.KEYNAME_F10,at.KEYNAME_F11,at.KEYNAME_F12,at.KEYNAME_F13,at.KEYNAME_F14,at.KEYNAME_F15,at.KEYNAME_F16,at.KEYNAME_F17,at.KEYNAME_F18,at.KEYNAME_F19,at.KEYNAME_F20,at.KEYNAME_F21,at.KEYNAME_F22,at.KEYNAME_F23,at.KEYNAME_F24,at.KEYNAME_F25,at.KEYNAME_F26,at.KEYNAME_F27,at.KEYNAME_F28,at.KEYNAME_F29,at.KEYNAME_F30,at.KEYNAME_F31,at.KEYNAME_F32,at.KEYNAME_F33,at.KEYNAME_F34,at.KEYNAME_F35,at.KEYNAME_INSERT,at.KEYNAME_DELETE,at.KEYNAME_HOME,at.KEYNAME_BEGIN,at.KEYNAME_END,at.KEYNAME_PAGEUP,at.KEYNAME_PAGEDOWN,at.KEYNAME_PRINTSCREEN,at.KEYNAME_SCROLLLOCK,at.KEYNAME_PAUSE,at.KEYNAME_SYSREQ,at.KEYNAME_BREAK,at.KEYNAME_RESET,at.KEYNAME_STOP,at.KEYNAME_MENU,at.KEYNAME_USER,at.KEYNAME_SYSTEM,at.KEYNAME_PRINT,at.KEYNAME_CLEARLINE,at.KEYNAME_CLEARDISPLAY,at.KEYNAME_INSERTLINE,at.KEYNAME_DELETELINE,at.KEYNAME_INSERTCHAR,at.KEYNAME_DELETECHAR,at.KEYNAME_PREV,at.KEYNAME_NEXT,at.KEYNAME_SELECT,at.KEYNAME_EXECUTE,at.KEYNAME_UNDO,at.KEYNAME_REDO,at.KEYNAME_FIND,at.KEYNAME_HELP,at.KEYNAME_MODESWITCH]);i(b,"NUMBER_0",48);i(b,"NUMBER_1",49);i(b,"NUMBER_2",50);i(b,"NUMBER_3",51);i(b,"NUMBER_4",52);i(b,"NUMBER_5",53);i(b,"NUMBER_6",54);i(b,"NUMBER_7",55);i(b,"NUMBER_8",56);i(b,"NUMBER_9",57);i(b,"A",65);i(b,"B",66);i(b,"C",67);i(b,"D",68);i(b,"E",69);i(b,"F",70);i(b,"G",71);i(b,"H",72);i(b,"I",73);i(b,"J",74);i(b,"K",75);i(b,"L",76);i(b,"M",77);i(b,"N",78);i(b,"O",79);i(b,"P",80);i(b,"Q",81);i(b,"R",82);i(b,"S",83);i(b,"T",84);i(b,"U",85);i(b,"V",86);i(b,"W",87);i(b,"X",88);i(b,"Y",89);i(b,"Z",90);i(b,"SEMICOLON",186);i(b,"EQUAL",187);i(b,"COMMA",188);i(b,"MINUS",189);i(b,"PERIOD",190);i(b,"SLASH",191);i(b,"BACKQUOTE",192);i(b,"LEFTBRACKET",219);i(b,"BACKSLASH",220);i(b,"RIGHTBRACKET",221);i(b,"QUOTE",222);i(b,"ALTERNATE",18);i(b,"BACKSPACE",8);i(b,"CAPS_LOCK",20);i(b,"COMMAND",15);i(b,"CONTROL",17);i(b,"DELETE",46);i(b,"DOWN",40);i(b,"END",35);i(b,"ENTER",13);i(b,"ESCAPE",27);i(b,"F1",112);i(b,"F2",113);i(b,"F3",114);i(b,"F4",115);i(b,"F5",116);i(b,"F6",117);i(b,"F7",118);i(b,"F8",119);i(b,"F9",120);i(b,"F10",121);i(b,"F11",122);i(b,"F12",123);i(b,"F13",124);i(b,"F14",125);i(b,"F15",126);i(b,"HOME",36);i(b,"INSERT",45);i(b,"LEFT",37);i(b,"NUMPAD",21);i(b,"NUMPAD_0",96);i(b,"NUMPAD_1",97);i(b,"NUMPAD_2",98);i(b,"NUMPAD_3",99);i(b,"NUMPAD_4",100);i(b,"NUMPAD_5",101);i(b,"NUMPAD_6",102);i(b,"NUMPAD_7",103);i(b,"NUMPAD_8",104);i(b,"NUMPAD_9",105);i(b,"NUMPAD_ADD",107);i(b,"NUMPAD_DECIMAL",110);i(b,"NUMPAD_DIVIDE",111);i(b,"NUMPAD_ENTER",108);i(b,"NUMPAD_MULTIPLY",106);i(b,"NUMPAD_SUBTRACT",109);i(b,"PAGE_DOWN",34);i(b,"PAGE_UP",33);i(b,"RIGHT",39);i(b,"SHIFT",16);i(b,"SPACE",32);i(b,"TAB",9);i(b,"UP",38);i(b,"RED",16777216);i(b,"GREEN",16777217);i(b,"YELLOW",16777218);i(b,"BLUE",16777219);i(b,"CHANNEL_UP",16777220);i(b,"CHANNEL_DOWN",16777221);i(b,"RECORD",16777222);i(b,"PLAY",16777223);i(b,"PAUSE",16777224);i(b,"STOP",16777225);i(b,"FAST_FORWARD",16777226);i(b,"REWIND",16777227);i(b,"SKIP_FORWARD",16777228);i(b,"SKIP_BACKWARD",16777229);i(b,"NEXT",16777230);i(b,"PREVIOUS",16777231);i(b,"LIVE",16777232);i(b,"LAST",16777233);i(b,"MENU",16777234);i(b,"INFO",16777235);i(b,"GUIDE",16777236);i(b,"EXIT",16777237);i(b,"BACK",16777238);i(b,"AUDIO",16777239);i(b,"SUBTITLE",16777240);i(b,"DVR",16777241);i(b,"VOD",16777242);i(b,"INPUT",16777243);i(b,"SETUP",16777244);i(b,"HELP",16777245);i(b,"MASTER_SHELL",16777246);i(b,"SEARCH",16777247);class xa extends Object{constructor(){super()}}i(xa,"ALPHANUMERIC","alphanumeric");i(xa,"KEYPAD","keypad");i(xa,"NONE","none");class Ls extends Object{constructor(){super()}}i(Ls,"AUTO","auto");i(Ls,"ARROW","arrow");i(Ls,"BUTTON","button");i(Ls,"HAND","hand");i(Ls,"IBEAM","ibeam");class Aa extends Object{constructor(){super()}}i(Aa,"NONE","none");i(Aa,"GESTURE","gesture");i(Aa,"TOUCH_POINT","touchPoint");const ai=class extends ea{constructor(e,t,r,a){super(t,r?0:1),i(this,"id"),i(this,"closure"),i(this,"rest"),this.closure=e,this.rest=a,this.addEventListener(hi.TIMER,this.onTimer),this.start(),this.id=ai.intervals.length+1,ai.intervals.push(this)}static clearInterval(e){e--,ai.intervals[e]instanceof ai&&(ai.intervals[e].stop(),delete ai.intervals[e])}onTimer(e){this.closure.apply(null,this.rest),this.repeatCount===1&&ai.intervals[this.id-1]==this&&delete ai.intervals[this.id-1]}};let lh=ai;i(lh,"intervals",[]);function Po(e,t,...r){return new lh(e,t,!1,r).id}class Ro extends zi{constructor(t="",r=0){super(t,r),this.name="ArgumentError"}}i(Ro,"len",1);class Lo extends st{constructor(){super();let t=Math.PI/180*45,r=new Pt;r.createGradientBox(500,500,t),this.graphics.lineStyle(3,41945),this.graphics.beginGradientFill("linear",[4605510,16777215],[.3,.43],[0,255],r),this.graphics.drawRoundRect(0,0,500,500,15,15);let a=new st;a.name="circle",a.graphics.lineStyle(5,13421772),a.graphics.beginFill(16744192),a.graphics.drawCircle(0,0,50),a.x=a.width/2+80,a.y=a.height/2+80,a.filters=[new Dn(10,45,0,1,10,10,100,100)],this.addChild(a);let n=new st;n.graphics.lineStyle(5,0),n.graphics.beginFill(16776960),n.graphics.drawRect(-50,-50,100,100),n.filters=[new Jr(255,1,20,20,2,100,!1,!1)],n.x=500-n.width/2-80,n.y=n.height/2+80,this.addChild(n);let h=new st;h.graphics.lineStyle(5,0,1),h.graphics.beginFill(16711680,1),h.graphics.drawRect(-50,-50,100,100),h.filters=[new Jr(16777215,1,20,20,2,100,!1,!0)],h.x=h.width/2+80,h.y=500-h.height/2-80,this.addChild(h);let l=new Pt;l.createGradientBox(100,100,0,-50,-33);let p=new st;p.graphics.lineStyle(3,55769),p.graphics.beginFill(10682585),p.graphics.beginGradientFill(ue.RADIAL,[10682585,16760831],[1,1],[0,255],l),p.graphics.moveTo(0,-50),p.graphics.lineTo(50,50),p.graphics.lineTo(-50,50),p.graphics.lineTo(0,-50),p.filters=[new cr(5,5)],p.x=500-p.width/2-80,p.y=500-p.height/2-80,this.addChild(p);let w=new Qt("Arial",22,16777215),E=new bt;E.defaultTextFormat=w,E.text="Drop Shadow, Glow, Knockout Glow and Blur",E.y=this.height+20,E.x=(this.width-E.textWidth)/2,this.addChild(E)}}class Do extends st{constructor(){super();it(this,"mat");it(this,"degrees",0);it(this,"githubBtn");it(this,"update",(r=null)=>{let a=Math.PI/180*this.degrees,n=new Pt;n.createGradientBox(this.stage.stageWidth,100,Math.PI/180*90),this.mat=new Pt,this.mat.createGradientBox(this.stage.stageWidth,100,a),this.graphics.clear(),this.graphics.lineStyle(5),this.graphics.lineGradientStyle("linear",[4605510,16777215],[1,1],[0,255],n),this.graphics.beginGradientFill("linear",[41945,16777215,41945],[1,1,1],[0,127,255],this.mat),this.graphics.drawRoundRectComplex(1,0,this.stage.stageWidth-2,100,0,0,10,10),this.githubBtn.x=this.stage.stageWidth-4,this.degrees+=.3,this.degrees>360&&(this.degrees=0)});let r=new Qt("Arial",30,16777215,!0),a=new bt;a.defaultTextFormat=r,a.text="FlashPort",a.x=75,a.y=15,this.addChild(a),r=new Qt("Arial",13,4605510,!0);let n=new bt;n.defaultTextFormat=r,n.text="2D graphics engine for the web.",n.x=75,n.y=60,this.addChild(n);var h=new ui(D.images["FlashPortMan-Med"]);h.scaleX=h.scaleY=.5,h.x=10,h.y=8,this.addChild(h);let l=new ui(D.images.ForkMeGithub);this.githubBtn=new st,this.githubBtn.graphics.beginFill(16777215,0),this.githubBtn.graphics.drawRect(-90,0,90,100),l.height=100,l.scaleX=l.scaleY,l.rotation=90,this.githubBtn.addChild(l),this.githubBtn.y=2,this.githubBtn.x=this.stage.stageWidth-4,this.githubBtn.buttonMode=!0,this.githubBtn.addEventListener(B.CLICK,p=>{window.location.href="https://github.com/FlashPort-com/FlashPort"}),this.addChild(this.githubBtn),this.update(),this.addEventListener(W.ENTER_FRAME,this.update)}}class No extends st{constructor(){super();it(this,"shapes",[]);it(this,"update",r=>{for(let a=0;a<this.shapes.length;a++)this.shapes[a].rotation++});let r=Math.PI/180*45,a=new Pt;a.createGradientBox(500,500,r),this.graphics.lineStyle(3,41945),this.graphics.beginGradientFill("linear",[4605510,16777215],[.3,.43],[0,255],a),this.graphics.drawRoundRect(0,0,500,500,15,15);let n=new Pt;n.createGradientBox(100,100,Math.PI/180*45,-50,-50);let h=new st;h.graphics.beginGradientFill("linear",[16711680,16777215],[1,1],[0,255],n),h.graphics.drawRect(-50,-50,100,100),h.x=h.width/2+40,h.y=h.height/2+40,this.addChild(h);let l=new st;l.graphics.lineStyle(3,13421772),l.graphics.beginFill(3712219),l.graphics.drawCircle(0,0,50),l.graphics.drawCircle(-25,25,10),l.x=250,l.y=l.height/2+40,this.addChild(l);let p=new st;p.graphics.beginFill(65280),p.graphics.drawRoundRect(-50,-50,100,100,10,10),p.x=500-p.width/2-40,p.y=p.height/2+40,this.addChild(p);let w=new st;w.graphics.lineStyle(3,41945),w.graphics.beginFill(4605510),w.graphics.drawEllipse(-40,-50,80,100),w.x=90,w.y=250,this.addChild(w);let E=new st;E.graphics.lineStyle(2,0),E.graphics.beginFill(16777037),E.graphics.moveTo(-50,-50),E.graphics.lineTo(0,-20),E.graphics.lineTo(50,-50),E.graphics.lineTo(20,0),E.graphics.lineTo(50,50),E.graphics.lineTo(0,20),E.graphics.lineTo(-50,50),E.graphics.lineTo(-20,0),E.graphics.lineTo(-50,-50),E.x=250,E.y=250,E.filters=[new Jr],this.addChild(E);let C=new Pt;C.createGradientBox(100,125);let O=new st;O.graphics.lineStyle(2,0),O.graphics.beginGradientFill(ue.LINEAR,[16744192,16711680],[1,1],[0,255],C),O.graphics.drawRoundRect(-50,-50,100,100,45),O.x=500-O.width/2-40,O.y=250,this.addChild(O),C=new Pt,C.createGradientBox(100,100,0,-50,-33);let N=new st;N.graphics.lineStyle(3,55769),N.graphics.beginFill(10682585),N.graphics.beginGradientFill(ue.RADIAL,[10682585,16760831],[1,1],[0,255],C),N.graphics.moveTo(0,-50),N.graphics.lineTo(50,50),N.graphics.lineTo(-50,50),N.graphics.lineTo(0,-50),N.x=N.width/2+40,N.y=500-N.height/2-40,this.addChild(N);let V=new st;V.graphics.beginFill(255),V.graphics.drawRoundRectComplex(-50,-50,100,100,25,25,0,0),V.x=250,V.y=500-V.height/2-40,this.addChild(V);let X=new st;X.graphics.lineStyle(0),X.graphics.beginFill(16777215),X.graphics.moveTo(-50,0),X.graphics.curveTo(0,-100,50,0),X.graphics.curveTo(0,100,-50,0),X.x=500-X.width/2-40,X.y=500-50-40,this.addChild(X),this.shapes.push(h,l,p,w,E,O,N,V,X);let J=new Qt("Arial",22,16777215),tt=new bt;tt.defaultTextFormat=J,tt.text="Shapes, Fills, Strokes and Bezier Curves",tt.y=500+20,tt.x=(this.width-tt.textWidth)/2,this.addChild(tt),this.addEventListener(W.ENTER_FRAME,this.update)}}class Io extends st{constructor(){super();it(this,"pin");it(this,"handleResize",(r=null)=>{let a=0,n=40,h=this.stage.stageWidth/n,l=new Xt(this.stage.stageWidth/2,200),p=new Pt;p.createGradientBox(0,300,Math.PI/180*-90,0,-600),this.graphics.clear(),this.graphics.lineStyle(2,16777215),this.graphics.lineGradientStyle("linear",[6710886,6710886],[.5,0],[0,255],p);for(let w=0;w<=h;w++){this.graphics.moveTo(a,0);let E=Math.atan2(l.y- -600,l.x-a)*(180/Math.PI),C=a- -810*Math.cos(E*Math.PI/180),O=0+-810*Math.sin(E*Math.PI/180);this.graphics.lineTo(C,O),a+=n}});this.handleResize(),this.stage.addEventListener(W.RESIZE,this.handleResize)}}const Fa=class extends W{constructor(r,a,n=!0){super(r,n,!1);it(this,"title","");this.title=a}clone(){return new Fa(this.type,this.title,this.bubbles)}};let Yi=Fa;it(Yi,"MENU_CLICKED","MENU_CLICKED");class ko extends st{constructor(){super();it(this,"primitivesTxt");it(this,"filtersTxt");it(this,"textTxt");it(this,"masksTxt");it(this,"eventsTxt");it(this,"tweensTxt");it(this,"threeDTxt");it(this,"componentsTxt");it(this,"txtArr");it(this,"handleMouseClick",r=>{this.dispatchEvent(new Yi(Yi.MENU_CLICKED,r.currentTarget.name,!0))});this.txtArr=[this.primitivesTxt=new bt,this.filtersTxt=new bt,this.textTxt=new bt,this.masksTxt=new bt,this.eventsTxt=new bt,this.tweensTxt=new bt,this.componentsTxt=new bt];let r=["Primitives","Filters","Text","Masks","Events","Animation","Components"],a=new Qt("Arial",16,13421772,!0),n=0,h=10;for(let l=0;l<this.txtArr.length;l++){let p=this.txtArr[l];p.defaultTextFormat=a,p.text=r[l];let w=new st;w.graphics.beginFill(16777215,0),w.graphics.drawRect(0,0,p.textWidth+2,p.textHeight+2),w.addChild(p),w.name=r[l],w.x=n,w.buttonMode=!0,n+=w.width+h,w.addEventListener(B.CLICK,this.handleMouseClick),this.addChild(w)}}}class Bo extends st{constructor(){super(),this.name="Text Panel";let t=Math.PI/180*45,r=new Pt;r.createGradientBox(500,500,t),this.graphics.lineStyle(3,41945),this.graphics.beginGradientFill("linear",[4605510,16777215],[.3,.43],[0,255],r),this.graphics.drawRoundRect(0,0,500,500,15,15);let a=new Qt("Arial",40,16777215,!1),n=new bt;n.defaultTextFormat=a,n.text="The dingo ate your baby",n.x=30,n.y=30,this.addChild(n);let h=new Qt("Arial",40,16777215,!0),l=new bt;l.defaultTextFormat=h,l.text="The dingo ate your baby",l.x=(this.width-l.textWidth)/2,l.y=110,this.addChild(l);let p=new Qt("Arial",40,16777215,!1,!0),w=new bt;w.defaultTextFormat=p,w.text="The dingo ate your baby",w.x=(this.width-w.textWidth)/2,w.y=190,this.addChild(w);let E=new Qt("Arial",40,16777215,!1,!1),C=new bt;C.type=oi.INPUT,C.border=!0,C.borderColor=0,C.name="My Input Text",C.defaultTextFormat=E,C.text="Input no background",C.width=370,C.height=C.textHeight+2,C.x=(this.width-C.textWidth)/2,C.y=270,this.addChild(C);let O=new Qt("Arial",40,16777215,!1,!1),N=new bt;N.type=oi.INPUT,N.backgroundColor=0,N.background=!0,N.defaultTextFormat=O,N.text="Input with background",N.width=400,N.height=N.textHeight+6,N.x=(this.width-N.textWidth)/2,N.y=350,this.addChild(N);let V=new Qt("Arial",22,16777215),X=new bt;X.defaultTextFormat=V,X.text="Dynamic, Input with Background and Font Loading",X.y=this.height+20,X.x=(this.width-X.textWidth)/2,this.addChild(X)}}class Uo extends st{constructor(){super();it(this,"masker");it(this,"handleMouseOver",r=>{this.masker.startDrag(!0,new Ht(150,150,200,200)),this.addEventListener(B.MOUSE_OUT,this.handleMouseOut)});it(this,"handleMouseOut",r=>{this.removeEventListener(B.MOUSE_OUT,this.handleMouseOut),this.stopDrag(),this.masker.x=this.masker.y=250});let r=Math.PI/180*45,a=new Pt;a.createGradientBox(500,500,r),this.graphics.lineStyle(3,41945),this.graphics.beginGradientFill("linear",[4605510,16777215],[.3,.43],[0,255],a),this.graphics.drawRoundRect(0,0,500,500,15,15);var n;let h=new Yn;h.contentLoaderInfo.addEventListener(W.COMPLETE,w=>{n=h.contentLoaderInfo.content,n.scaleX=n.scaleY=.6,n.x=(this.width-n.width)/2,n.y=(this.height-n.height)/2,this.masker=new st,this.masker.graphics.beginFill(0,.75),this.masker.graphics.drawCircle(0,0,150),this.masker.x=this.width/2,this.masker.y=this.height/2,this.addChild(this.masker),n.mask=this.masker,this.addChild(n),this.addEventListener(B.MOUSE_OVER,this.handleMouseOver)}),h.load(new or("assets/tree.png"));let l=new Qt("Arial",22,16777215),p=new bt;p.defaultTextFormat=l,p.text="Masking with any shape.",p.y=this.height+20,p.x=(this.width-p.textWidth)/2,this.addChild(p)}}class Ho extends st{constructor(){super();it(this,"images",[]);it(this,"coordsTxt");it(this,"handleClick",r=>{let a=r.currentTarget;a.scaleX=a.scaleY=a.scaleX==1?.8:1});it(this,"handleMouseDown",r=>{r.currentTarget.scaleX=r.currentTarget.scaleY=.8,this.stage.addEventListener(B.MOUSE_UP,this.handleMouseUp)});it(this,"handleMouseUp",r=>{this.stage.addEventListener(B.MOUSE_UP,this.handleMouseUp),this.images[1].scaleX=this.images[1].scaleY=1});it(this,"handleMouseOver",r=>{r.currentTarget.scaleX=r.currentTarget.scaleY=.8,r.currentTarget.addEventListener(B.MOUSE_OUT,this.handleMouseOut)});it(this,"handleMouseOverMove",r=>{r.currentTarget.addEventListener(B.MOUSE_MOVE,this.handleMouseMove)});it(this,"handleMouseOut",r=>{r.currentTarget.scaleX=r.currentTarget.scaleY=1,r.currentTarget.removeEventListener(B.MOUSE_OUT,this.handleMouseOut),this.images[4].removeEventListener(W.ENTER_FRAME,this.handleEnterFrame),this.images[4].rotation=0});it(this,"handleMouseMove",r=>{let a=r.currentTarget;this.coordsTxt.text="x: "+Math.round(a.mouseX)+", y: "+Math.round(a.mouseY)});it(this,"handleMouseOverEnterframe",r=>{this.images[4].addEventListener(W.ENTER_FRAME,this.handleEnterFrame),this.images[4].addEventListener(B.MOUSE_OUT,this.handleMouseOut)});it(this,"handleEnterFrame",r=>{r.currentTarget.rotation++});it(this,"handleKeyboardDown",r=>{this.stage.addEventListener(De.KEY_UP,this.handleKeyboardUp),this.images[5].y-=50});it(this,"handleKeyboardUp",r=>{this.stage.removeEventListener(De.KEY_UP,this.handleKeyboardUp),this.images[5].y+=50});let r=Math.PI/180*45,a=new Pt;a.createGradientBox(500,500,r),this.graphics.lineStyle(3,41945),this.graphics.beginGradientFill("linear",[4605510,16777215],[.3,.43],[0,255],a),this.graphics.drawRoundRect(0,0,500,500,15,15);let n=new ui(D.images["FlashPortMan-Med"]).bitmapData,h=1,l=500/3;for(let J=1;J<=6;J++){let tt=new st,nt=new ui(n.clone());nt.scaleX=nt.scaleY=.8,nt.x=-nt.width/2,nt.y=-nt.height/2,tt.graphics.beginFill(16777215,0),tt.graphics.drawRect(-nt.width/2,-nt.height/2,nt.width,nt.height),tt.addChild(nt),tt.buttonMode=!0,tt.x=h*l-l/2,tt.y=J<=3?tt.height/2+40:500-tt.height/2-40,this.images.push(tt),this.addChild(tt),h++,J%3==0&&(h=1)}let p=new Qt("Arial",16),w=new bt;w.defaultTextFormat=p,w.text="Mouse CLICK",w.x=this.images[0].x-this.images[0].width/2-18,w.y=this.images[0].y+this.images[0].height/2,this.addChild(w);let E=new bt;E.defaultTextFormat=p,E.text="Mouse UP/DOWN",E.x=this.images[1].x-this.images[1].width/2-18,E.y=this.images[1].y+this.images[1].height/2,this.addChild(E);let C=new bt;C.defaultTextFormat=p,C.text="Mouse OVER/OUT",C.x=this.images[2].x-this.images[2].width/2-18,C.y=this.images[2].y+this.images[2].height/2,this.addChild(C);let O=new bt;O.defaultTextFormat=p,O.text="Mouse MOVE",O.x=this.images[3].x-this.images[3].width/2-18,O.y=this.images[3].y+this.images[3].height/2,this.addChild(O),this.coordsTxt=new bt,this.coordsTxt.defaultTextFormat=new Qt("Arial",12,16777215),this.coordsTxt.x=35,this.coordsTxt.y=this.images[3].y+this.images[3].height/2-20,this.coordsTxt.text="x: 0, y: 0",this.addChild(this.coordsTxt);let N=new bt;N.defaultTextFormat=p,N.text="ENTERFRAME",N.x=this.images[4].x-this.images[4].width/2-18,N.y=this.images[4].y+this.images[4].height/2,this.addChild(N);let V=new bt;V.defaultTextFormat=p,V.text="Keyboard",V.x=this.images[5].x-this.images[5].width/2-18,V.y=this.images[5].y+this.images[5].height/2,this.addChild(V),this.images[0].addEventListener(B.CLICK,this.handleClick),this.images[1].addEventListener(B.MOUSE_DOWN,this.handleMouseDown),this.images[2].addEventListener(B.MOUSE_OVER,this.handleMouseOver),this.images[3].addEventListener(B.MOUSE_OVER,this.handleMouseOverMove),this.images[4].addEventListener(B.MOUSE_OVER,this.handleMouseOverEnterframe),this.stage.addEventListener(De.KEY_DOWN,this.handleKeyboardDown);let X=new bt;X.defaultTextFormat=new Qt("Arial",22,16777215),X.text="AEvent, MouseEvent, TouchEvent, and KeyboardEvent.",X.y=this.height+20,X.x=(this.width-X.textWidth)/2,this.addChild(X)}}class Go extends st{constructor(){super();it(this,"ball");it(this,"box");it(this,"handleRemovedFromStage",r=>{G.removeTweens(this.ball,"y"),G.removeTweens(this.box,"y"),this.ball.y=85,this.box.y=85});it(this,"handleAddedToStage",r=>{G.addTween(this.ball,{time:2,y:498-this.ball.height/2,transition:mt.easeOutBounce}),G.addTween(this.box,{time:5,rotation:180,y:498-this.box.height/2,transition:mt.easeOutElastic})});let r=Math.PI/180*45,a=new Pt;a.createGradientBox(500,500,r),this.graphics.lineStyle(3,41945),this.graphics.beginGradientFill("linear",[4605510,16777215],[.3,.43],[0,255],a),this.graphics.drawRoundRect(0,0,500,500,15,15),this.ball=new st,this.ball.graphics.beginFill(0),this.ball.graphics.drawCircle(0,0,50),this.ball.x=85,this.ball.y=85,this.addChild(this.ball),this.box=new st,this.box.graphics.beginFill(16777215),this.box.graphics.drawRoundRect(-50,-50,100,100,10,10),this.box.x=250,this.box.y=85,this.addChild(this.box);let n=new bt;n.defaultTextFormat=new Qt("Arial",22,16777215),n.text="Tween Animations with Easing equations.",n.y=this.height+20,n.x=(this.width-n.textWidth)/2,this.addChild(n);const h=new st;h.graphics.drawRoundRect(0,0,500,500,15,15),this.addChild(h),this.mask=h,this.addEventListener(W.ADDED_TO_STAGE,this.handleAddedToStage),this.addEventListener(W.REMOVED_FROM_STAGE,this.handleRemovedFromStage)}}class Wo extends th{constructor(){super();it(this,"endPos",0);it(this,"speed",1);it(this,"activeIndex",0);it(this,"sineSpeed",1);it(this,"sineAmplitude",1);it(this,"_color",16742144);this.graphics.beginFill(this._color),this.graphics.drawCircle(0,0,10)}set color(r){this.cacheAsBitmap=!1,this._color=r,this.graphics.clear(),this.graphics.beginFill(this._color),this.graphics.drawCircle(0,0,10)}get color(){return this._color}}class Ko extends st{constructor(){super();it(this,"_pool",[]);it(this,"_activePool",[]);it(this,"MAX_POOL",700);it(this,"START_WIDTH_MAX",200);it(this,"END_HEIGHT_MAX",-400);it(this,"MIN_SPEED",6);it(this,"MAX_SPEED",10);it(this,"MIN_SCALE",.5);it(this,"MAX_SCALE",1.5);it(this,"randomNumber",(r,a)=>Math.random()*(a-r)+r);it(this,"update",r=>{for(let n=0;n<15;n++){let h=this._pool.pop();h&&(h.endPos=this.randomNumber(this.END_HEIGHT_MAX-200,this.END_HEIGHT_MAX),h.x=this.randomNumber(1,this.START_WIDTH_MAX),h.y=this.randomNumber(1,5),h.scaleX=h.scaleY=this.randomNumber(this.MIN_SCALE,this.MAX_SCALE),h.speed=this.randomNumber(this.MIN_SPEED,this.MAX_SPEED),h.sineSpeed=this.randomNumber(0,.1),h.sineAmplitude=this.randomNumber(1,10)%2==0?.1:-.1,h.transform.colorTransform=new Ae,h.transform.colorTransform.color=n%8==0?0:16742144,h.visible=!0,this._activePool.push(h))}let a=this._activePool.length;for(let n=0;n<a;n++){let h=this._activePool[n];if(h.y-=h.speed,h.x+=h.sineAmplitude*Math.sin(h.sineAmplitude+=h.sineSpeed),h.alpha=1-Math.abs(h.y/h.endPos),h.transform.colorTransform.color.toString(16)!="000000"){let p=Math.abs(h.y/h.endPos)>.25?40:6;h.transform.colorTransform.redOffset+=p,h.transform.colorTransform.greenOffset+=p,h.transform.colorTransform.blueOffset+=p}(h.y<=h.endPos||h.alpha<=0)&&(this._activePool[n]=this._activePool.pop(),a-=1,n--,h.visible=!1,this._pool.push(h),h.y=0)}});for(let a=0;a<this.MAX_POOL;a++){var r=new Wo;r.visible=!1,this.addChild(r),this._pool.push(r)}this.addEventListener(W.ENTER_FRAME,this.update)}}class Vo extends st{constructor(){super();const t=new Pt;t.createGradientBox(600,1,0,-25,-125);const r=new st;r.graphics.beginGradientFill(ue.RADIAL,[4605510,0],[1,1],[1,255],t),r.graphics.lineTo(550,0),r.graphics.lineTo(600,100),r.graphics.lineTo(-50,100),r.graphics.lineTo(0,0),r.filters=[new cr(6,6)],this.addChild(r);let a=new Ko;a.x=175,a.y=85;let n=new st;n.graphics.beginFill(0,0),n.graphics.drawRect(-50,0,650,650),n.y=-560,this.addChild(n),a.mask=n,this.addChild(a)}}var Yr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function jo(e){var t=e.default;if(typeof t=="function"){var r=function(){return t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(a){var n=Object.getOwnPropertyDescriptor(e,a);Object.defineProperty(r,a,n.get?n:{enumerable:!0,get:function(){return e[a]}})}),r}var uh={exports:{}};const Xo={},Yo=Object.freeze(Object.defineProperty({__proto__:null,default:Xo},Symbol.toStringTag,{value:"Module"})),zr=jo(Yo);(function(e,t){var r=(()=>{var a=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return typeof __filename<"u"&&(a=a||__filename),function(n){n=n||{};var h;h||(h=typeof n<"u"?n:{});var l,p;h.ready=new Promise(function(s,o){l=s,p=o}),function(s){s.Vd=s.Vd||[],s.Vd.push(function(){s.MakeSWCanvasSurface=function(o){var u=o;if(u.tagName!=="CANVAS"&&(u=document.getElementById(o),!u))throw"Canvas with id "+o+" was not found";return(o=s.MakeSurface(u.width,u.height))&&(o.Nd=u),o},s.MakeCanvasSurface||(s.MakeCanvasSurface=s.MakeSWCanvasSurface),s.MakeSurface=function(o,u){var f={width:o,height:u,colorType:s.ColorType.RGBA_8888,alphaType:s.AlphaType.Unpremul,colorSpace:s.ColorSpace.SRGB},g=o*u*4,v=s._malloc(g);return(f=s.Surface._makeRasterDirect(f,v,4*o))&&(f.Nd=null,f.Bf=o,f.yf=u,f.Af=g,f.$e=v,f.getCanvas().clear(s.TRANSPARENT)),f},s.MakeRasterDirectSurface=function(o,u,f){return s.Surface._makeRasterDirect(o,u.byteOffset,f)},s.Surface.prototype.flush=function(o){if(s.Od(this.Md),this._flush(),this.Nd){var u=new Uint8ClampedArray(s.HEAPU8.buffer,this.$e,this.Af);u=new ImageData(u,this.Bf,this.yf),o?this.Nd.getContext("2d").putImageData(u,0,0,o[0],o[1],o[2]-o[0],o[3]-o[1]):this.Nd.getContext("2d").putImageData(u,0,0)}},s.Surface.prototype.dispose=function(){this.$e&&s._free(this.$e),this.delete()},s.Od=s.Od||function(){}})}(h),function(s){s.Vd=s.Vd||[],s.Vd.push(function(){function o(v,T,M){return v&&v.hasOwnProperty(T)?v[T]:M}function u(v){var T=Wi(Pe);return Pe[T]=v,T}function f(v){return v.naturalHeight||v.videoHeight||v.displayHeight||v.height}function g(v){return v.naturalWidth||v.videoWidth||v.displayWidth||v.width}s.GetWebGLContext=function(v,T){if(!v)throw"null canvas passed into makeWebGLContext";var M={alpha:o(T,"alpha",1),depth:o(T,"depth",1),stencil:o(T,"stencil",8),antialias:o(T,"antialias",0),premultipliedAlpha:o(T,"premultipliedAlpha",1),preserveDrawingBuffer:o(T,"preserveDrawingBuffer",0),preferLowPowerToHighPerformance:o(T,"preferLowPowerToHighPerformance",0),failIfMajorPerformanceCaveat:o(T,"failIfMajorPerformanceCaveat",0),enableExtensionsByDefault:o(T,"enableExtensionsByDefault",1),explicitSwapControl:o(T,"explicitSwapControl",0),renderViaOffscreenBackBuffer:o(T,"renderViaOffscreenBackBuffer",0)};if(M.majorVersion=T&&T.majorVersion?T.majorVersion:typeof WebGL2RenderingContext<"u"?2:1,M.explicitSwapControl)throw"explicitSwapControl is not supported";return v=Dh(v,M),v?(an(v),v):0},s.deleteContext=function(v){xt===Ye[v]&&(xt=null),typeof JSEvents=="object"&&JSEvents.wg(Ye[v].je.canvas),Ye[v]&&Ye[v].je.canvas&&(Ye[v].je.canvas.xf=void 0),Ye[v]=null},s._setTextureCleanup({deleteTexture:function(v,T){var M=Pe[T];M&&Ye[v].je.deleteTexture(M),Pe[T]=null}}),s.MakeGrContext=function(v){if(!this.Od(v))return null;var T=this._MakeGrContext();return T?(T.Md=v,T):null},s.MakeOnScreenGLSurface=function(v,T,M,L){return!this.Od(v.Md)||(T=this._MakeOnScreenGLSurface(v,T,M,L),!T)?null:(T.Md=v.Md,T)},s.MakeRenderTarget=function(){var v=arguments[0];if(!this.Od(v.Md))return null;if(arguments.length===3){var T=this._MakeRenderTargetWH(v,arguments[1],arguments[2]);if(!T)return null}else if(arguments.length===2){if(T=this._MakeRenderTargetII(v,arguments[1]),!T)return null}else return null;return T.Md=v.Md,T},s.MakeWebGLCanvasSurface=function(v,T,M){T=T||null;var L=v,I=typeof OffscreenCanvas<"u"&&L instanceof OffscreenCanvas;if(!(typeof HTMLCanvasElement<"u"&&L instanceof HTMLCanvasElement||I||(L=document.getElementById(v),L)))throw"Canvas with id "+v+" was not found";if(v=this.GetWebGLContext(L,M),!v||0>v)throw"failed to create webgl context: err "+v;return v=this.MakeGrContext(v),T=this.MakeOnScreenGLSurface(v,L.width,L.height,T),T||(T=L.cloneNode(!0),L.parentNode.replaceChild(T,L),T.classList.add("ck-replaced"),s.MakeSWCanvasSurface(T))},s.MakeCanvasSurface=s.MakeWebGLCanvasSurface,s.Surface.prototype.makeImageFromTexture=function(v,T){return s.Od(this.Md),v=u(v),(T=this._makeImageFromTexture(this.Md,v,T))&&(T.Le=v),T},s.Surface.prototype.makeImageFromTextureSource=function(v,T){T||(T={height:f(v),width:g(v),colorType:s.ColorType.RGBA_8888,alphaType:s.AlphaType.Unpremul}),T.colorSpace||(T.colorSpace=s.ColorSpace.SRGB),s.Od(this.Md);var M=xt.je,L=M.createTexture();return M.bindTexture(M.TEXTURE_2D,L),xt.version===2?M.texImage2D(M.TEXTURE_2D,0,M.RGBA,T.width,T.height,0,M.RGBA,M.UNSIGNED_BYTE,v):M.texImage2D(M.TEXTURE_2D,0,M.RGBA,M.RGBA,M.UNSIGNED_BYTE,v),M.bindTexture(M.TEXTURE_2D,null),this.makeImageFromTexture(L,T)},s.Surface.prototype.updateTextureFromSource=function(v,T){if(v.Le){s.Od(this.Md);var M=xt.je,L=Pe[v.Le];M.bindTexture(M.TEXTURE_2D,L),xt.version===2?M.texImage2D(M.TEXTURE_2D,0,M.RGBA,g(T),f(T),0,M.RGBA,M.UNSIGNED_BYTE,T):M.texImage2D(M.TEXTURE_2D,0,M.RGBA,M.RGBA,M.UNSIGNED_BYTE,T),M.bindTexture(M.TEXTURE_2D,null),this._resetContext(),Pe[v.Le]=null,v.Le=u(L),T=v.getImageInfo(),T.colorSpace=v.getColorSpace(),M=this._makeImageFromTexture(this.Md,v.Le,T),L=v.Ld.Td;var I=v.Ld.$d;v.Ld.Td=M.Ld.Td,v.Ld.$d=M.Ld.$d,M.Ld.Td=L,M.Ld.$d=I,M.delete(),T.colorSpace.delete()}},s.MakeLazyImageFromTextureSource=function(v,T){T||(T={height:f(v),width:g(v),colorType:s.ColorType.RGBA_8888,alphaType:s.AlphaType.Unpremul}),T.colorSpace||(T.colorSpace=s.ColorSpace.SRGB);var M={makeTexture:function(){var L=xt,I=L.je,et=I.createTexture();return I.bindTexture(I.TEXTURE_2D,et),L.version===2?I.texImage2D(I.TEXTURE_2D,0,I.RGBA,T.width,T.height,0,I.RGBA,I.UNSIGNED_BYTE,v):I.texImage2D(I.TEXTURE_2D,0,I.RGBA,I.RGBA,I.UNSIGNED_BYTE,v),I.bindTexture(I.TEXTURE_2D,null),u(et)},freeSrc:function(){}};return v.constructor.name==="VideoFrame"&&(M.freeSrc=function(){v.close()}),s.Image._makeFromGenerator(T,M)},s.Od=function(v){return v?an(v):!1}})}(h),function(s){function o(d,c,_,y,A){for(var k=0;k<d.length;k++)c[k*_+(k*A+y+_)%_]=d[k];return c}function u(d){for(var c=d*d,_=Array(c);c--;)_[c]=c%(d+1)===0?1:0;return _}function f(d){return d?d.constructor===Float32Array&&d.length===4:!1}function g(d){return(M(255*d[3])<<24|M(255*d[0])<<16|M(255*d[1])<<8|M(255*d[2])<<0)>>>0}function v(d){if(d&&d._ck)return d;if(d instanceof Float32Array){for(var c=Math.floor(d.length/4),_=new Uint32Array(c),y=0;y<c;y++)_[y]=g(d.slice(4*y,4*(y+1)));return _}if(d instanceof Uint32Array)return d;if(d instanceof Array&&d[0]instanceof Float32Array)return d.map(g)}function T(d){if(d===void 0)return 1;var c=parseFloat(d);return d&&d.indexOf("%")!==-1?c/100:c}function M(d){return Math.round(Math.max(0,Math.min(d||0,255)))}function L(d,c){c&&c._ck||s._free(d)}function I(d,c,_){if(!d||!d.length)return Ot;if(d&&d._ck)return d.byteOffset;var y=s[c].BYTES_PER_ELEMENT;return _||(_=s._malloc(d.length*y)),s[c].set(d,_/y),_}function et(d){var c={ce:Ot,count:d.length,colorType:s.ColorType.RGBA_F32};if(d instanceof Float32Array)c.ce=I(d,"HEAPF32"),c.count=d.length/4;else if(d instanceof Uint32Array)c.ce=I(d,"HEAPU32"),c.colorType=s.ColorType.RGBA_8888;else if(d instanceof Array){if(d&&d.length){for(var _=s._malloc(16*d.length),y=0,A=_/4,k=0;k<d.length;k++)for(var Y=0;4>Y;Y++)s.HEAPF32[A+y]=d[k][Y],y++;d=_}else d=Ot;c.ce=d}else throw"Invalid argument to copyFlexibleColorArray, Not a color array "+typeof d;return c}function rt(d){if(!d)return Ot;var c=Ir.toTypedArray();if(d.length){if(d.length===6||d.length===9)return I(d,"HEAPF32",Ei),d.length===6&&s.HEAPF32.set(so,6+Ei/4),Ei;if(d.length===16)return c[0]=d[0],c[1]=d[1],c[2]=d[3],c[3]=d[4],c[4]=d[5],c[5]=d[7],c[6]=d[12],c[7]=d[13],c[8]=d[15],Ei;throw"invalid matrix size"}if(d.m11===void 0)throw"invalid matrix argument";return c[0]=d.m11,c[1]=d.m21,c[2]=d.m41,c[3]=d.m12,c[4]=d.m22,c[5]=d.m42,c[6]=d.m14,c[7]=d.m24,c[8]=d.m44,Ei}function vt(d){if(!d)return Ot;var c=kr.toTypedArray();if(d.length){if(d.length!==16&&d.length!==6&&d.length!==9)throw"invalid matrix size";return d.length===16?I(d,"HEAPF32",Ki):(c.fill(0),c[0]=d[0],c[1]=d[1],c[3]=d[2],c[4]=d[3],c[5]=d[4],c[7]=d[5],c[12]=d[6],c[13]=d[7],c[15]=d[8],d.length===6&&(c[12]=0,c[13]=0,c[15]=1),Ki)}if(d.m11===void 0)throw"invalid matrix argument";return c[0]=d.m11,c[1]=d.m21,c[2]=d.m31,c[3]=d.m41,c[4]=d.m12,c[5]=d.m22,c[6]=d.m32,c[7]=d.m42,c[8]=d.m13,c[9]=d.m23,c[10]=d.m33,c[11]=d.m43,c[12]=d.m14,c[13]=d.m24,c[14]=d.m34,c[15]=d.m44,Ki}function H(d,c){return I(d,"HEAPF32",c||ms)}function ut(d,c,_,y){var A=Br.toTypedArray();return A[0]=d,A[1]=c,A[2]=_,A[3]=y,ms}function wt(d){for(var c=new Float32Array(4),_=0;4>_;_++)c[_]=s.HEAPF32[d/4+_];return c}function Tt(d,c){return I(d,"HEAPF32",c||ge)}function Te(d,c){return I(d,"HEAPF32",c||Wr)}function Re(){for(var d=0,c=0;c<arguments.length-1;c+=2)d+=arguments[c]*arguments[c+1];return d}function _s(d,c,_){for(var y=Array(d.length),A=0;A<_;A++)for(var k=0;k<_;k++){for(var Y=0,Z=0;Z<_;Z++)Y+=d[_*A+Z]*c[_*Z+k];y[A*_+k]=Y}return y}function gs(d,c){for(var _=_s(c[0],c[1],d),y=2;y<c.length;)_=_s(_,c[y],d),y++;return _}s.Color=function(d,c,_,y){return y===void 0&&(y=1),s.Color4f(M(d)/255,M(c)/255,M(_)/255,y)},s.ColorAsInt=function(d,c,_,y){return y===void 0&&(y=255),(M(y)<<24|M(d)<<16|M(c)<<8|M(_)<<0&268435455)>>>0},s.Color4f=function(d,c,_,y){return y===void 0&&(y=1),Float32Array.of(d,c,_,y)},Object.defineProperty(s,"TRANSPARENT",{get:function(){return s.Color4f(0,0,0,0)}}),Object.defineProperty(s,"BLACK",{get:function(){return s.Color4f(0,0,0,1)}}),Object.defineProperty(s,"WHITE",{get:function(){return s.Color4f(1,1,1,1)}}),Object.defineProperty(s,"RED",{get:function(){return s.Color4f(1,0,0,1)}}),Object.defineProperty(s,"GREEN",{get:function(){return s.Color4f(0,1,0,1)}}),Object.defineProperty(s,"BLUE",{get:function(){return s.Color4f(0,0,1,1)}}),Object.defineProperty(s,"YELLOW",{get:function(){return s.Color4f(1,1,0,1)}}),Object.defineProperty(s,"CYAN",{get:function(){return s.Color4f(0,1,1,1)}}),Object.defineProperty(s,"MAGENTA",{get:function(){return s.Color4f(1,0,1,1)}}),s.getColorComponents=function(d){return[Math.floor(255*d[0]),Math.floor(255*d[1]),Math.floor(255*d[2]),d[3]]},s.parseColorString=function(d,c){if(d=d.toLowerCase(),d.startsWith("#")){switch(c=255,d.length){case 9:c=parseInt(d.slice(7,9),16);case 7:var _=parseInt(d.slice(1,3),16),y=parseInt(d.slice(3,5),16),A=parseInt(d.slice(5,7),16);break;case 5:c=17*parseInt(d.slice(4,5),16);case 4:_=17*parseInt(d.slice(1,2),16),y=17*parseInt(d.slice(2,3),16),A=17*parseInt(d.slice(3,4),16)}return s.Color(_,y,A,c/255)}return d.startsWith("rgba")?(d=d.slice(5,-1),d=d.split(","),s.Color(+d[0],+d[1],+d[2],T(d[3]))):d.startsWith("rgb")?(d=d.slice(4,-1),d=d.split(","),s.Color(+d[0],+d[1],+d[2],T(d[3]))):d.startsWith("gray(")||d.startsWith("hsl")||!c||(d=c[d],d===void 0)?s.BLACK:d},s.multiplyByAlpha=function(d,c){return d=d.slice(),d[3]=Math.max(0,Math.min(d[3]*c,1)),d},s.Malloc=function(d,c){var _=s._malloc(c*d.BYTES_PER_ELEMENT);return{_ck:!0,length:c,byteOffset:_,re:null,subarray:function(y,A){return y=this.toTypedArray().subarray(y,A),y._ck=!0,y},toTypedArray:function(){return this.re&&this.re.length?this.re:(this.re=new d(s.HEAPU8.buffer,_,c),this.re._ck=!0,this.re)}}},s.Free=function(d){s._free(d.byteOffset),d.byteOffset=Ot,d.toTypedArray=null,d.re=null};var Ei=Ot,Ir,Ki=Ot,kr,ms=Ot,Br,ze,ge=Ot,pn,Li=Ot,_n,Ur=Ot,gn,Hr=Ot,Gr,ir=Ot,mn,Wr=Ot,vn,yn=Ot,so=Float32Array.of(0,0,1),Ot=0;s.onRuntimeInitialized=function(){function d(c,_,y,A,k,Y){Y||(Y=4*A.width,A.colorType===s.ColorType.RGBA_F16?Y*=2:A.colorType===s.ColorType.RGBA_F32&&(Y*=4));var Z=Y*A.height,dt=k?k.byteOffset:s._malloc(Z);if(!c._readPixels(A,dt,Y,_,y))return k||s._free(dt),null;if(k)return k.toTypedArray();switch(A.colorType){case s.ColorType.RGBA_8888:case s.ColorType.RGBA_F16:c=new Uint8Array(s.HEAPU8.buffer,dt,Z).slice();break;case s.ColorType.RGBA_F32:c=new Float32Array(s.HEAPU8.buffer,dt,Z).slice();break;default:return null}return s._free(dt),c}Br=s.Malloc(Float32Array,4),ms=Br.byteOffset,kr=s.Malloc(Float32Array,16),Ki=kr.byteOffset,Ir=s.Malloc(Float32Array,9),Ei=Ir.byteOffset,mn=s.Malloc(Float32Array,12),Wr=mn.byteOffset,vn=s.Malloc(Float32Array,12),yn=vn.byteOffset,ze=s.Malloc(Float32Array,4),ge=ze.byteOffset,pn=s.Malloc(Float32Array,4),Li=pn.byteOffset,_n=s.Malloc(Float32Array,3),Ur=_n.byteOffset,gn=s.Malloc(Float32Array,3),Hr=gn.byteOffset,Gr=s.Malloc(Int32Array,4),ir=Gr.byteOffset,s.ColorSpace.SRGB=s.ColorSpace._MakeSRGB(),s.ColorSpace.DISPLAY_P3=s.ColorSpace._MakeDisplayP3(),s.ColorSpace.ADOBE_RGB=s.ColorSpace._MakeAdobeRGB(),s.GlyphRunFlags={IsWhiteSpace:s._GlyphRunFlags_isWhiteSpace},s.Path.MakeFromCmds=function(c){var _=I(c,"HEAPF32"),y=s.Path._MakeFromCmds(_,c.length);return L(_,c),y},s.Path.MakeFromVerbsPointsWeights=function(c,_,y){var A=I(c,"HEAPU8"),k=I(_,"HEAPF32"),Y=I(y,"HEAPF32"),Z=s.Path._MakeFromVerbsPointsWeights(A,c.length,k,_.length,Y,y&&y.length||0);return L(A,c),L(k,_),L(Y,y),Z},s.Path.prototype.addArc=function(c,_,y){return c=Tt(c),this._addArc(c,_,y),this},s.Path.prototype.addOval=function(c,_,y){return y===void 0&&(y=1),c=Tt(c),this._addOval(c,!!_,y),this},s.Path.prototype.addPath=function(){var c=Array.prototype.slice.call(arguments),_=c[0],y=!1;if(typeof c[c.length-1]=="boolean"&&(y=c.pop()),c.length===1)this._addPath(_,1,0,0,0,1,0,0,0,1,y);else if(c.length===2)c=c[1],this._addPath(_,c[0],c[1],c[2],c[3],c[4],c[5],c[6]||0,c[7]||0,c[8]||1,y);else if(c.length===7||c.length===10)this._addPath(_,c[1],c[2],c[3],c[4],c[5],c[6],c[7]||0,c[8]||0,c[9]||1,y);else return null;return this},s.Path.prototype.addPoly=function(c,_){var y=I(c,"HEAPF32");return this._addPoly(y,c.length/2,_),L(y,c),this},s.Path.prototype.addRect=function(c,_){return c=Tt(c),this._addRect(c,!!_),this},s.Path.prototype.addRRect=function(c,_){return c=Te(c),this._addRRect(c,!!_),this},s.Path.prototype.addVerbsPointsWeights=function(c,_,y){var A=I(c,"HEAPU8"),k=I(_,"HEAPF32"),Y=I(y,"HEAPF32");this._addVerbsPointsWeights(A,c.length,k,_.length,Y,y&&y.length||0),L(A,c),L(k,_),L(Y,y)},s.Path.prototype.arc=function(c,_,y,A,k,Y){return c=s.LTRBRect(c-y,_-y,c+y,_+y),k=(k-A)/Math.PI*180-360*!!Y,Y=new s.Path,Y.addArc(c,A/Math.PI*180,k),this.addPath(Y,!0),Y.delete(),this},s.Path.prototype.arcToOval=function(c,_,y,A){return c=Tt(c),this._arcToOval(c,_,y,A),this},s.Path.prototype.arcToRotated=function(c,_,y,A,k,Y,Z){return this._arcToRotated(c,_,y,!!A,!!k,Y,Z),this},s.Path.prototype.arcToTangent=function(c,_,y,A,k){return this._arcToTangent(c,_,y,A,k),this},s.Path.prototype.close=function(){return this._close(),this},s.Path.prototype.conicTo=function(c,_,y,A,k){return this._conicTo(c,_,y,A,k),this},s.Path.prototype.computeTightBounds=function(c){this._computeTightBounds(ge);var _=ze.toTypedArray();return c?(c.set(_),c):_.slice()},s.Path.prototype.cubicTo=function(c,_,y,A,k,Y){return this._cubicTo(c,_,y,A,k,Y),this},s.Path.prototype.dash=function(c,_,y){return this._dash(c,_,y)?this:null},s.Path.prototype.getBounds=function(c){this._getBounds(ge);var _=ze.toTypedArray();return c?(c.set(_),c):_.slice()},s.Path.prototype.lineTo=function(c,_){return this._lineTo(c,_),this},s.Path.prototype.moveTo=function(c,_){return this._moveTo(c,_),this},s.Path.prototype.offset=function(c,_){return this._transform(1,0,c,0,1,_,0,0,1),this},s.Path.prototype.quadTo=function(c,_,y,A){return this._quadTo(c,_,y,A),this},s.Path.prototype.rArcTo=function(c,_,y,A,k,Y,Z){return this._rArcTo(c,_,y,A,k,Y,Z),this},s.Path.prototype.rConicTo=function(c,_,y,A,k){return this._rConicTo(c,_,y,A,k),this},s.Path.prototype.rCubicTo=function(c,_,y,A,k,Y){return this._rCubicTo(c,_,y,A,k,Y),this},s.Path.prototype.rLineTo=function(c,_){return this._rLineTo(c,_),this},s.Path.prototype.rMoveTo=function(c,_){return this._rMoveTo(c,_),this},s.Path.prototype.rQuadTo=function(c,_,y,A){return this._rQuadTo(c,_,y,A),this},s.Path.prototype.stroke=function(c){return c=c||{},c.width=c.width||1,c.miter_limit=c.miter_limit||4,c.cap=c.cap||s.StrokeCap.Butt,c.join=c.join||s.StrokeJoin.Miter,c.precision=c.precision||1,this._stroke(c)?this:null},s.Path.prototype.transform=function(){if(arguments.length===1){var c=arguments[0];this._transform(c[0],c[1],c[2],c[3],c[4],c[5],c[6]||0,c[7]||0,c[8]||1)}else if(arguments.length===6||arguments.length===9)c=arguments,this._transform(c[0],c[1],c[2],c[3],c[4],c[5],c[6]||0,c[7]||0,c[8]||1);else throw"transform expected to take 1 or 9 arguments. Got "+arguments.length;return this},s.Path.prototype.trim=function(c,_,y){return this._trim(c,_,!!y)?this:null},s.Image.prototype.makeShaderCubic=function(c,_,y,A,k){return k=rt(k),this._makeShaderCubic(c,_,y,A,k)},s.Image.prototype.makeShaderOptions=function(c,_,y,A,k){return k=rt(k),this._makeShaderOptions(c,_,y,A,k)},s.Image.prototype.readPixels=function(c,_,y,A,k){return d(this,c,_,y,A,k)},s.Canvas.prototype.clear=function(c){s.Od(this.Md),c=H(c),this._clear(c)},s.Canvas.prototype.clipRRect=function(c,_,y){s.Od(this.Md),c=Te(c),this._clipRRect(c,_,y)},s.Canvas.prototype.clipRect=function(c,_,y){s.Od(this.Md),c=Tt(c),this._clipRect(c,_,y)},s.Canvas.prototype.concat=function(c){s.Od(this.Md),c=vt(c),this._concat(c)},s.Canvas.prototype.drawArc=function(c,_,y,A,k){s.Od(this.Md),c=Tt(c),this._drawArc(c,_,y,A,k)},s.Canvas.prototype.drawAtlas=function(c,_,y,A,k,Y,Z){if(c&&A&&_&&y&&_.length===y.length){s.Od(this.Md),k||(k=s.BlendMode.SrcOver);var dt=I(_,"HEAPF32"),_t=I(y,"HEAPF32"),Ft=y.length/4,F=I(v(Y),"HEAPU32");if(Z&&"B"in Z&&"C"in Z)this._drawAtlasCubic(c,_t,dt,F,Ft,k,Z.B,Z.C,A);else{let Q=s.FilterMode.Linear,yt=s.MipmapMode.None;Z&&(Q=Z.filter,"mipmap"in Z&&(yt=Z.mipmap)),this._drawAtlasOptions(c,_t,dt,F,Ft,k,Q,yt,A)}L(dt,_),L(_t,y),L(F,Y)}},s.Canvas.prototype.drawCircle=function(c,_,y,A){s.Od(this.Md),this._drawCircle(c,_,y,A)},s.Canvas.prototype.drawColor=function(c,_){s.Od(this.Md),c=H(c),_!==void 0?this._drawColor(c,_):this._drawColor(c)},s.Canvas.prototype.drawColorInt=function(c,_){s.Od(this.Md),this._drawColorInt(c,_||s.BlendMode.SrcOver)},s.Canvas.prototype.drawColorComponents=function(c,_,y,A,k){s.Od(this.Md),c=ut(c,_,y,A),k!==void 0?this._drawColor(c,k):this._drawColor(c)},s.Canvas.prototype.drawDRRect=function(c,_,y){s.Od(this.Md),c=Te(c,Wr),_=Te(_,yn),this._drawDRRect(c,_,y)},s.Canvas.prototype.drawImage=function(c,_,y,A){s.Od(this.Md),this._drawImage(c,_,y,A||null)},s.Canvas.prototype.drawImageCubic=function(c,_,y,A,k,Y){s.Od(this.Md),this._drawImageCubic(c,_,y,A,k,Y||null)},s.Canvas.prototype.drawImageOptions=function(c,_,y,A,k,Y){s.Od(this.Md),this._drawImageOptions(c,_,y,A,k,Y||null)},s.Canvas.prototype.drawImageNine=function(c,_,y,A,k){s.Od(this.Md),_=I(_,"HEAP32",ir),y=Tt(y),this._drawImageNine(c,_,y,A,k||null)},s.Canvas.prototype.drawImageRect=function(c,_,y,A,k){s.Od(this.Md),Tt(_,ge),Tt(y,Li),this._drawImageRect(c,ge,Li,A,!!k)},s.Canvas.prototype.drawImageRectCubic=function(c,_,y,A,k,Y){s.Od(this.Md),Tt(_,ge),Tt(y,Li),this._drawImageRectCubic(c,ge,Li,A,k,Y||null)},s.Canvas.prototype.drawImageRectOptions=function(c,_,y,A,k,Y){s.Od(this.Md),Tt(_,ge),Tt(y,Li),this._drawImageRectOptions(c,ge,Li,A,k,Y||null)},s.Canvas.prototype.drawLine=function(c,_,y,A,k){s.Od(this.Md),this._drawLine(c,_,y,A,k)},s.Canvas.prototype.drawOval=function(c,_){s.Od(this.Md),c=Tt(c),this._drawOval(c,_)},s.Canvas.prototype.drawPaint=function(c){s.Od(this.Md),this._drawPaint(c)},s.Canvas.prototype.drawParagraph=function(c,_,y){s.Od(this.Md),this._drawParagraph(c,_,y)},s.Canvas.prototype.drawPatch=function(c,_,y,A,k){if(24>c.length)throw"Need 12 cubic points";if(_&&4>_.length)throw"Need 4 colors";if(y&&8>y.length)throw"Need 4 shader coordinates";s.Od(this.Md);const Y=I(c,"HEAPF32"),Z=_?I(v(_),"HEAPU32"):Ot,dt=y?I(y,"HEAPF32"):Ot;A||(A=s.BlendMode.Modulate),this._drawPatch(Y,Z,dt,A,k),L(dt,y),L(Z,_),L(Y,c)},s.Canvas.prototype.drawPath=function(c,_){s.Od(this.Md),this._drawPath(c,_)},s.Canvas.prototype.drawPicture=function(c){s.Od(this.Md),this._drawPicture(c)},s.Canvas.prototype.drawPoints=function(c,_,y){s.Od(this.Md);var A=I(_,"HEAPF32");this._drawPoints(c,A,_.length/2,y),L(A,_)},s.Canvas.prototype.drawRRect=function(c,_){s.Od(this.Md),c=Te(c),this._drawRRect(c,_)},s.Canvas.prototype.drawRect=function(c,_){s.Od(this.Md),c=Tt(c),this._drawRect(c,_)},s.Canvas.prototype.drawRect4f=function(c,_,y,A,k){s.Od(this.Md),this._drawRect4f(c,_,y,A,k)},s.Canvas.prototype.drawShadow=function(c,_,y,A,k,Y,Z){s.Od(this.Md);var dt=I(k,"HEAPF32"),_t=I(Y,"HEAPF32");_=I(_,"HEAPF32",Ur),y=I(y,"HEAPF32",Hr),this._drawShadow(c,_,y,A,dt,_t,Z),L(dt,k),L(_t,Y)},s.getShadowLocalBounds=function(c,_,y,A,k,Y,Z){return c=rt(c),y=I(y,"HEAPF32",Ur),A=I(A,"HEAPF32",Hr),this._getShadowLocalBounds(c,_,y,A,k,Y,ge)?(_=ze.toTypedArray(),Z?(Z.set(_),Z):_.slice()):null},s.Canvas.prototype.drawTextBlob=function(c,_,y,A){s.Od(this.Md),this._drawTextBlob(c,_,y,A)},s.Canvas.prototype.drawVertices=function(c,_,y){s.Od(this.Md),this._drawVertices(c,_,y)},s.Canvas.prototype.getDeviceClipBounds=function(c){this._getDeviceClipBounds(ir);var _=Gr.toTypedArray();return c?c.set(_):c=_.slice(),c},s.Canvas.prototype.getLocalToDevice=function(){this._getLocalToDevice(Ki);for(var c=Ki,_=Array(16),y=0;16>y;y++)_[y]=s.HEAPF32[c/4+y];return _},s.Canvas.prototype.getTotalMatrix=function(){this._getTotalMatrix(Ei);for(var c=Array(9),_=0;9>_;_++)c[_]=s.HEAPF32[Ei/4+_];return c},s.Canvas.prototype.makeSurface=function(c){return c=this._makeSurface(c),c.Md=this.Md,c},s.Canvas.prototype.readPixels=function(c,_,y,A,k){return s.Od(this.Md),d(this,c,_,y,A,k)},s.Canvas.prototype.saveLayer=function(c,_,y,A){return _=Tt(_),this._saveLayer(c||null,_,y||null,A||0)},s.Canvas.prototype.writePixels=function(c,_,y,A,k,Y,Z,dt){if(c.byteLength%(_*y))throw"pixels length must be a multiple of the srcWidth * srcHeight";s.Od(this.Md);var _t=c.byteLength/(_*y);Y=Y||s.AlphaType.Unpremul,Z=Z||s.ColorType.RGBA_8888,dt=dt||s.ColorSpace.SRGB;var Ft=_t*_;return _t=I(c,"HEAPU8"),_=this._writePixels({width:_,height:y,colorType:Z,alphaType:Y,colorSpace:dt},_t,Ft,A,k),L(_t,c),_},s.ColorFilter.MakeBlend=function(c,_){return c=H(c),s.ColorFilter._MakeBlend(c,_)},s.ColorFilter.MakeMatrix=function(c){if(!c||c.length!==20)throw"invalid color matrix";var _=I(c,"HEAPF32"),y=s.ColorFilter._makeMatrix(_);return L(_,c),y},s.ContourMeasure.prototype.getPosTan=function(c,_){return this._getPosTan(c,ge),c=ze.toTypedArray(),_?(_.set(c),_):c.slice()},s.ImageFilter.MakeMatrixTransform=function(c,_,y){if(c=rt(c),"B"in _&&"C"in _)return s.ImageFilter._MakeMatrixTransformCubic(c,_.qg,_.rg,y);const A=_.filter;let k=s.MipmapMode.None;return"mipmap"in _&&(k=_.mipmap),s.ImageFilter._MakeMatrixTransformOptions(c,A,k,y)},s.Paint.prototype.getColor=function(){return this._getColor(ms),wt(ms)},s.Paint.prototype.setColor=function(c,_){_=_||null,c=H(c),this._setColor(c,_)},s.Paint.prototype.setColorComponents=function(c,_,y,A,k){k=k||null,c=ut(c,_,y,A),this._setColor(c,k)},s.Path.prototype.getPoint=function(c,_){return this._getPoint(c,ge),c=ze.toTypedArray(),_?(_[0]=c[0],_[1]=c[1],_):c.slice(0,2)},s.Picture.prototype.makeShader=function(c,_,y,A,k){return A=rt(A),k=Tt(k),this._makeShader(c,_,y,A,k)},s.PictureRecorder.prototype.beginRecording=function(c){return c=Tt(c),this._beginRecording(c)},s.Surface.prototype.getCanvas=function(){var c=this._getCanvas();return c.Md=this.Md,c},s.Surface.prototype.makeImageSnapshot=function(c){return s.Od(this.Md),c=I(c,"HEAP32",ir),this._makeImageSnapshot(c)},s.Surface.prototype.makeSurface=function(c){return s.Od(this.Md),c=this._makeSurface(c),c.Md=this.Md,c},s.Surface.prototype.requestAnimationFrame=function(c,_){this.He||(this.He=this.getCanvas()),requestAnimationFrame(function(){s.Od(this.Md),c(this.He),this.flush(_)}.bind(this))},s.Surface.prototype.drawOnce=function(c,_){this.He||(this.He=this.getCanvas()),requestAnimationFrame(function(){s.Od(this.Md),c(this.He),this.flush(_),this.dispose()}.bind(this))},s.PathEffect.MakeDash=function(c,_){if(_||(_=0),!c.length||c.length%2===1)throw"Intervals array must have even length";var y=I(c,"HEAPF32");return _=s.PathEffect._MakeDash(y,c.length,_),L(y,c),_},s.PathEffect.MakeLine2D=function(c,_){return _=rt(_),s.PathEffect._MakeLine2D(c,_)},s.PathEffect.MakePath2D=function(c,_){return c=rt(c),s.PathEffect._MakePath2D(c,_)},s.Shader.MakeColor=function(c,_){return _=_||null,c=H(c),s.Shader._MakeColor(c,_)},s.Shader.Blend=s.Shader.MakeBlend,s.Shader.Color=s.Shader.MakeColor,s.Shader.MakeLinearGradient=function(c,_,y,A,k,Y,Z,dt){dt=dt||null;var _t=et(y),Ft=I(A,"HEAPF32");Z=Z||0,Y=rt(Y);var F=ze.toTypedArray();return F.set(c),F.set(_,2),c=s.Shader._MakeLinearGradient(ge,_t.ce,_t.colorType,Ft,_t.count,k,Z,Y,dt),L(_t.ce,y),A&&L(Ft,A),c},s.Shader.MakeRadialGradient=function(c,_,y,A,k,Y,Z,dt){dt=dt||null;var _t=et(y),Ft=I(A,"HEAPF32");return Z=Z||0,Y=rt(Y),c=s.Shader._MakeRadialGradient(c[0],c[1],_,_t.ce,_t.colorType,Ft,_t.count,k,Z,Y,dt),L(_t.ce,y),A&&L(Ft,A),c},s.Shader.MakeSweepGradient=function(c,_,y,A,k,Y,Z,dt,_t,Ft){Ft=Ft||null;var F=et(y),Q=I(A,"HEAPF32");return Z=Z||0,dt=dt||0,_t=_t||360,Y=rt(Y),c=s.Shader._MakeSweepGradient(c,_,F.ce,F.colorType,Q,F.count,k,dt,_t,Z,Y,Ft),L(F.ce,y),A&&L(Q,A),c},s.Shader.MakeTwoPointConicalGradient=function(c,_,y,A,k,Y,Z,dt,_t,Ft){Ft=Ft||null;var F=et(k),Q=I(Y,"HEAPF32");_t=_t||0,dt=rt(dt);var yt=ze.toTypedArray();return yt.set(c),yt.set(y,2),c=s.Shader._MakeTwoPointConicalGradient(ge,_,A,F.ce,F.colorType,Q,F.count,Z,_t,dt,Ft),L(F.ce,k),Y&&L(Q,Y),c},s.Vertices.prototype.bounds=function(c){this._bounds(ge);var _=ze.toTypedArray();return c?(c.set(_),c):_.slice()},s.Vd&&s.Vd.forEach(function(c){c()})},s.computeTonalColors=function(d){var c=I(d.ambient,"HEAPF32"),_=I(d.spot,"HEAPF32");this._computeTonalColors(c,_);var y={ambient:wt(c),spot:wt(_)};return L(c,d.ambient),L(_,d.spot),y},s.LTRBRect=function(d,c,_,y){return Float32Array.of(d,c,_,y)},s.XYWHRect=function(d,c,_,y){return Float32Array.of(d,c,d+_,c+y)},s.LTRBiRect=function(d,c,_,y){return Int32Array.of(d,c,_,y)},s.XYWHiRect=function(d,c,_,y){return Int32Array.of(d,c,d+_,c+y)},s.RRectXY=function(d,c,_){return Float32Array.of(d[0],d[1],d[2],d[3],c,_,c,_,c,_,c,_)},s.MakeAnimatedImageFromEncoded=function(d){d=new Uint8Array(d);var c=s._malloc(d.byteLength);return s.HEAPU8.set(d,c),(d=s._decodeAnimatedImage(c,d.byteLength))?d:null},s.MakeImageFromEncoded=function(d){d=new Uint8Array(d);var c=s._malloc(d.byteLength);return s.HEAPU8.set(d,c),(d=s._decodeImage(c,d.byteLength))?d:null};var vs=null;s.MakeImageFromCanvasImageSource=function(d){var c=d.width,_=d.height;vs||(vs=document.createElement("canvas")),vs.width=c,vs.height=_;var y=vs.getContext("2d",{yg:!0});return y.drawImage(d,0,0),d=y.getImageData(0,0,c,_),s.MakeImage({width:c,height:_,alphaType:s.AlphaType.Unpremul,colorType:s.ColorType.RGBA_8888,colorSpace:s.ColorSpace.SRGB},d.data,4*c)},s.MakeImage=function(d,c,_){var y=s._malloc(c.length);return s.HEAPU8.set(c,y),s._MakeImage(d,y,c.length,_)},s.MakeVertices=function(d,c,_,y,A,k){var Y=A&&A.length||0,Z=0;return _&&_.length&&(Z|=1),y&&y.length&&(Z|=2),k===void 0||k||(Z|=4),d=new s._VerticesBuilder(d,c.length/2,Y,Z),I(c,"HEAPF32",d.positions()),d.texCoords()&&I(_,"HEAPF32",d.texCoords()),d.colors()&&I(v(y),"HEAPU32",d.colors()),d.indices()&&I(A,"HEAPU16",d.indices()),d.detach()},s.Matrix={},s.Matrix.identity=function(){return u(3)},s.Matrix.invert=function(d){var c=d[0]*d[4]*d[8]+d[1]*d[5]*d[6]+d[2]*d[3]*d[7]-d[2]*d[4]*d[6]-d[1]*d[3]*d[8]-d[0]*d[5]*d[7];return c?[(d[4]*d[8]-d[5]*d[7])/c,(d[2]*d[7]-d[1]*d[8])/c,(d[1]*d[5]-d[2]*d[4])/c,(d[5]*d[6]-d[3]*d[8])/c,(d[0]*d[8]-d[2]*d[6])/c,(d[2]*d[3]-d[0]*d[5])/c,(d[3]*d[7]-d[4]*d[6])/c,(d[1]*d[6]-d[0]*d[7])/c,(d[0]*d[4]-d[1]*d[3])/c]:null},s.Matrix.mapPoints=function(d,c){for(var _=0;_<c.length;_+=2){var y=c[_],A=c[_+1],k=d[6]*y+d[7]*A+d[8],Y=d[3]*y+d[4]*A+d[5];c[_]=(d[0]*y+d[1]*A+d[2])/k,c[_+1]=Y/k}return c},s.Matrix.multiply=function(){return gs(3,arguments)},s.Matrix.rotated=function(d,c,_){c=c||0,_=_||0;var y=Math.sin(d);return d=Math.cos(d),[d,-y,Re(y,_,1-d,c),y,d,Re(-y,c,1-d,_),0,0,1]},s.Matrix.scaled=function(d,c,_,y){_=_||0,y=y||0;var A=o([d,c],u(3),3,0,1);return o([_-d*_,y-c*y],A,3,2,0)},s.Matrix.skewed=function(d,c,_,y){_=_||0,y=y||0;var A=o([d,c],u(3),3,1,-1);return o([-d*_,-c*y],A,3,2,0)},s.Matrix.translated=function(d,c){return o(arguments,u(3),3,2,0)},s.Vector={},s.Vector.dot=function(d,c){return d.map(function(_,y){return _*c[y]}).reduce(function(_,y){return _+y})},s.Vector.lengthSquared=function(d){return s.Vector.dot(d,d)},s.Vector.length=function(d){return Math.sqrt(s.Vector.lengthSquared(d))},s.Vector.mulScalar=function(d,c){return d.map(function(_){return _*c})},s.Vector.add=function(d,c){return d.map(function(_,y){return _+c[y]})},s.Vector.sub=function(d,c){return d.map(function(_,y){return _-c[y]})},s.Vector.dist=function(d,c){return s.Vector.length(s.Vector.sub(d,c))},s.Vector.normalize=function(d){return s.Vector.mulScalar(d,1/s.Vector.length(d))},s.Vector.cross=function(d,c){return[d[1]*c[2]-d[2]*c[1],d[2]*c[0]-d[0]*c[2],d[0]*c[1]-d[1]*c[0]]},s.M44={},s.M44.identity=function(){return u(4)},s.M44.translated=function(d){return o(d,u(4),4,3,0)},s.M44.scaled=function(d){return o(d,u(4),4,0,1)},s.M44.rotated=function(d,c){return s.M44.rotatedUnitSinCos(s.Vector.normalize(d),Math.sin(c),Math.cos(c))},s.M44.rotatedUnitSinCos=function(d,c,_){var y=d[0],A=d[1];d=d[2];var k=1-_;return[k*y*y+_,k*y*A-c*d,k*y*d+c*A,0,k*y*A+c*d,k*A*A+_,k*A*d-c*y,0,k*y*d-c*A,k*A*d+c*y,k*d*d+_,0,0,0,0,1]},s.M44.lookat=function(d,c,_){c=s.Vector.normalize(s.Vector.sub(c,d)),_=s.Vector.normalize(_),_=s.Vector.normalize(s.Vector.cross(c,_));var y=s.M44.identity();return o(_,y,4,0,0),o(s.Vector.cross(_,c),y,4,1,0),o(s.Vector.mulScalar(c,-1),y,4,2,0),o(d,y,4,3,0),d=s.M44.invert(y),d===null?s.M44.identity():d},s.M44.perspective=function(d,c,_){var y=1/(c-d);return _/=2,_=Math.cos(_)/Math.sin(_),[_,0,0,0,0,_,0,0,0,0,(c+d)*y,2*c*d*y,0,0,-1,1]},s.M44.rc=function(d,c,_){return d[4*c+_]},s.M44.multiply=function(){return gs(4,arguments)},s.M44.invert=function(d){var c=d[0],_=d[4],y=d[8],A=d[12],k=d[1],Y=d[5],Z=d[9],dt=d[13],_t=d[2],Ft=d[6],F=d[10],Q=d[14],yt=d[3],kt=d[7],me=d[11];d=d[15];var Me=c*Y-_*k,Le=c*Z-y*k,He=c*dt-A*k,te=_*Z-y*Y,q=_*dt-A*Y,m=y*dt-A*Z,S=_t*kt-Ft*yt,U=_t*me-F*yt,K=_t*d-Q*yt,j=Ft*me-F*kt,z=Ft*d-Q*kt,lt=F*d-Q*me,Bt=Me*lt-Le*z+He*j+te*K-q*U+m*S,Ut=1/Bt;return Bt===0||Ut===1/0?null:(Me*=Ut,Le*=Ut,He*=Ut,te*=Ut,q*=Ut,m*=Ut,S*=Ut,U*=Ut,K*=Ut,j*=Ut,z*=Ut,lt*=Ut,c=[Y*lt-Z*z+dt*j,Z*K-k*lt-dt*U,k*z-Y*K+dt*S,Y*U-k*j-Z*S,y*z-_*lt-A*j,c*lt-y*K+A*U,_*K-c*z-A*S,c*j-_*U+y*S,kt*m-me*q+d*te,me*He-yt*m-d*Le,yt*q-kt*He+d*Me,kt*Le-yt*te-me*Me,F*q-Ft*m-Q*te,_t*m-F*He+Q*Le,Ft*He-_t*q-Q*Me,_t*te-Ft*Le+F*Me],c.every(function(qe){return!isNaN(qe)&&qe!==1/0&&qe!==-1/0})?c:null)},s.M44.transpose=function(d){return[d[0],d[4],d[8],d[12],d[1],d[5],d[9],d[13],d[2],d[6],d[10],d[14],d[3],d[7],d[11],d[15]]},s.M44.mustInvert=function(d){if(d=s.M44.invert(d),d===null)throw"Matrix not invertible";return d},s.M44.setupCamera=function(d,c,_){var y=s.M44.lookat(_.eye,_.coa,_.up);return _=s.M44.perspective(_.near,_.far,_.angle),c=[(d[2]-d[0])/2,(d[3]-d[1])/2,c],d=s.M44.multiply(s.M44.translated([(d[0]+d[2])/2,(d[1]+d[3])/2,0]),s.M44.scaled(c)),s.M44.multiply(d,_,y,s.M44.mustInvert(d))},s.ColorMatrix={},s.ColorMatrix.identity=function(){var d=new Float32Array(20);return d[0]=1,d[6]=1,d[12]=1,d[18]=1,d},s.ColorMatrix.scaled=function(d,c,_,y){var A=new Float32Array(20);return A[0]=d,A[6]=c,A[12]=_,A[18]=y,A};var ro=[[6,7,11,12],[0,10,2,12],[0,1,5,6]];s.ColorMatrix.rotated=function(d,c,_){var y=s.ColorMatrix.identity();return d=ro[d],y[d[0]]=_,y[d[1]]=c,y[d[2]]=-c,y[d[3]]=_,y},s.ColorMatrix.postTranslate=function(d,c,_,y,A){return d[4]+=c,d[9]+=_,d[14]+=y,d[19]+=A,d},s.ColorMatrix.concat=function(d,c){for(var _=new Float32Array(20),y=0,A=0;20>A;A+=5){for(var k=0;4>k;k++)_[y++]=d[A]*c[k]+d[A+1]*c[k+5]+d[A+2]*c[k+10]+d[A+3]*c[k+15];_[y++]=d[A]*c[4]+d[A+1]*c[9]+d[A+2]*c[14]+d[A+3]*c[19]+d[A+4]}return _},function(d){d.Vd=d.Vd||[],d.Vd.push(function(){function c(F){if(!F||!F.length)return[];for(var Q=[],yt=0;yt<F.length;yt+=5){var kt=d.LTRBRect(F[yt],F[yt+1],F[yt+2],F[yt+3]);kt.direction=F[yt+4]===0?d.TextDirection.RTL:d.TextDirection.LTR,Q.push(kt)}return d._free(F.byteOffset),Q}function _(F){return F=F||{},F.weight===void 0&&(F.weight=d.FontWeight.Normal),F.width=F.width||d.FontWidth.Normal,F.slant=F.slant||d.FontSlant.Upright,F}function y(F){if(!F||!F.length)return Ot;for(var Q=[],yt=0;yt<F.length;yt++){var kt=A(F[yt]);Q.push(kt)}return I(Q,"HEAPU32")}function A(F){if(Z[F])return Z[F];var Q=Kt(F)+1,yt=d._malloc(Q);return Wt(F,Ct,yt,Q),Z[F]=yt}function k(F){if(F._colorPtr=H(F.color),F._foregroundColorPtr=Ot,F._backgroundColorPtr=Ot,F._decorationColorPtr=Ot,F.foregroundColor&&(F._foregroundColorPtr=H(F.foregroundColor,dt)),F.backgroundColor&&(F._backgroundColorPtr=H(F.backgroundColor,_t)),F.decorationColor&&(F._decorationColorPtr=H(F.decorationColor,Ft)),Array.isArray(F.fontFamilies)&&F.fontFamilies.length?(F._fontFamiliesPtr=y(F.fontFamilies),F._fontFamiliesLen=F.fontFamilies.length):(F._fontFamiliesPtr=Ot,F._fontFamiliesLen=0),F.locale){var Q=F.locale;F._localePtr=A(Q),F._localeLen=Kt(Q)+1}else F._localePtr=Ot,F._localeLen=0;if(Array.isArray(F.shadows)&&F.shadows.length){Q=F.shadows;var yt=Q.map(function(te){return te.color||d.BLACK}),kt=Q.map(function(te){return te.blurRadius||0});F._shadowLen=Q.length;for(var me=d._malloc(8*Q.length),Me=me/4,Le=0;Le<Q.length;Le++){var He=Q[Le].offset||[0,0];d.HEAPF32[Me]=He[0],d.HEAPF32[Me+1]=He[1],Me+=2}F._shadowColorsPtr=et(yt).ce,F._shadowOffsetsPtr=me,F._shadowBlurRadiiPtr=I(kt,"HEAPF32")}else F._shadowLen=0,F._shadowColorsPtr=Ot,F._shadowOffsetsPtr=Ot,F._shadowBlurRadiiPtr=Ot;Array.isArray(F.fontFeatures)&&F.fontFeatures.length?(Q=F.fontFeatures,yt=Q.map(function(te){return te.name}),kt=Q.map(function(te){return te.value}),F._fontFeatureLen=Q.length,F._fontFeatureNamesPtr=y(yt),F._fontFeatureValuesPtr=I(kt,"HEAPU32")):(F._fontFeatureLen=0,F._fontFeatureNamesPtr=Ot,F._fontFeatureValuesPtr=Ot)}function Y(F){d._free(F._fontFamiliesPtr),d._free(F._shadowColorsPtr),d._free(F._shadowOffsetsPtr),d._free(F._shadowBlurRadiiPtr),d._free(F._fontFeatureNamesPtr),d._free(F._fontFeatureValuesPtr)}d.Paragraph.prototype.getRectsForRange=function(F,Q,yt,kt){return F=this._getRectsForRange(F,Q,yt,kt),c(F)},d.Paragraph.prototype.getRectsForPlaceholders=function(){var F=this._getRectsForPlaceholders();return c(F)},d.TypefaceFontProvider.prototype.registerFont=function(F,Q){if(F=d.Typeface.MakeFreeTypeFaceFromData(F),!F)return null;Q=A(Q),this._registerFont(F,Q)},d.ParagraphStyle=function(F){if(F.disableHinting=F.disableHinting||!1,F.ellipsis){var Q=F.ellipsis;F._ellipsisPtr=A(Q),F._ellipsisLen=Kt(Q)+1}else F._ellipsisPtr=Ot,F._ellipsisLen=0;return F.heightMultiplier=F.heightMultiplier||0,F.maxLines=F.maxLines||0,Q=(Q=F.strutStyle)||{},Q.strutEnabled=Q.strutEnabled||!1,Q.strutEnabled&&Array.isArray(Q.fontFamilies)&&Q.fontFamilies.length?(Q._fontFamiliesPtr=y(Q.fontFamilies),Q._fontFamiliesLen=Q.fontFamilies.length):(Q._fontFamiliesPtr=Ot,Q._fontFamiliesLen=0),Q.fontStyle=_(Q.fontStyle),Q.fontSize=Q.fontSize||0,Q.heightMultiplier=Q.heightMultiplier||0,Q.halfLeading=Q.halfLeading||!1,Q.leading=Q.leading||0,Q.forceStrutHeight=Q.forceStrutHeight||!1,F.strutStyle=Q,F.textAlign=F.textAlign||d.TextAlign.Start,F.textDirection=F.textDirection||d.TextDirection.LTR,F.textHeightBehavior=F.textHeightBehavior||d.TextHeightBehavior.All,F.textStyle=d.TextStyle(F.textStyle),F},d.TextStyle=function(F){return F.color||(F.color=d.BLACK),F.decoration=F.decoration||0,F.decorationThickness=F.decorationThickness||0,F.decorationStyle=F.decorationStyle||d.DecorationStyle.Solid,F.textBaseline=F.textBaseline||d.TextBaseline.Alphabetic,F.fontSize=F.fontSize||0,F.letterSpacing=F.letterSpacing||0,F.wordSpacing=F.wordSpacing||0,F.heightMultiplier=F.heightMultiplier||0,F.halfLeading=F.halfLeading||!1,F.fontStyle=_(F.fontStyle),F};var Z={},dt=d._malloc(16),_t=d._malloc(16),Ft=d._malloc(16);d.ParagraphBuilder.Make=function(F,Q){return k(F.textStyle),Q=d.ParagraphBuilder._Make(F,Q),Y(F.textStyle),Q},d.ParagraphBuilder.MakeFromFontProvider=function(F,Q){return k(F.textStyle),Q=d.ParagraphBuilder._MakeFromFontProvider(F,Q),Y(F.textStyle),Q},d.ParagraphBuilder.ShapeText=function(F,Q,yt){let kt=0;for(const me of Q)kt+=me.length;if(kt!==F.length)throw"Accumulated block lengths must equal text.length";return d.ParagraphBuilder._ShapeText(F,Q,yt)},d.ParagraphBuilder.prototype.pushStyle=function(F){k(F),this._pushStyle(F),Y(F)},d.ParagraphBuilder.prototype.pushPaintStyle=function(F,Q,yt){k(F),this._pushPaintStyle(F,Q,yt),Y(F)},d.ParagraphBuilder.prototype.addPlaceholder=function(F,Q,yt,kt,me){yt=yt||d.PlaceholderAlignment.Baseline,kt=kt||d.TextBaseline.Alphabetic,this._addPlaceholder(F||0,Q||0,yt,kt,me||0)}})}(h),s.Vd=s.Vd||[],s.Vd.push(function(){s.Path.prototype.op=function(d,c){return this._op(d,c)?this:null},s.Path.prototype.simplify=function(){return this._simplify()?this:null}}),s.Vd=s.Vd||[],s.Vd.push(function(){s.Canvas.prototype.drawText=function(d,c,_,y,A){var k=Kt(d),Y=s._malloc(k+1);Wt(d,Ct,Y,k+1),this._drawSimpleText(Y,k,c,_,A,y),s._free(Y)},s.Canvas.prototype.drawGlyphs=function(d,c,_,y,A,k){if(!(2*d.length<=c.length))throw"Not enough positions for the array of gyphs";s.Od(this.Md);const Y=I(d,"HEAPU16"),Z=I(c,"HEAPF32");this._drawGlyphs(d.length,Y,Z,_,y,A,k),L(Z,c),L(Y,d)},s.Font.prototype.getGlyphBounds=function(d,c,_){var y=I(d,"HEAPU16"),A=s._malloc(16*d.length);return this._getGlyphWidthBounds(y,d.length,Ot,A,c||null),c=new Float32Array(s.HEAPU8.buffer,A,4*d.length),L(y,d),_?(_.set(c),s._free(A),_):(d=Float32Array.from(c),s._free(A),d)},s.Font.prototype.getGlyphIDs=function(d,c,_){c||(c=d.length);var y=Kt(d)+1,A=s._malloc(y);return Wt(d,Ct,A,y),d=s._malloc(2*c),c=this._getGlyphIDs(A,y-1,c,d),s._free(A),0>c?(s._free(d),null):(A=new Uint16Array(s.HEAPU8.buffer,d,c),_?(_.set(A),s._free(d),_):(_=Uint16Array.from(A),s._free(d),_))},s.Font.prototype.getGlyphIntercepts=function(d,c,_,y){var A=I(d,"HEAPU16"),k=I(c,"HEAPF32");return this._getGlyphIntercepts(A,d.length,!(d&&d._ck),k,c.length,!(c&&c._ck),_,y)},s.Font.prototype.getGlyphWidths=function(d,c,_){var y=I(d,"HEAPU16"),A=s._malloc(4*d.length);return this._getGlyphWidthBounds(y,d.length,A,Ot,c||null),c=new Float32Array(s.HEAPU8.buffer,A,d.length),L(y,d),_?(_.set(c),s._free(A),_):(d=Float32Array.from(c),s._free(A),d)},s.FontMgr.FromData=function(){if(!arguments.length)return null;var d=arguments;if(d.length===1&&Array.isArray(d[0])&&(d=arguments[0]),!d.length)return null;for(var c=[],_=[],y=0;y<d.length;y++){var A=new Uint8Array(d[y]),k=I(A,"HEAPU8");c.push(k),_.push(A.byteLength)}return c=I(c,"HEAPU32"),_=I(_,"HEAPU32"),d=s.FontMgr._fromData(c,_,d.length),s._free(c),s._free(_),d},s.Typeface.MakeFreeTypeFaceFromData=function(d){d=new Uint8Array(d);var c=I(d,"HEAPU8");return(d=s.Typeface._MakeFreeTypeFaceFromData(c,d.byteLength))?d:null},s.Typeface.prototype.getGlyphIDs=function(d,c,_){c||(c=d.length);var y=Kt(d)+1,A=s._malloc(y);return Wt(d,Ct,A,y),d=s._malloc(2*c),c=this._getGlyphIDs(A,y-1,c,d),s._free(A),0>c?(s._free(d),null):(A=new Uint16Array(s.HEAPU8.buffer,d,c),_?(_.set(A),s._free(d),_):(_=Uint16Array.from(A),s._free(d),_))},s.TextBlob.MakeOnPath=function(d,c,_,y){if(d&&d.length&&c&&c.countPoints()){if(c.countPoints()===1)return this.MakeFromText(d,_);y||(y=0);var A=_.getGlyphIDs(d);A=_.getGlyphWidths(A);var k=[];c=new s.ContourMeasureIter(c,!1,1);for(var Y=c.next(),Z=new Float32Array(4),dt=0;dt<d.length&&Y;dt++){var _t=A[dt];if(y+=_t/2,y>Y.length()){if(Y.delete(),Y=c.next(),!Y){d=d.substring(0,dt);break}y=_t/2}Y.getPosTan(y,Z);var Ft=Z[2],F=Z[3];k.push(Ft,F,Z[0]-_t/2*Ft,Z[1]-_t/2*F),y+=_t/2}return d=this.MakeFromRSXform(d,k,_),Y&&Y.delete(),c.delete(),d}},s.TextBlob.MakeFromRSXform=function(d,c,_){var y=Kt(d)+1,A=s._malloc(y);return Wt(d,Ct,A,y),d=I(c,"HEAPF32"),_=s.TextBlob._MakeFromRSXform(A,y-1,d,_),s._free(A),_||null},s.TextBlob.MakeFromRSXformGlyphs=function(d,c,_){var y=I(d,"HEAPU16");return c=I(c,"HEAPF32"),_=s.TextBlob._MakeFromRSXformGlyphs(y,2*d.length,c,_),L(y,d),_||null},s.TextBlob.MakeFromGlyphs=function(d,c){var _=I(d,"HEAPU16");return c=s.TextBlob._MakeFromGlyphs(_,2*d.length,c),L(_,d),c||null},s.TextBlob.MakeFromText=function(d,c){var _=Kt(d)+1,y=s._malloc(_);return Wt(d,Ct,y,_),d=s.TextBlob._MakeFromText(y,_-1,c),s._free(y),d||null},s.MallocGlyphIDs=function(d){return s.Malloc(Uint16Array,d)}}),s.Vd=s.Vd||[],s.Vd.push(function(){s.MakePicture=function(d){d=new Uint8Array(d);var c=s._malloc(d.byteLength);return s.HEAPU8.set(d,c),(d=s._MakePicture(c,d.byteLength))?d:null}}),function(){function d(q){for(var m=0;m<q.length;m++)if(q[m]!==void 0&&!Number.isFinite(q[m]))return!1;return!0}function c(q){var m=s.getColorComponents(q);q=m[0];var S=m[1],U=m[2];return m=m[3],m===1?(q=q.toString(16).toLowerCase(),S=S.toString(16).toLowerCase(),U=U.toString(16).toLowerCase(),q=q.length===1?"0"+q:q,S=S.length===1?"0"+S:S,U=U.length===1?"0"+U:U,"#"+q+S+U):(m=m===0||m===1?m:m.toFixed(8),"rgba("+q+", "+S+", "+U+", "+m+")")}function _(q){return s.parseColorString(q,Le)}function y(q){if(q=He.exec(q),!q)return null;var m=parseFloat(q[4]),S=16;switch(q[5]){case"em":case"rem":S=16*m;break;case"pt":S=4*m/3;break;case"px":S=m;break;case"pc":S=16*m;break;case"in":S=96*m;break;case"cm":S=96*m/2.54;break;case"mm":S=3.7795275590551185*m;break;case"q":S=.9448818897637796*m;break;case"%":S=.21333333333333335*m}return{style:q[1],variant:q[2],weight:q[3],sizePx:S,family:q[6].trim()}}function A(q){this.Nd=q,this.Qd=new s.Paint,this.Qd.setAntiAlias(!0),this.Qd.setStrokeMiter(10),this.Qd.setStrokeCap(s.StrokeCap.Butt),this.Qd.setStrokeJoin(s.StrokeJoin.Miter),this.Qe="10px monospace",this.ne=new s.Font(null,10),this.ne.setSubpixel(!0),this.be=this.ge=s.BLACK,this.we=0,this.Je=s.TRANSPARENT,this.ye=this.xe=0,this.Ke=this.ke=1,this.Ie=0,this.ve=[],this.Pd=s.BlendMode.SrcOver,this.Qd.setStrokeWidth(this.Ke),this.Qd.setBlendMode(this.Pd),this.Sd=new s.Path,this.Ud=s.Matrix.identity(),this.lf=[],this.Ce=[],this.me=function(){this.Sd.delete(),this.Qd.delete(),this.ne.delete(),this.Ce.forEach(function(m){m.me()})},Object.defineProperty(this,"currentTransform",{enumerable:!0,get:function(){return{a:this.Ud[0],c:this.Ud[1],e:this.Ud[2],b:this.Ud[3],d:this.Ud[4],f:this.Ud[5]}},set:function(m){m.a&&this.setTransform(m.a,m.b,m.c,m.d,m.e,m.f)}}),Object.defineProperty(this,"fillStyle",{enumerable:!0,get:function(){return f(this.be)?c(this.be):this.be},set:function(m){typeof m=="string"?this.be=_(m):m.ue&&(this.be=m)}}),Object.defineProperty(this,"font",{enumerable:!0,get:function(){return this.Qe},set:function(m){var S=y(m),U=S.family;S.typeface=te[U]?te[U][(S.style||"normal")+"|"+(S.variant||"normal")+"|"+(S.weight||"normal")]||te[U]["*"]:null,S&&(this.ne.setSize(S.sizePx),this.ne.setTypeface(S.typeface),this.Qe=m)}}),Object.defineProperty(this,"globalAlpha",{enumerable:!0,get:function(){return this.ke},set:function(m){!isFinite(m)||0>m||1<m||(this.ke=m)}}),Object.defineProperty(this,"globalCompositeOperation",{enumerable:!0,get:function(){switch(this.Pd){case s.BlendMode.SrcOver:return"source-over";case s.BlendMode.DstOver:return"destination-over";case s.BlendMode.Src:return"copy";case s.BlendMode.Dst:return"destination";case s.BlendMode.Clear:return"clear";case s.BlendMode.SrcIn:return"source-in";case s.BlendMode.DstIn:return"destination-in";case s.BlendMode.SrcOut:return"source-out";case s.BlendMode.DstOut:return"destination-out";case s.BlendMode.SrcATop:return"source-atop";case s.BlendMode.DstATop:return"destination-atop";case s.BlendMode.Xor:return"xor";case s.BlendMode.Plus:return"lighter";case s.BlendMode.Multiply:return"multiply";case s.BlendMode.Screen:return"screen";case s.BlendMode.Overlay:return"overlay";case s.BlendMode.Darken:return"darken";case s.BlendMode.Lighten:return"lighten";case s.BlendMode.ColorDodge:return"color-dodge";case s.BlendMode.ColorBurn:return"color-burn";case s.BlendMode.HardLight:return"hard-light";case s.BlendMode.SoftLight:return"soft-light";case s.BlendMode.Difference:return"difference";case s.BlendMode.Exclusion:return"exclusion";case s.BlendMode.Hue:return"hue";case s.BlendMode.Saturation:return"saturation";case s.BlendMode.Color:return"color";case s.BlendMode.Luminosity:return"luminosity"}},set:function(m){switch(m){case"source-over":this.Pd=s.BlendMode.SrcOver;break;case"destination-over":this.Pd=s.BlendMode.DstOver;break;case"copy":this.Pd=s.BlendMode.Src;break;case"destination":this.Pd=s.BlendMode.Dst;break;case"clear":this.Pd=s.BlendMode.Clear;break;case"source-in":this.Pd=s.BlendMode.SrcIn;break;case"destination-in":this.Pd=s.BlendMode.DstIn;break;case"source-out":this.Pd=s.BlendMode.SrcOut;break;case"destination-out":this.Pd=s.BlendMode.DstOut;break;case"source-atop":this.Pd=s.BlendMode.SrcATop;break;case"destination-atop":this.Pd=s.BlendMode.DstATop;break;case"xor":this.Pd=s.BlendMode.Xor;break;case"lighter":this.Pd=s.BlendMode.Plus;break;case"plus-lighter":this.Pd=s.BlendMode.Plus;break;case"plus-darker":throw"plus-darker is not supported";case"multiply":this.Pd=s.BlendMode.Multiply;break;case"screen":this.Pd=s.BlendMode.Screen;break;case"overlay":this.Pd=s.BlendMode.Overlay;break;case"darken":this.Pd=s.BlendMode.Darken;break;case"lighten":this.Pd=s.BlendMode.Lighten;break;case"color-dodge":this.Pd=s.BlendMode.ColorDodge;break;case"color-burn":this.Pd=s.BlendMode.ColorBurn;break;case"hard-light":this.Pd=s.BlendMode.HardLight;break;case"soft-light":this.Pd=s.BlendMode.SoftLight;break;case"difference":this.Pd=s.BlendMode.Difference;break;case"exclusion":this.Pd=s.BlendMode.Exclusion;break;case"hue":this.Pd=s.BlendMode.Hue;break;case"saturation":this.Pd=s.BlendMode.Saturation;break;case"color":this.Pd=s.BlendMode.Color;break;case"luminosity":this.Pd=s.BlendMode.Luminosity;break;default:return}this.Qd.setBlendMode(this.Pd)}}),Object.defineProperty(this,"imageSmoothingEnabled",{enumerable:!0,get:function(){return!0},set:function(){}}),Object.defineProperty(this,"imageSmoothingQuality",{enumerable:!0,get:function(){return"high"},set:function(){}}),Object.defineProperty(this,"lineCap",{enumerable:!0,get:function(){switch(this.Qd.getStrokeCap()){case s.StrokeCap.Butt:return"butt";case s.StrokeCap.Round:return"round";case s.StrokeCap.Square:return"square"}},set:function(m){switch(m){case"butt":this.Qd.setStrokeCap(s.StrokeCap.Butt);break;case"round":this.Qd.setStrokeCap(s.StrokeCap.Round);break;case"square":this.Qd.setStrokeCap(s.StrokeCap.Square)}}}),Object.defineProperty(this,"lineDashOffset",{enumerable:!0,get:function(){return this.Ie},set:function(m){isFinite(m)&&(this.Ie=m)}}),Object.defineProperty(this,"lineJoin",{enumerable:!0,get:function(){switch(this.Qd.getStrokeJoin()){case s.StrokeJoin.Miter:return"miter";case s.StrokeJoin.Round:return"round";case s.StrokeJoin.Bevel:return"bevel"}},set:function(m){switch(m){case"miter":this.Qd.setStrokeJoin(s.StrokeJoin.Miter);break;case"round":this.Qd.setStrokeJoin(s.StrokeJoin.Round);break;case"bevel":this.Qd.setStrokeJoin(s.StrokeJoin.Bevel)}}}),Object.defineProperty(this,"lineWidth",{enumerable:!0,get:function(){return this.Qd.getStrokeWidth()},set:function(m){0>=m||!m||(this.Ke=m,this.Qd.setStrokeWidth(m))}}),Object.defineProperty(this,"miterLimit",{enumerable:!0,get:function(){return this.Qd.getStrokeMiter()},set:function(m){0>=m||!m||this.Qd.setStrokeMiter(m)}}),Object.defineProperty(this,"shadowBlur",{enumerable:!0,get:function(){return this.we},set:function(m){0>m||!isFinite(m)||(this.we=m)}}),Object.defineProperty(this,"shadowColor",{enumerable:!0,get:function(){return c(this.Je)},set:function(m){this.Je=_(m)}}),Object.defineProperty(this,"shadowOffsetX",{enumerable:!0,get:function(){return this.xe},set:function(m){isFinite(m)&&(this.xe=m)}}),Object.defineProperty(this,"shadowOffsetY",{enumerable:!0,get:function(){return this.ye},set:function(m){isFinite(m)&&(this.ye=m)}}),Object.defineProperty(this,"strokeStyle",{enumerable:!0,get:function(){return c(this.ge)},set:function(m){typeof m=="string"?this.ge=_(m):m.ue&&(this.ge=m)}}),this.arc=function(m,S,U,K,j,z){Q(this.Sd,m,S,U,U,0,K,j,z)},this.arcTo=function(m,S,U,K,j){_t(this.Sd,m,S,U,K,j)},this.beginPath=function(){this.Sd.delete(),this.Sd=new s.Path},this.bezierCurveTo=function(m,S,U,K,j,z){var lt=this.Sd;d([m,S,U,K,j,z])&&(lt.isEmpty()&&lt.moveTo(m,S),lt.cubicTo(m,S,U,K,j,z))},this.clearRect=function(m,S,U,K){this.Qd.setStyle(s.PaintStyle.Fill),this.Qd.setBlendMode(s.BlendMode.Clear),this.Nd.drawRect(s.XYWHRect(m,S,U,K),this.Qd),this.Qd.setBlendMode(this.Pd)},this.clip=function(m,S){typeof m=="string"?(S=m,m=this.Sd):m&&m.Ze&&(m=m.Wd),m||(m=this.Sd),m=m.copy(),S&&S.toLowerCase()==="evenodd"?m.setFillType(s.FillType.EvenOdd):m.setFillType(s.FillType.Winding),this.Nd.clipPath(m,s.ClipOp.Intersect,!0),m.delete()},this.closePath=function(){Ft(this.Sd)},this.createImageData=function(){if(arguments.length===1){var m=arguments[0];return new Z(new Uint8ClampedArray(4*m.width*m.height),m.width,m.height)}if(arguments.length===2){m=arguments[0];var S=arguments[1];return new Z(new Uint8ClampedArray(4*m*S),m,S)}throw"createImageData expects 1 or 2 arguments, got "+arguments.length},this.createLinearGradient=function(m,S,U,K){if(d(arguments)){var j=new dt(m,S,U,K);return this.Ce.push(j),j}},this.createPattern=function(m,S){return m=new me(m,S),this.Ce.push(m),m},this.createRadialGradient=function(m,S,U,K,j,z){if(d(arguments)){var lt=new Me(m,S,U,K,j,z);return this.Ce.push(lt),lt}},this.drawImage=function(m){m instanceof Y&&(m=m.sf());var S=this.Pe();if(arguments.length===3||arguments.length===5)var U=s.XYWHRect(arguments[1],arguments[2],arguments[3]||m.width(),arguments[4]||m.height()),K=s.XYWHRect(0,0,m.width(),m.height());else if(arguments.length===9)U=s.XYWHRect(arguments[5],arguments[6],arguments[7],arguments[8]),K=s.XYWHRect(arguments[1],arguments[2],arguments[3],arguments[4]);else throw"invalid number of args for drawImage, need 3, 5, or 9; got "+arguments.length;this.Nd.drawImageRect(m,K,U,S,!1),S.dispose()},this.ellipse=function(m,S,U,K,j,z,lt,Bt){Q(this.Sd,m,S,U,K,j,z,lt,Bt)},this.Pe=function(){var m=this.Qd.copy();if(m.setStyle(s.PaintStyle.Fill),f(this.be)){var S=s.multiplyByAlpha(this.be,this.ke);m.setColor(S)}else S=this.be.ue(this.Ud),m.setColor(s.Color(0,0,0,this.ke)),m.setShader(S);return m.dispose=function(){this.delete()},m},this.fill=function(m,S){if(typeof m=="string"?(S=m,m=this.Sd):m&&m.Ze&&(m=m.Wd),S==="evenodd")this.Sd.setFillType(s.FillType.EvenOdd);else{if(S!=="nonzero"&&S)throw"invalid fill rule";this.Sd.setFillType(s.FillType.Winding)}m||(m=this.Sd),S=this.Pe();var U=this.ze(S);U&&(this.Nd.save(),this.se(),this.Nd.drawPath(m,U),this.Nd.restore(),U.dispose()),this.Nd.drawPath(m,S),S.dispose()},this.fillRect=function(m,S,U,K){var j=this.Pe(),z=this.ze(j);z&&(this.Nd.save(),this.se(),this.Nd.drawRect(s.XYWHRect(m,S,U,K),z),this.Nd.restore(),z.dispose()),this.Nd.drawRect(s.XYWHRect(m,S,U,K),j),j.dispose()},this.fillText=function(m,S,U){var K=this.Pe();m=s.TextBlob.MakeFromText(m,this.ne);var j=this.ze(K);j&&(this.Nd.save(),this.se(),this.Nd.drawTextBlob(m,S,U,j),this.Nd.restore(),j.dispose()),this.Nd.drawTextBlob(m,S,U,K),m.delete(),K.dispose()},this.getImageData=function(m,S,U,K){return(m=this.Nd.readPixels(m,S,{width:U,height:K,colorType:s.ColorType.RGBA_8888,alphaType:s.AlphaType.Unpremul,colorSpace:s.ColorSpace.SRGB}))?new Z(new Uint8ClampedArray(m.buffer),U,K):null},this.getLineDash=function(){return this.ve.slice()},this.mf=function(m){var S=s.Matrix.invert(this.Ud);return s.Matrix.mapPoints(S,m),m},this.isPointInPath=function(m,S,U){var K=arguments;if(K.length===3)var j=this.Sd;else if(K.length===4)j=K[0],m=K[1],S=K[2],U=K[3];else throw"invalid arg count, need 3 or 4, got "+K.length;return!isFinite(m)||!isFinite(S)||(U=U||"nonzero",U!=="nonzero"&&U!=="evenodd")?!1:(K=this.mf([m,S]),m=K[0],S=K[1],j.setFillType(U==="nonzero"?s.FillType.Winding:s.FillType.EvenOdd),j.contains(m,S))},this.isPointInStroke=function(m,S){var U=arguments;if(U.length===2)var K=this.Sd;else if(U.length===3)K=U[0],m=U[1],S=U[2];else throw"invalid arg count, need 2 or 3, got "+U.length;return!isFinite(m)||!isFinite(S)?!1:(U=this.mf([m,S]),m=U[0],S=U[1],K=K.copy(),K.setFillType(s.FillType.Winding),K.stroke({width:this.lineWidth,miter_limit:this.miterLimit,cap:this.Qd.getStrokeCap(),join:this.Qd.getStrokeJoin(),precision:.3}),U=K.contains(m,S),K.delete(),U)},this.lineTo=function(m,S){yt(this.Sd,m,S)},this.measureText=function(m){m=this.ne.getGlyphIDs(m),m=this.ne.getGlyphWidths(m);let S=0;for(const U of m)S+=U;return{width:S}},this.moveTo=function(m,S){var U=this.Sd;d([m,S])&&U.moveTo(m,S)},this.putImageData=function(m,S,U,K,j,z,lt){if(d([S,U,K,j,z,lt])){if(K===void 0)this.Nd.writePixels(m.data,m.width,m.height,S,U);else if(K=K||0,j=j||0,z=z||m.width,lt=lt||m.height,0>z&&(K+=z,z=Math.abs(z)),0>lt&&(j+=lt,lt=Math.abs(lt)),0>K&&(z+=K,K=0),0>j&&(lt+=j,j=0),!(0>=z||0>=lt)){m=s.MakeImage({width:m.width,height:m.height,alphaType:s.AlphaType.Unpremul,colorType:s.ColorType.RGBA_8888,colorSpace:s.ColorSpace.SRGB},m.data,4*m.width);var Bt=s.XYWHRect(K,j,z,lt);S=s.XYWHRect(S+K,U+j,z,lt),U=s.Matrix.invert(this.Ud),this.Nd.save(),this.Nd.concat(U),this.Nd.drawImageRect(m,Bt,S,null,!1),this.Nd.restore(),m.delete()}}},this.quadraticCurveTo=function(m,S,U,K){var j=this.Sd;d([m,S,U,K])&&(j.isEmpty()&&j.moveTo(m,S),j.quadTo(m,S,U,K))},this.rect=function(m,S,U,K){var j=this.Sd;m=s.XYWHRect(m,S,U,K),d(m)&&j.addRect(m)},this.resetTransform=function(){this.Sd.transform(this.Ud);var m=s.Matrix.invert(this.Ud);this.Nd.concat(m),this.Ud=this.Nd.getTotalMatrix()},this.restore=function(){var m=this.lf.pop();if(m){var S=s.Matrix.multiply(this.Ud,s.Matrix.invert(m.Df));this.Sd.transform(S),this.Qd.delete(),this.Qd=m.Zf,this.ve=m.Xf,this.Ke=m.lg,this.ge=m.kg,this.be=m.fs,this.xe=m.ig,this.ye=m.jg,this.we=m.cg,this.Je=m.hg,this.ke=m.Lf,this.Pd=m.Mf,this.Ie=m.Yf,this.Qe=m.Kf,this.Nd.restore(),this.Ud=this.Nd.getTotalMatrix()}},this.rotate=function(m){if(isFinite(m)){var S=s.Matrix.rotated(-m);this.Sd.transform(S),this.Nd.rotate(m/Math.PI*180,0,0),this.Ud=this.Nd.getTotalMatrix()}},this.save=function(){if(this.be.te){var m=this.be.te();this.Ce.push(m)}else m=this.be;if(this.ge.te){var S=this.ge.te();this.Ce.push(S)}else S=this.ge;this.lf.push({Df:this.Ud.slice(),Xf:this.ve.slice(),lg:this.Ke,kg:S,fs:m,ig:this.xe,jg:this.ye,cg:this.we,hg:this.Je,Lf:this.ke,Yf:this.Ie,Mf:this.Pd,Zf:this.Qd.copy(),Kf:this.Qe}),this.Nd.save()},this.scale=function(m,S){if(d(arguments)){var U=s.Matrix.scaled(1/m,1/S);this.Sd.transform(U),this.Nd.scale(m,S),this.Ud=this.Nd.getTotalMatrix()}},this.setLineDash=function(m){for(var S=0;S<m.length;S++)if(!isFinite(m[S])||0>m[S])return;m.length%2===1&&Array.prototype.push.apply(m,m),this.ve=m},this.setTransform=function(m,S,U,K,j,z){d(arguments)&&(this.resetTransform(),this.transform(m,S,U,K,j,z))},this.se=function(){var m=s.Matrix.invert(this.Ud);this.Nd.concat(m),this.Nd.concat(s.Matrix.translated(this.xe,this.ye)),this.Nd.concat(this.Ud)},this.ze=function(m){var S=s.multiplyByAlpha(this.Je,this.ke);if(!s.getColorComponents(S)[3]||!(this.we||this.ye||this.xe))return null;m=m.copy(),m.setColor(S);var U=s.MaskFilter.MakeBlur(s.BlurStyle.Normal,this.we/2,!1);return m.setMaskFilter(U),m.dispose=function(){U.delete(),this.delete()},m},this.af=function(){var m=this.Qd.copy();if(m.setStyle(s.PaintStyle.Stroke),f(this.ge)){var S=s.multiplyByAlpha(this.ge,this.ke);m.setColor(S)}else S=this.ge.ue(this.Ud),m.setColor(s.Color(0,0,0,this.ke)),m.setShader(S);if(m.setStrokeWidth(this.Ke),this.ve.length){var U=s.PathEffect.MakeDash(this.ve,this.Ie);m.setPathEffect(U)}return m.dispose=function(){U&&U.delete(),this.delete()},m},this.stroke=function(m){m=m?m.Wd:this.Sd;var S=this.af(),U=this.ze(S);U&&(this.Nd.save(),this.se(),this.Nd.drawPath(m,U),this.Nd.restore(),U.dispose()),this.Nd.drawPath(m,S),S.dispose()},this.strokeRect=function(m,S,U,K){var j=this.af(),z=this.ze(j);z&&(this.Nd.save(),this.se(),this.Nd.drawRect(s.XYWHRect(m,S,U,K),z),this.Nd.restore(),z.dispose()),this.Nd.drawRect(s.XYWHRect(m,S,U,K),j),j.dispose()},this.strokeText=function(m,S,U){var K=this.af();m=s.TextBlob.MakeFromText(m,this.ne);var j=this.ze(K);j&&(this.Nd.save(),this.se(),this.Nd.drawTextBlob(m,S,U,j),this.Nd.restore(),j.dispose()),this.Nd.drawTextBlob(m,S,U,K),m.delete(),K.dispose()},this.translate=function(m,S){if(d(arguments)){var U=s.Matrix.translated(-m,-S);this.Sd.transform(U),this.Nd.translate(m,S),this.Ud=this.Nd.getTotalMatrix()}},this.transform=function(m,S,U,K,j,z){m=[m,U,j,S,K,z,0,0,1],S=s.Matrix.invert(m),this.Sd.transform(S),this.Nd.concat(m),this.Ud=this.Nd.getTotalMatrix()},this.addHitRegion=function(){},this.clearHitRegions=function(){},this.drawFocusIfNeeded=function(){},this.removeHitRegion=function(){},this.scrollPathIntoView=function(){},Object.defineProperty(this,"canvas",{value:null,writable:!1})}function k(q){this.bf=q,this.Md=new A(q.getCanvas()),this.Re=[],this.decodeImage=function(m){if(m=s.MakeImageFromEncoded(m),!m)throw"Invalid input";return this.Re.push(m),new Y(m)},this.loadFont=function(m,S){if(m=s.Typeface.MakeFreeTypeFaceFromData(m),!m)return null;this.Re.push(m);var U=(S.style||"normal")+"|"+(S.variant||"normal")+"|"+(S.weight||"normal");S=S.family,te[S]||(te[S]={"*":m}),te[S][U]=m},this.makePath2D=function(m){return m=new kt(m),this.Re.push(m.Wd),m},this.getContext=function(m){return m==="2d"?this.Md:null},this.toDataURL=function(m,S){this.bf.flush();var U=this.bf.makeImageSnapshot();if(U){m=m||"image/png";var K=s.ImageFormat.PNG;if(m==="image/jpeg"&&(K=s.ImageFormat.JPEG),S=U.encodeToBytes(K,S||.92)){if(U.delete(),m="data:"+m+";base64,",typeof Buffer<"u")S=Buffer.from(S).toString("base64");else{U=0,K=S.length;for(var j="",z;U<K;)z=S.slice(U,Math.min(U+32768,K)),j+=String.fromCharCode.apply(null,z),U+=32768;S=btoa(j)}return m+S}}},this.dispose=function(){this.Md.me(),this.Re.forEach(function(m){m.delete()}),this.bf.dispose()}}function Y(q){this.width=q.width(),this.height=q.height(),this.naturalWidth=this.width,this.naturalHeight=this.height,this.sf=function(){return q}}function Z(q,m,S){if(!m||S===0)throw"invalid dimensions, width and height must be non-zero";if(q.length%4)throw"arr must be a multiple of 4";S=S||q.length/(4*m),Object.defineProperty(this,"data",{value:q,writable:!1}),Object.defineProperty(this,"height",{value:S,writable:!1}),Object.defineProperty(this,"width",{value:m,writable:!1})}function dt(q,m,S,U){this.Yd=null,this.de=[],this.ae=[],this.addColorStop=function(K,j){if(0>K||1<K||!isFinite(K))throw"offset must be between 0 and 1 inclusively";j=_(j);var z=this.ae.indexOf(K);if(z!==-1)this.de[z]=j;else{for(z=0;z<this.ae.length&&!(this.ae[z]>K);z++);this.ae.splice(z,0,K),this.de.splice(z,0,j)}},this.te=function(){var K=new dt(q,m,S,U);return K.de=this.de.slice(),K.ae=this.ae.slice(),K},this.me=function(){this.Yd&&(this.Yd.delete(),this.Yd=null)},this.ue=function(K){var j=[q,m,S,U];s.Matrix.mapPoints(K,j),K=j[0];var z=j[1],lt=j[2];return j=j[3],this.me(),this.Yd=s.Shader.MakeLinearGradient([K,z],[lt,j],this.de,this.ae,s.TileMode.Clamp)}}function _t(q,m,S,U,K,j){if(d([m,S,U,K,j])){if(0>j)throw"radii cannot be negative";q.isEmpty()&&q.moveTo(m,S),q.arcToTangent(m,S,U,K,j)}}function Ft(q){if(!q.isEmpty()){var m=q.getBounds();(m[3]-m[1]||m[2]-m[0])&&q.close()}}function F(q,m,S,U,K,j,z){z=(z-j)/Math.PI*180,j=j/Math.PI*180,m=s.LTRBRect(m-U,S-K,m+U,S+K),1e-5>Math.abs(Math.abs(z)-360)?(S=z/2,q.arcToOval(m,j,S,!1),q.arcToOval(m,j+S,S,!1)):q.arcToOval(m,j,z,!1)}function Q(q,m,S,U,K,j,z,lt,Bt){if(d([m,S,U,K,j,z,lt])){if(0>U||0>K)throw"radii cannot be negative";var Ut=2*Math.PI,qe=z%Ut;0>qe&&(qe+=Ut);var ys=qe-z;z=qe,lt+=ys,!Bt&&lt-z>=Ut?lt=z+Ut:Bt&&z-lt>=Ut?lt=z-Ut:!Bt&&z>lt?lt=z+(Ut-(z-lt)%Ut):Bt&&z<lt&&(lt=z-(Ut-(lt-z)%Ut)),j?(Bt=s.Matrix.rotated(j,m,S),j=s.Matrix.rotated(-j,m,S),q.transform(j),F(q,m,S,U,K,z,lt),q.transform(Bt)):F(q,m,S,U,K,z,lt)}}function yt(q,m,S){d([m,S])&&(q.isEmpty()&&q.moveTo(m,S),q.lineTo(m,S))}function kt(q){this.Wd=null,this.Wd=typeof q=="string"?s.Path.MakeFromSVGString(q):q&&q.Ze?q.Wd.copy():new s.Path,this.Ze=function(){return this.Wd},this.addPath=function(m,S){S||(S={a:1,c:0,e:0,b:0,d:1,f:0}),this.Wd.addPath(m.Wd,[S.a,S.c,S.e,S.b,S.d,S.f])},this.arc=function(m,S,U,K,j,z){Q(this.Wd,m,S,U,U,0,K,j,z)},this.arcTo=function(m,S,U,K,j){_t(this.Wd,m,S,U,K,j)},this.bezierCurveTo=function(m,S,U,K,j,z){var lt=this.Wd;d([m,S,U,K,j,z])&&(lt.isEmpty()&&lt.moveTo(m,S),lt.cubicTo(m,S,U,K,j,z))},this.closePath=function(){Ft(this.Wd)},this.ellipse=function(m,S,U,K,j,z,lt,Bt){Q(this.Wd,m,S,U,K,j,z,lt,Bt)},this.lineTo=function(m,S){yt(this.Wd,m,S)},this.moveTo=function(m,S){var U=this.Wd;d([m,S])&&U.moveTo(m,S)},this.quadraticCurveTo=function(m,S,U,K){var j=this.Wd;d([m,S,U,K])&&(j.isEmpty()&&j.moveTo(m,S),j.quadTo(m,S,U,K))},this.rect=function(m,S,U,K){var j=this.Wd;m=s.XYWHRect(m,S,U,K),d(m)&&j.addRect(m)}}function me(q,m){switch(this.Yd=null,q instanceof Y&&(q=q.sf()),this.zf=q,this._transform=s.Matrix.identity(),m===""&&(m="repeat"),m){case"repeat-x":this.Ae=s.TileMode.Repeat,this.Be=s.TileMode.Decal;break;case"repeat-y":this.Ae=s.TileMode.Decal,this.Be=s.TileMode.Repeat;break;case"repeat":this.Be=this.Ae=s.TileMode.Repeat;break;case"no-repeat":this.Be=this.Ae=s.TileMode.Decal;break;default:throw"invalid repetition mode "+m}this.setTransform=function(S){S=[S.a,S.c,S.e,S.b,S.d,S.f,0,0,1],d(S)&&(this._transform=S)},this.te=function(){var S=new me;return S.Ae=this.Ae,S.Be=this.Be,S},this.me=function(){this.Yd&&(this.Yd.delete(),this.Yd=null)},this.ue=function(){return this.me(),this.Yd=this.zf.makeShaderCubic(this.Ae,this.Be,.3333333333333333,.3333333333333333,this._transform)}}function Me(q,m,S,U,K,j){this.Yd=null,this.de=[],this.ae=[],this.addColorStop=function(z,lt){if(0>z||1<z||!isFinite(z))throw"offset must be between 0 and 1 inclusively";lt=_(lt);var Bt=this.ae.indexOf(z);if(Bt!==-1)this.de[Bt]=lt;else{for(Bt=0;Bt<this.ae.length&&!(this.ae[Bt]>z);Bt++);this.ae.splice(Bt,0,z),this.de.splice(Bt,0,lt)}},this.te=function(){var z=new Me(q,m,S,U,K,j);return z.de=this.de.slice(),z.ae=this.ae.slice(),z},this.me=function(){this.Yd&&(this.Yd.delete(),this.Yd=null)},this.ue=function(z){var lt=[q,m,U,K];s.Matrix.mapPoints(z,lt);var Bt=lt[0],Ut=lt[1],qe=lt[2];lt=lt[3];var ys=(Math.abs(z[0])+Math.abs(z[4]))/2;return z=S*ys,ys*=j,this.me(),this.Yd=s.Shader.MakeTwoPointConicalGradient([Bt,Ut],z,[qe,lt],ys,this.de,this.ae,s.TileMode.Clamp)}}s._testing={};var Le={aliceblue:Float32Array.of(.941,.973,1,1),antiquewhite:Float32Array.of(.98,.922,.843,1),aqua:Float32Array.of(0,1,1,1),aquamarine:Float32Array.of(.498,1,.831,1),azure:Float32Array.of(.941,1,1,1),beige:Float32Array.of(.961,.961,.863,1),bisque:Float32Array.of(1,.894,.769,1),black:Float32Array.of(0,0,0,1),blanchedalmond:Float32Array.of(1,.922,.804,1),blue:Float32Array.of(0,0,1,1),blueviolet:Float32Array.of(.541,.169,.886,1),brown:Float32Array.of(.647,.165,.165,1),burlywood:Float32Array.of(.871,.722,.529,1),cadetblue:Float32Array.of(.373,.62,.627,1),chartreuse:Float32Array.of(.498,1,0,1),chocolate:Float32Array.of(.824,.412,.118,1),coral:Float32Array.of(1,.498,.314,1),cornflowerblue:Float32Array.of(.392,.584,.929,1),cornsilk:Float32Array.of(1,.973,.863,1),crimson:Float32Array.of(.863,.078,.235,1),cyan:Float32Array.of(0,1,1,1),darkblue:Float32Array.of(0,0,.545,1),darkcyan:Float32Array.of(0,.545,.545,1),darkgoldenrod:Float32Array.of(.722,.525,.043,1),darkgray:Float32Array.of(.663,.663,.663,1),darkgreen:Float32Array.of(0,.392,0,1),darkgrey:Float32Array.of(.663,.663,.663,1),darkkhaki:Float32Array.of(.741,.718,.42,1),darkmagenta:Float32Array.of(.545,0,.545,1),darkolivegreen:Float32Array.of(.333,.42,.184,1),darkorange:Float32Array.of(1,.549,0,1),darkorchid:Float32Array.of(.6,.196,.8,1),darkred:Float32Array.of(.545,0,0,1),darksalmon:Float32Array.of(.914,.588,.478,1),darkseagreen:Float32Array.of(.561,.737,.561,1),darkslateblue:Float32Array.of(.282,.239,.545,1),darkslategray:Float32Array.of(.184,.31,.31,1),darkslategrey:Float32Array.of(.184,.31,.31,1),darkturquoise:Float32Array.of(0,.808,.82,1),darkviolet:Float32Array.of(.58,0,.827,1),deeppink:Float32Array.of(1,.078,.576,1),deepskyblue:Float32Array.of(0,.749,1,1),dimgray:Float32Array.of(.412,.412,.412,1),dimgrey:Float32Array.of(.412,.412,.412,1),dodgerblue:Float32Array.of(.118,.565,1,1),firebrick:Float32Array.of(.698,.133,.133,1),floralwhite:Float32Array.of(1,.98,.941,1),forestgreen:Float32Array.of(.133,.545,.133,1),fuchsia:Float32Array.of(1,0,1,1),gainsboro:Float32Array.of(.863,.863,.863,1),ghostwhite:Float32Array.of(.973,.973,1,1),gold:Float32Array.of(1,.843,0,1),goldenrod:Float32Array.of(.855,.647,.125,1),gray:Float32Array.of(.502,.502,.502,1),green:Float32Array.of(0,.502,0,1),greenyellow:Float32Array.of(.678,1,.184,1),grey:Float32Array.of(.502,.502,.502,1),honeydew:Float32Array.of(.941,1,.941,1),hotpink:Float32Array.of(1,.412,.706,1),indianred:Float32Array.of(.804,.361,.361,1),indigo:Float32Array.of(.294,0,.51,1),ivory:Float32Array.of(1,1,.941,1),khaki:Float32Array.of(.941,.902,.549,1),lavender:Float32Array.of(.902,.902,.98,1),lavenderblush:Float32Array.of(1,.941,.961,1),lawngreen:Float32Array.of(.486,.988,0,1),lemonchiffon:Float32Array.of(1,.98,.804,1),lightblue:Float32Array.of(.678,.847,.902,1),lightcoral:Float32Array.of(.941,.502,.502,1),lightcyan:Float32Array.of(.878,1,1,1),lightgoldenrodyellow:Float32Array.of(.98,.98,.824,1),lightgray:Float32Array.of(.827,.827,.827,1),lightgreen:Float32Array.of(.565,.933,.565,1),lightgrey:Float32Array.of(.827,.827,.827,1),lightpink:Float32Array.of(1,.714,.757,1),lightsalmon:Float32Array.of(1,.627,.478,1),lightseagreen:Float32Array.of(.125,.698,.667,1),lightskyblue:Float32Array.of(.529,.808,.98,1),lightslategray:Float32Array.of(.467,.533,.6,1),lightslategrey:Float32Array.of(.467,.533,.6,1),lightsteelblue:Float32Array.of(.69,.769,.871,1),lightyellow:Float32Array.of(1,1,.878,1),lime:Float32Array.of(0,1,0,1),limegreen:Float32Array.of(.196,.804,.196,1),linen:Float32Array.of(.98,.941,.902,1),magenta:Float32Array.of(1,0,1,1),maroon:Float32Array.of(.502,0,0,1),mediumaquamarine:Float32Array.of(.4,.804,.667,1),mediumblue:Float32Array.of(0,0,.804,1),mediumorchid:Float32Array.of(.729,.333,.827,1),mediumpurple:Float32Array.of(.576,.439,.859,1),mediumseagreen:Float32Array.of(.235,.702,.443,1),mediumslateblue:Float32Array.of(.482,.408,.933,1),mediumspringgreen:Float32Array.of(0,.98,.604,1),mediumturquoise:Float32Array.of(.282,.82,.8,1),mediumvioletred:Float32Array.of(.78,.082,.522,1),midnightblue:Float32Array.of(.098,.098,.439,1),mintcream:Float32Array.of(.961,1,.98,1),mistyrose:Float32Array.of(1,.894,.882,1),moccasin:Float32Array.of(1,.894,.71,1),navajowhite:Float32Array.of(1,.871,.678,1),navy:Float32Array.of(0,0,.502,1),oldlace:Float32Array.of(.992,.961,.902,1),olive:Float32Array.of(.502,.502,0,1),olivedrab:Float32Array.of(.42,.557,.137,1),orange:Float32Array.of(1,.647,0,1),orangered:Float32Array.of(1,.271,0,1),orchid:Float32Array.of(.855,.439,.839,1),palegoldenrod:Float32Array.of(.933,.91,.667,1),palegreen:Float32Array.of(.596,.984,.596,1),paleturquoise:Float32Array.of(.686,.933,.933,1),palevioletred:Float32Array.of(.859,.439,.576,1),papayawhip:Float32Array.of(1,.937,.835,1),peachpuff:Float32Array.of(1,.855,.725,1),peru:Float32Array.of(.804,.522,.247,1),pink:Float32Array.of(1,.753,.796,1),plum:Float32Array.of(.867,.627,.867,1),powderblue:Float32Array.of(.69,.878,.902,1),purple:Float32Array.of(.502,0,.502,1),rebeccapurple:Float32Array.of(.4,.2,.6,1),red:Float32Array.of(1,0,0,1),rosybrown:Float32Array.of(.737,.561,.561,1),royalblue:Float32Array.of(.255,.412,.882,1),saddlebrown:Float32Array.of(.545,.271,.075,1),salmon:Float32Array.of(.98,.502,.447,1),sandybrown:Float32Array.of(.957,.643,.376,1),seagreen:Float32Array.of(.18,.545,.341,1),seashell:Float32Array.of(1,.961,.933,1),sienna:Float32Array.of(.627,.322,.176,1),silver:Float32Array.of(.753,.753,.753,1),skyblue:Float32Array.of(.529,.808,.922,1),slateblue:Float32Array.of(.416,.353,.804,1),slategray:Float32Array.of(.439,.502,.565,1),slategrey:Float32Array.of(.439,.502,.565,1),snow:Float32Array.of(1,.98,.98,1),springgreen:Float32Array.of(0,1,.498,1),steelblue:Float32Array.of(.275,.51,.706,1),tan:Float32Array.of(.824,.706,.549,1),teal:Float32Array.of(0,.502,.502,1),thistle:Float32Array.of(.847,.749,.847,1),tomato:Float32Array.of(1,.388,.278,1),transparent:Float32Array.of(0,0,0,0),turquoise:Float32Array.of(.251,.878,.816,1),violet:Float32Array.of(.933,.51,.933,1),wheat:Float32Array.of(.961,.871,.702,1),white:Float32Array.of(1,1,1,1),whitesmoke:Float32Array.of(.961,.961,.961,1),yellow:Float32Array.of(1,1,0,1),yellowgreen:Float32Array.of(.604,.804,.196,1)};s._testing.parseColor=_,s._testing.colorToString=c;var He=RegExp("(italic|oblique|normal|)\\s*(small-caps|normal|)\\s*(bold|bolder|lighter|[1-9]00|normal|)\\s*([\\d\\.]+)(px|pt|pc|in|cm|mm|%|em|ex|ch|rem|q)(.+)"),te={"Noto Mono":{"*":null},monospace:{"*":null}};s._testing.parseFontString=y,s.MakeCanvas=function(q,m){return(q=s.MakeSurface(q,m))?new k(q):null},s.ImageData=function(){if(arguments.length===2){var q=arguments[0],m=arguments[1];return new Z(new Uint8ClampedArray(4*q*m),q,m)}if(arguments.length===3){var S=arguments[0];if(S.prototype.constructor!==Uint8ClampedArray)throw"bytes must be given as a Uint8ClampedArray";if(q=arguments[1],m=arguments[2],S%4)throw"bytes must be given in a multiple of 4";if(S%q)throw"bytes must divide evenly by width";if(m&&m!==S/(4*q))throw"invalid height given";return new Z(S,q,S/(4*q))}throw"invalid number of arguments - takes 2 or 3, saw "+arguments.length}}()}(h);var w=Object.assign({},h),E="./this.program",C=(s,o)=>{throw o},O=typeof window=="object",N=typeof importScripts=="function",V=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",X="",J,tt,nt,ct,Dt,At;V?(X=N?zr.dirname(X)+"/":__dirname+"/",At=()=>{Dt||(ct=zr,Dt=zr)},J=function(s,o){return At(),s=Dt.normalize(s),ct.readFileSync(s,o?void 0:"utf8")},nt=s=>(s=J(s,!0),s.buffer||(s=new Uint8Array(s)),s),tt=(s,o,u)=>{At(),s=Dt.normalize(s),ct.readFile(s,function(f,g){f?u(f):o(g.buffer)})},1<process.argv.length&&(E=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),process.on("unhandledRejection",function(s){throw s}),C=(s,o)=>{if(zt)throw process.exitCode=s,o;o instanceof fn||St("exiting due to exception: "+o),process.exit(s)},h.inspect=function(){return"[Emscripten Module object]"}):(O||N)&&(N?X=self.location.href:typeof document<"u"&&document.currentScript&&(X=document.currentScript.src),a&&(X=a),X.indexOf("blob:")!==0?X=X.substr(0,X.replace(/[?#].*/,"").lastIndexOf("/")+1):X="",J=s=>{var o=new XMLHttpRequest;return o.open("GET",s,!1),o.send(null),o.responseText},N&&(nt=s=>{var o=new XMLHttpRequest;return o.open("GET",s,!1),o.responseType="arraybuffer",o.send(null),new Uint8Array(o.response)}),tt=(s,o,u)=>{var f=new XMLHttpRequest;f.open("GET",s,!0),f.responseType="arraybuffer",f.onload=()=>{f.status==200||f.status==0&&f.response?o(f.response):u()},f.onerror=u,f.send(null)});var pt=h.print||console.log.bind(console),St=h.printErr||console.warn.bind(console);Object.assign(h,w),w=null,h.thisProgram&&(E=h.thisProgram),h.quit&&(C=h.quit);var he=0,Yt;h.wasmBinary&&(Yt=h.wasmBinary);var zt=h.noExitRuntime||!0;typeof WebAssembly!="object"&&rs("no native wasm support detected");var Gt,re=!1,we=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function Zt(s,o,u){var f=o+u;for(u=o;s[u]&&!(u>=f);)++u;if(16<u-o&&s.buffer&&we)return we.decode(s.subarray(o,u));for(f="";o<u;){var g=s[o++];if(g&128){var v=s[o++]&63;if((g&224)==192)f+=String.fromCharCode((g&31)<<6|v);else{var T=s[o++]&63;g=(g&240)==224?(g&15)<<12|v<<6|T:(g&7)<<18|v<<12|T<<6|s[o++]&63,65536>g?f+=String.fromCharCode(g):(g-=65536,f+=String.fromCharCode(55296|g>>10,56320|g&1023))}}else f+=String.fromCharCode(g)}return f}function ae(s,o){return s?Zt(Ct,s,o):""}function Wt(s,o,u,f){if(!(0<f))return 0;var g=u;f=u+f-1;for(var v=0;v<s.length;++v){var T=s.charCodeAt(v);if(55296<=T&&57343>=T){var M=s.charCodeAt(++v);T=65536+((T&1023)<<10)|M&1023}if(127>=T){if(u>=f)break;o[u++]=T}else{if(2047>=T){if(u+1>=f)break;o[u++]=192|T>>6}else{if(65535>=T){if(u+2>=f)break;o[u++]=224|T>>12}else{if(u+3>=f)break;o[u++]=240|T>>18,o[u++]=128|T>>12&63}o[u++]=128|T>>6&63}o[u++]=128|T&63}}return o[u]=0,u-g}function Kt(s){for(var o=0,u=0;u<s.length;++u){var f=s.charCodeAt(u);55296<=f&&57343>=f&&(f=65536+((f&1023)<<10)|s.charCodeAt(++u)&1023),127>=f?++o:o=2047>=f?o+2:65535>=f?o+3:o+4}return o}var Ds=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0;function es(s,o){for(var u=s>>1,f=u+o/2;!(u>=f)&&gi[u];)++u;if(u<<=1,32<u-s&&Ds)return Ds.decode(Ct.subarray(s,u));for(u="",f=0;!(f>=o/2);++f){var g=Ve[s+2*f>>1];if(g==0)break;u+=String.fromCharCode(g)}return u}function is(s,o,u){if(u===void 0&&(u=2147483647),2>u)return 0;u-=2;var f=o;u=u<2*s.length?u/2:s.length;for(var g=0;g<u;++g)Ve[o>>1]=s.charCodeAt(g),o+=2;return Ve[o>>1]=0,o-f}function Ns(s){return 2*s.length}function Is(s,o){for(var u=0,f="";!(u>=o/4);){var g=$[s+4*u>>2];if(g==0)break;++u,65536<=g?(g-=65536,f+=String.fromCharCode(55296|g>>10,56320|g&1023)):f+=String.fromCharCode(g)}return f}function Ui(s,o,u){if(u===void 0&&(u=2147483647),4>u)return 0;var f=o;u=f+u-4;for(var g=0;g<s.length;++g){var v=s.charCodeAt(g);if(55296<=v&&57343>=v){var T=s.charCodeAt(++g);v=65536+((v&1023)<<10)|T&1023}if($[o>>2]=v,o+=4,o+4>u)break}return $[o>>2]=0,o-f}function Ke(s){for(var o=0,u=0;u<s.length;++u){var f=s.charCodeAt(u);55296<=f&&57343>=f&&++u,o+=4}return o}var _i,oe,Ct,Ve,gi,$,ce,ft,Pa;function Ra(){var s=Gt.buffer;_i=s,h.HEAP8=oe=new Int8Array(s),h.HEAP16=Ve=new Int16Array(s),h.HEAP32=$=new Int32Array(s),h.HEAPU8=Ct=new Uint8Array(s),h.HEAPU16=gi=new Uint16Array(s),h.HEAPU32=ce=new Uint32Array(s),h.HEAPF32=ft=new Float32Array(s),h.HEAPF64=Pa=new Float64Array(s)}var La,Da=[],Na=[],Ia=[];function _h(){var s=h.preRun.shift();Da.unshift(s)}var Ci=0,ss=null;function rs(s){throw h.onAbort&&h.onAbort(s),s="Aborted("+s+")",St(s),re=!0,s=new WebAssembly.RuntimeError(s+". Build with -sASSERTIONS for more info."),p(s),s}function ka(){return Ce.startsWith("data:application/octet-stream;base64,")}var Ce;if(Ce="canvaskit.wasm",!ka()){var Ba=Ce;Ce=h.locateFile?h.locateFile(Ba,X):X+Ba}function Ua(){var s=Ce;try{if(s==Ce&&Yt)return new Uint8Array(Yt);if(nt)return nt(s);throw"both async and sync fetching of the wasm failed"}catch(o){rs(o)}}function gh(){if(!Yt&&(O||N)){if(typeof fetch=="function"&&!Ce.startsWith("file://"))return fetch(Ce,{credentials:"same-origin"}).then(function(s){if(!s.ok)throw"failed to load wasm binary file at '"+Ce+"'";return s.arrayBuffer()}).catch(function(){return Ua()});if(tt)return new Promise(function(s,o){tt(Ce,function(u){s(new Uint8Array(u))},o)})}return Promise.resolve().then(function(){return Ua()})}function yr(s){for(;0<s.length;){var o=s.shift();if(typeof o=="function")o(h);else{var u=o.tg;typeof u=="number"?o.cf===void 0?ee(u)():ee(u)(o.cf):u(o.cf===void 0?null:o.cf)}}}function ee(s){return La.get(s)}var mh=[null,[],[]],ks={},Bs={};function Er(s){for(;s.length;){var o=s.pop();s.pop()(o)}}function as(s){return this.fromWireType(ce[s>>2])}var Hi={},Oi={},Us={};function Ha(s){if(s===void 0)return"_unknown";s=s.replace(/[^a-zA-Z0-9_]/g,"$");var o=s.charCodeAt(0);return 48<=o&&57>=o?"_"+s:s}function wr(s,o){return s=Ha(s),function(){return o.apply(this,arguments)}}function Tr(s){var o=Error,u=wr(s,function(f){this.name=s,this.message=f,f=Error(f).stack,f!==void 0&&(this.stack=this.toString()+`
`+f.replace(/^Error(:[^\n]*)?\n/,""))});return u.prototype=Object.create(o.prototype),u.prototype.constructor=u,u.prototype.toString=function(){return this.message===void 0?this.name:this.name+": "+this.message},u}var Ga=void 0;function Hs(s){throw new Ga(s)}function Ie(s,o,u){function f(M){M=u(M),M.length!==s.length&&Hs("Mismatched type converter count");for(var L=0;L<s.length;++L)je(s[L],M[L])}s.forEach(function(M){Us[M]=o});var g=Array(o.length),v=[],T=0;o.forEach((M,L)=>{Oi.hasOwnProperty(M)?g[L]=Oi[M]:(v.push(M),Hi.hasOwnProperty(M)||(Hi[M]=[]),Hi[M].push(()=>{g[L]=Oi[M],++T,T===v.length&&f(g)}))}),v.length===0&&f(g)}function Gs(s){switch(s){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError("Unknown type size: "+s)}}var Wa=void 0;function Jt(s){for(var o="";Ct[s];)o+=Wa[Ct[s++]];return o}var Gi=void 0;function Rt(s){throw new Gi(s)}function je(s,o,u={}){if(!("argPackAdvance"in o))throw new TypeError("registerType registeredInstance requires argPackAdvance");var f=o.name;if(s||Rt('type "'+f+'" must have a positive integer typeid pointer'),Oi.hasOwnProperty(s)){if(u.Uf)return;Rt("Cannot register type '"+f+"' twice")}Oi[s]=o,delete Us[s],Hi.hasOwnProperty(s)&&(o=Hi[s],delete Hi[s],o.forEach(g=>g()))}function br(s){Rt(s.Ld.Xd.Rd.name+" instance already deleted")}var Sr=!1;function Ka(){}function Va(s){--s.count.value,s.count.value===0&&(s.$d?s.fe.le(s.$d):s.Xd.Rd.le(s.Td))}function ja(s,o,u){return o===u?s:u.he===void 0?null:(s=ja(s,o,u.he),s===null?null:u.Hf(s))}var Xa={},ns=[];function Mr(){for(;ns.length;){var s=ns.pop();s.Ld.Fe=!1,s.delete()}}var hs=void 0,os={};function vh(s,o){for(o===void 0&&Rt("ptr should not be undefined");s.he;)o=s.Oe(o),s=s.he;return os[o]}function Ws(s,o){return o.Xd&&o.Td||Hs("makeClassHandle requires ptr and ptrType"),!!o.fe!=!!o.$d&&Hs("Both smartPtrType and smartPtr must be specified"),o.count={value:1},ls(Object.create(s,{Ld:{value:o}}))}function ls(s){return typeof FinalizationRegistry>"u"?(ls=o=>o,s):(Sr=new FinalizationRegistry(o=>{Va(o.Ld)}),ls=o=>{var u=o.Ld;return u.$d&&Sr.register(o,{Ld:u},o),o},Ka=o=>{Sr.unregister(o)},ls(s))}function mi(){}function xr(s,o,u){if(s[o].Zd===void 0){var f=s[o];s[o]=function(){return s[o].Zd.hasOwnProperty(arguments.length)||Rt("Function '"+u+"' called with an invalid number of arguments ("+arguments.length+") - expects one of ("+s[o].Zd+")!"),s[o].Zd[arguments.length].apply(this,arguments)},s[o].Zd=[],s[o].Zd[f.De]=f}}function Ar(s,o,u){h.hasOwnProperty(s)?((u===void 0||h[s].Zd!==void 0&&h[s].Zd[u]!==void 0)&&Rt("Cannot register public name '"+s+"' twice"),xr(h,s,s),h.hasOwnProperty(u)&&Rt("Cannot register multiple overloads of a function with the same number of arguments ("+u+")!"),h[s].Zd[u]=o):(h[s]=o,u!==void 0&&(h[s].vg=u))}function yh(s,o,u,f,g,v,T,M){this.name=s,this.constructor=o,this.Ge=u,this.le=f,this.he=g,this.Nf=v,this.Oe=T,this.Hf=M,this.ag=[]}function Cr(s,o,u){for(;o!==u;)o.Oe||Rt("Expected null or instance of "+u.name+", got an instance of "+o.name),s=o.Oe(s),o=o.he;return s}function Eh(s,o){return o===null?(this.ef&&Rt("null is not a valid "+this.name),0):(o.Ld||Rt('Cannot pass "'+Pr(o)+'" as a '+this.name),o.Ld.Td||Rt("Cannot pass deleted object as a pointer of type "+this.name),Cr(o.Ld.Td,o.Ld.Xd.Rd,this.Rd))}function wh(s,o){if(o===null){if(this.ef&&Rt("null is not a valid "+this.name),this.Te){var u=this.ff();return s!==null&&s.push(this.le,u),u}return 0}if(o.Ld||Rt('Cannot pass "'+Pr(o)+'" as a '+this.name),o.Ld.Td||Rt("Cannot pass deleted object as a pointer of type "+this.name),!this.Se&&o.Ld.Xd.Se&&Rt("Cannot convert argument of type "+(o.Ld.fe?o.Ld.fe.name:o.Ld.Xd.name)+" to parameter type "+this.name),u=Cr(o.Ld.Td,o.Ld.Xd.Rd,this.Rd),this.Te)switch(o.Ld.$d===void 0&&Rt("Passing raw pointer to smart pointer is illegal"),this.gg){case 0:o.Ld.fe===this?u=o.Ld.$d:Rt("Cannot convert argument of type "+(o.Ld.fe?o.Ld.fe.name:o.Ld.Xd.name)+" to parameter type "+this.name);break;case 1:u=o.Ld.$d;break;case 2:if(o.Ld.fe===this)u=o.Ld.$d;else{var f=o.clone();u=this.bg(u,Fe(function(){f.delete()})),s!==null&&s.push(this.le,u)}break;default:Rt("Unsupporting sharing policy")}return u}function Th(s,o){return o===null?(this.ef&&Rt("null is not a valid "+this.name),0):(o.Ld||Rt('Cannot pass "'+Pr(o)+'" as a '+this.name),o.Ld.Td||Rt("Cannot pass deleted object as a pointer of type "+this.name),o.Ld.Xd.Se&&Rt("Cannot convert argument of type "+o.Ld.Xd.name+" to parameter type "+this.name),Cr(o.Ld.Td,o.Ld.Xd.Rd,this.Rd))}function Xe(s,o,u,f,g,v,T,M,L,I,et){this.name=s,this.Rd=o,this.ef=u,this.Se=f,this.Te=g,this.$f=v,this.gg=T,this.uf=M,this.ff=L,this.bg=I,this.le=et,g||o.he!==void 0?this.toWireType=wh:(this.toWireType=f?Eh:Th,this.ee=null)}function Ya(s,o,u){h.hasOwnProperty(s)||Hs("Replacing nonexistant public symbol"),h[s].Zd!==void 0&&u!==void 0?h[s].Zd[u]=o:(h[s]=o,h[s].De=u)}function bh(s,o){var u=[];return function(){if(u.length=0,Object.assign(u,arguments),s.includes("j")){var f=h["dynCall_"+s];f=u&&u.length?f.apply(null,[o].concat(u)):f.call(null,o)}else f=ee(o).apply(null,u);return f}}function de(s,o){s=Jt(s);var u=s.includes("j")?bh(s,o):ee(o);return typeof u!="function"&&Rt("unknown function pointer with signature "+s+": "+o),u}var za=void 0;function qa(s){s=dn(s);var o=Jt(s);return ii(s),o}function us(s,o){function u(v){g[v]||Oi[v]||(Us[v]?Us[v].forEach(u):(f.push(v),g[v]=!0))}var f=[],g={};throw o.forEach(u),new za(s+": "+f.map(qa).join([", "]))}function Ks(s,o,u,f,g){var v=o.length;2>v&&Rt("argTypes array size mismatch! Must at least get return value and 'this' types!");var T=o[1]!==null&&u!==null,M=!1;for(u=1;u<o.length;++u)if(o[u]!==null&&o[u].ee===void 0){M=!0;break}var L=o[0].name!=="void",I=v-2,et=Array(I),rt=[],vt=[];return function(){if(arguments.length!==I&&Rt("function "+s+" called with "+arguments.length+" arguments, expected "+I+" args!"),vt.length=0,rt.length=T?2:1,rt[0]=g,T){var H=o[1].toWireType(vt,this);rt[1]=H}for(var ut=0;ut<I;++ut)et[ut]=o[ut+2].toWireType(vt,arguments[ut]),rt.push(et[ut]);if(ut=f.apply(null,rt),M)Er(vt);else for(var wt=T?1:2;wt<o.length;wt++){var Tt=wt===1?H:et[wt-2];o[wt].ee!==null&&o[wt].ee(Tt)}return H=L?o[0].fromWireType(ut):void 0,H}}function Vs(s,o){for(var u=[],f=0;f<s;f++)u.push($[(o>>2)+f]);return u}var Or=[],ke=[{},{value:void 0},{value:null},{value:!0},{value:!1}];function Fr(s){4<s&&--ke[s].gf===0&&(ke[s]=void 0,Or.push(s))}var Oe=s=>(s||Rt("Cannot use deleted val. handle = "+s),ke[s].value),Fe=s=>{switch(s){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:var o=Or.length?Or.pop():ke.length;return ke[o]={gf:1,value:s},o}};function Sh(s,o,u){switch(o){case 0:return function(f){return this.fromWireType((u?oe:Ct)[f])};case 1:return function(f){return this.fromWireType((u?Ve:gi)[f>>1])};case 2:return function(f){return this.fromWireType((u?$:ce)[f>>2])};default:throw new TypeError("Unknown integer type: "+s)}}function cs(s,o){var u=Oi[s];return u===void 0&&Rt(o+" has unknown type "+qa(s)),u}function Pr(s){if(s===null)return"null";var o=typeof s;return o==="object"||o==="array"||o==="function"?s.toString():""+s}function Mh(s,o){switch(o){case 2:return function(u){return this.fromWireType(ft[u>>2])};case 3:return function(u){return this.fromWireType(Pa[u>>3])};default:throw new TypeError("Unknown float type: "+s)}}function xh(s,o,u){switch(o){case 0:return u?function(f){return oe[f]}:function(f){return Ct[f]};case 1:return u?function(f){return Ve[f>>1]}:function(f){return gi[f>>1]};case 2:return u?function(f){return $[f>>2]}:function(f){return ce[f>>2]};default:throw new TypeError("Unknown integer type: "+s)}}var Ah={};function js(s){var o=Ah[s];return o===void 0?Jt(s):o}var Xs=[];function Qa(){function s(o){o.$$$embind_global$$$=o;var u=typeof $$$embind_global$$$=="object"&&o.$$$embind_global$$$==o;return u||delete o.$$$embind_global$$$,u}if(typeof globalThis=="object")return globalThis;if(typeof $$$embind_global$$$=="object"||(typeof Yr=="object"&&s(Yr)?$$$embind_global$$$=Yr:typeof self=="object"&&s(self)&&($$$embind_global$$$=self),typeof $$$embind_global$$$=="object"))return $$$embind_global$$$;throw Error("unable to get global object.")}function Ch(s){var o=Xs.length;return Xs.push(s),o}function Oh(s,o){for(var u=Array(s),f=0;f<s;++f)u[f]=cs($[(o>>2)+f],"parameter "+f);return u}var $a=[];function Fh(s){var o=Array(s+1);return function(u,f,g){o[0]=u;for(var v=0;v<s;++v){var T=cs($[(f>>2)+v],"parameter "+v);o[v+1]=T.readValueFromPointer(g),g+=T.argPackAdvance}return u=new(u.bind.apply(u,o)),Fe(u)}}var Za={},Ja;Ja=V?()=>{var s=process.hrtime();return 1e3*s[0]+s[1]/1e6}:()=>performance.now();function Ph(s){var o=s.getExtension("ANGLE_instanced_arrays");o&&(s.vertexAttribDivisor=function(u,f){o.vertexAttribDivisorANGLE(u,f)},s.drawArraysInstanced=function(u,f,g,v){o.drawArraysInstancedANGLE(u,f,g,v)},s.drawElementsInstanced=function(u,f,g,v,T){o.drawElementsInstancedANGLE(u,f,g,v,T)})}function Rh(s){var o=s.getExtension("OES_vertex_array_object");o&&(s.createVertexArray=function(){return o.createVertexArrayOES()},s.deleteVertexArray=function(u){o.deleteVertexArrayOES(u)},s.bindVertexArray=function(u){o.bindVertexArrayOES(u)},s.isVertexArray=function(u){return o.isVertexArrayOES(u)})}function Lh(s){var o=s.getExtension("WEBGL_draw_buffers");o&&(s.drawBuffers=function(u,f){o.drawBuffersWEBGL(u,f)})}var tn=1,Ys=[],Be=[],zs=[],ds=[],Pe=[],Ue=[],vi=[],Ye=[],Fi=[],Pi=[],en={},sn={},rn=4;function It(s){qs||(qs=s)}function Wi(s){for(var o=tn++,u=s.length;u<o;u++)s[u]=null;return o}function Dh(s,o){s.kf||(s.kf=s.getContext,s.getContext=function(f,g){return g=s.kf(f,g),f=="webgl"==g instanceof WebGLRenderingContext?g:null});var u=1<o.majorVersion?s.getContext("webgl2",o):s.getContext("webgl",o);return u?Nh(u,o):0}function Nh(s,o){var u=Wi(Ye),f={Tf:u,attributes:o,version:o.majorVersion,je:s};return s.canvas&&(s.canvas.xf=f),Ye[u]=f,(typeof o.If>"u"||o.If)&&Ih(f),u}function an(s){return xt=Ye[s],h.sg=R=xt&&xt.je,!(s&&!R)}function Ih(s){if(s||(s=xt),!s.Vf){s.Vf=!0;var o=s.je;Ph(o),Rh(o),Lh(o),o.pf=o.getExtension("WEBGL_draw_instanced_base_vertex_base_instance"),o.tf=o.getExtension("WEBGL_multi_draw_instanced_base_vertex_base_instance"),2<=s.version&&(o.qf=o.getExtension("EXT_disjoint_timer_query_webgl2")),(2>s.version||!o.qf)&&(o.qf=o.getExtension("EXT_disjoint_timer_query")),o.ug=o.getExtension("WEBGL_multi_draw"),(o.getSupportedExtensions()||[]).forEach(function(u){u.includes("lose_context")||u.includes("debug")||o.getExtension(u)})}}var xt,qs,Qs=[];function Ri(s,o,u,f){for(var g=0;g<s;g++){var v=R[u](),T=v&&Wi(f);v?(v.name=T,f[T]=v):It(1282),$[o+4*g>>2]=T}}function nn(s,o,u){if(o){var f=void 0;switch(s){case 36346:f=1;break;case 36344:u!=0&&u!=1&&It(1280);return;case 34814:case 36345:f=0;break;case 34466:var g=R.getParameter(34467);f=g?g.length:0;break;case 33309:if(2>xt.version){It(1282);return}f=2*(R.getSupportedExtensions()||[]).length;break;case 33307:case 33308:if(2>xt.version){It(1280);return}f=s==33307?3:0}if(f===void 0)switch(g=R.getParameter(s),typeof g){case"number":f=g;break;case"boolean":f=g?1:0;break;case"string":It(1280);return;case"object":if(g===null)switch(s){case 34964:case 35725:case 34965:case 36006:case 36007:case 32873:case 34229:case 36662:case 36663:case 35053:case 35055:case 36010:case 35097:case 35869:case 32874:case 36389:case 35983:case 35368:case 34068:f=0;break;default:It(1280);return}else{if(g instanceof Float32Array||g instanceof Uint32Array||g instanceof Int32Array||g instanceof Array){for(s=0;s<g.length;++s)switch(u){case 0:$[o+4*s>>2]=g[s];break;case 2:ft[o+4*s>>2]=g[s];break;case 4:oe[o+s>>0]=g[s]?1:0}return}try{f=g.name|0}catch(v){It(1280),St("GL_INVALID_ENUM in glGet"+u+"v: Unknown object returned from WebGL getParameter("+s+")! (error: "+v+")");return}}break;default:It(1280),St("GL_INVALID_ENUM in glGet"+u+"v: Native code calling glGet"+u+"v("+s+") and it returns "+g+" of type "+typeof g+"!");return}switch(u){case 1:u=f,ce[o>>2]=u,ce[o+4>>2]=(u-ce[o>>2])/4294967296;break;case 0:$[o>>2]=f;break;case 2:ft[o>>2]=f;break;case 4:oe[o>>0]=f?1:0}}else It(1281)}function fs(s){var o=Kt(s)+1,u=tr(o);return Wt(s,Ct,u,o),u}function hn(s){return s.slice(-1)=="]"&&s.lastIndexOf("[")}function $s(s){return s-=5120,s==0?oe:s==1?Ct:s==2?Ve:s==4?$:s==6?ft:s==5||s==28922||s==28520||s==30779||s==30782?ce:gi}function Rr(s,o,u,f,g){s=$s(s);var v=31-Math.clz32(s.BYTES_PER_ELEMENT),T=rn;return s.subarray(g>>v,g+f*(u*({5:3,6:4,8:2,29502:3,29504:4,26917:2,26918:2,29846:3,29847:4}[o-6402]||1)*(1<<v)+T-1&-T)>>v)}function Lt(s){var o=R.Ef;if(o){var u=o.Ne[s];return typeof u=="number"&&(o.Ne[s]=u=R.getUniformLocation(o,o.vf[s]+(0<u?"["+u+"]":""))),u}It(1282)}var yi=[],ps=[],Lr={};function on(){if(!Dr){var s={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:E||"./this.program"},o;for(o in Lr)Lr[o]===void 0?delete s[o]:s[o]=Lr[o];var u=[];for(o in s)u.push(o+"="+s[o]);Dr=u}return Dr}var Dr;function Zs(s){return s%4===0&&(s%100!==0||s%400===0)}var ln=[31,29,31,30,31,30,31,31,30,31,30,31],un=[31,28,31,30,31,30,31,31,30,31,30,31];function kh(s,o,u,f){function g(H,ut,wt){for(H=typeof H=="number"?H.toString():H||"";H.length<ut;)H=wt[0]+H;return H}function v(H,ut){return g(H,ut,"0")}function T(H,ut){function wt(Te){return 0>Te?-1:0<Te?1:0}var Tt;return(Tt=wt(H.getFullYear()-ut.getFullYear()))===0&&(Tt=wt(H.getMonth()-ut.getMonth()))===0&&(Tt=wt(H.getDate()-ut.getDate())),Tt}function M(H){switch(H.getDay()){case 0:return new Date(H.getFullYear()-1,11,29);case 1:return H;case 2:return new Date(H.getFullYear(),0,3);case 3:return new Date(H.getFullYear(),0,2);case 4:return new Date(H.getFullYear(),0,1);case 5:return new Date(H.getFullYear()-1,11,31);case 6:return new Date(H.getFullYear()-1,11,30)}}function L(H){var ut=H.pe;for(H=new Date(new Date(H.qe+1900,0,1).getTime());0<ut;){var wt=H.getMonth(),Tt=(Zs(H.getFullYear())?ln:un)[wt];if(ut>Tt-H.getDate())ut-=Tt-H.getDate()+1,H.setDate(1),11>wt?H.setMonth(wt+1):(H.setMonth(0),H.setFullYear(H.getFullYear()+1));else{H.setDate(H.getDate()+ut);break}}return wt=new Date(H.getFullYear()+1,0,4),ut=M(new Date(H.getFullYear(),0,4)),wt=M(wt),0>=T(ut,H)?0>=T(wt,H)?H.getFullYear()+1:H.getFullYear():H.getFullYear()-1}var I=$[f+40>>2];f={og:$[f>>2],ng:$[f+4>>2],Xe:$[f+8>>2],hf:$[f+12>>2],Ye:$[f+16>>2],qe:$[f+20>>2],ie:$[f+24>>2],pe:$[f+28>>2],xg:$[f+32>>2],mg:$[f+36>>2],pg:I?ae(I):""},u=ae(u),I={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var et in I)u=u.replace(new RegExp(et,"g"),I[et]);var rt="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),vt="January February March April May June July August September October November December".split(" ");I={"%a":function(H){return rt[H.ie].substring(0,3)},"%A":function(H){return rt[H.ie]},"%b":function(H){return vt[H.Ye].substring(0,3)},"%B":function(H){return vt[H.Ye]},"%C":function(H){return v((H.qe+1900)/100|0,2)},"%d":function(H){return v(H.hf,2)},"%e":function(H){return g(H.hf,2," ")},"%g":function(H){return L(H).toString().substring(2)},"%G":function(H){return L(H)},"%H":function(H){return v(H.Xe,2)},"%I":function(H){return H=H.Xe,H==0?H=12:12<H&&(H-=12),v(H,2)},"%j":function(H){for(var ut=0,wt=0;wt<=H.Ye-1;ut+=(Zs(H.qe+1900)?ln:un)[wt++]);return v(H.hf+ut,3)},"%m":function(H){return v(H.Ye+1,2)},"%M":function(H){return v(H.ng,2)},"%n":function(){return`
`},"%p":function(H){return 0<=H.Xe&&12>H.Xe?"AM":"PM"},"%S":function(H){return v(H.og,2)},"%t":function(){return"	"},"%u":function(H){return H.ie||7},"%U":function(H){return v(Math.floor((H.pe+7-H.ie)/7),2)},"%V":function(H){var ut=Math.floor((H.pe+7-(H.ie+6)%7)/7);if(2>=(H.ie+371-H.pe-2)%7&&ut++,ut)ut==53&&(wt=(H.ie+371-H.pe)%7,wt==4||wt==3&&Zs(H.qe)||(ut=1));else{ut=52;var wt=(H.ie+7-H.pe-1)%7;(wt==4||wt==5&&Zs(H.qe%400-1))&&ut++}return v(ut,2)},"%w":function(H){return H.ie},"%W":function(H){return v(Math.floor((H.pe+7-(H.ie+6)%7)/7),2)},"%y":function(H){return(H.qe+1900).toString().substring(2)},"%Y":function(H){return H.qe+1900},"%z":function(H){H=H.mg;var ut=0<=H;return H=Math.abs(H)/60,(ut?"+":"-")+String("0000"+(H/60*100+H%60)).slice(-4)},"%Z":function(H){return H.pg},"%%":function(){return"%"}},u=u.replace(/%%/g,"\0\0");for(et in I)u.includes(et)&&(u=u.replace(new RegExp(et,"g"),I[et](f)));return u=u.replace(/\0\0/g,"%"),et=Hh(u),et.length>o?0:(oe.set(et,s),et.length-1)}Ga=h.InternalError=Tr("InternalError");for(var cn=Array(256),Js=0;256>Js;++Js)cn[Js]=String.fromCharCode(Js);Wa=cn,Gi=h.BindingError=Tr("BindingError"),mi.prototype.isAliasOf=function(s){if(!(this instanceof mi&&s instanceof mi))return!1;var o=this.Ld.Xd.Rd,u=this.Ld.Td,f=s.Ld.Xd.Rd;for(s=s.Ld.Td;o.he;)u=o.Oe(u),o=o.he;for(;f.he;)s=f.Oe(s),f=f.he;return o===f&&u===s},mi.prototype.clone=function(){if(this.Ld.Td||br(this),this.Ld.Me)return this.Ld.count.value+=1,this;var s=ls,o=Object,u=o.create,f=Object.getPrototypeOf(this),g=this.Ld;return s=s(u.call(o,f,{Ld:{value:{count:g.count,Fe:g.Fe,Me:g.Me,Td:g.Td,Xd:g.Xd,$d:g.$d,fe:g.fe}}})),s.Ld.count.value+=1,s.Ld.Fe=!1,s},mi.prototype.delete=function(){this.Ld.Td||br(this),this.Ld.Fe&&!this.Ld.Me&&Rt("Object already scheduled for deletion"),Ka(this),Va(this.Ld),this.Ld.Me||(this.Ld.$d=void 0,this.Ld.Td=void 0)},mi.prototype.isDeleted=function(){return!this.Ld.Td},mi.prototype.deleteLater=function(){return this.Ld.Td||br(this),this.Ld.Fe&&!this.Ld.Me&&Rt("Object already scheduled for deletion"),ns.push(this),ns.length===1&&hs&&hs(Mr),this.Ld.Fe=!0,this},h.getInheritedInstanceCount=function(){return Object.keys(os).length},h.getLiveInheritedInstances=function(){var s=[],o;for(o in os)os.hasOwnProperty(o)&&s.push(os[o]);return s},h.flushPendingDeletes=Mr,h.setDelayFunction=function(s){hs=s,ns.length&&hs&&hs(Mr)},Xe.prototype.Of=function(s){return this.uf&&(s=this.uf(s)),s},Xe.prototype.nf=function(s){this.le&&this.le(s)},Xe.prototype.argPackAdvance=8,Xe.prototype.readValueFromPointer=as,Xe.prototype.deleteObject=function(s){s!==null&&s.delete()},Xe.prototype.fromWireType=function(s){function o(){return this.Te?Ws(this.Rd.Ge,{Xd:this.$f,Td:u,fe:this,$d:s}):Ws(this.Rd.Ge,{Xd:this,Td:s})}var u=this.Of(s);if(!u)return this.nf(s),null;var f=vh(this.Rd,u);if(f!==void 0)return f.Ld.count.value===0?(f.Ld.Td=u,f.Ld.$d=s,f.clone()):(f=f.clone(),this.nf(s),f);if(f=this.Rd.Nf(u),f=Xa[f],!f)return o.call(this);f=this.Se?f.Cf:f.pointerType;var g=ja(u,this.Rd,f.Rd);return g===null?o.call(this):this.Te?Ws(f.Rd.Ge,{Xd:f,Td:g,fe:this,$d:s}):Ws(f.Rd.Ge,{Xd:f,Td:g})},za=h.UnboundTypeError=Tr("UnboundTypeError"),h.count_emval_handles=function(){for(var s=0,o=5;o<ke.length;++o)ke[o]!==void 0&&++s;return s},h.get_first_emval=function(){for(var s=5;s<ke.length;++s)if(ke[s]!==void 0)return ke[s];return null};for(var R,Se=0;32>Se;++Se)Qs.push(Array(Se));var Bh=new Float32Array(288);for(Se=0;288>Se;++Se)yi[Se]=Bh.subarray(0,Se+1);var Uh=new Int32Array(288);for(Se=0;288>Se;++Se)ps[Se]=Uh.subarray(0,Se+1);function Hh(s){var o=Array(Kt(s)+1);return Wt(s,o,0,o.length),o}var Gh={V:function(){return 0},Bb:function(){},Db:function(){return 0},yb:function(){},zb:function(){},X:function(){},Ab:function(){},E:function(s){var o=Bs[s];delete Bs[s];var u=o.ff,f=o.le,g=o.rf,v=g.map(T=>T.Sf).concat(g.map(T=>T.eg));Ie([s],v,T=>{var M={};return g.forEach((L,I)=>{var et=T[I],rt=L.Qf,vt=L.Rf,H=T[I+g.length],ut=L.dg,wt=L.fg;M[L.Jf]={read:Tt=>et.fromWireType(rt(vt,Tt)),write:(Tt,Te)=>{var Re=[];ut(wt,Tt,H.toWireType(Re,Te)),Er(Re)}}}),[{name:o.name,fromWireType:function(L){var I={},et;for(et in M)I[et]=M[et].read(L);return f(L),I},toWireType:function(L,I){for(var et in M)if(!(et in I))throw new TypeError('Missing field:  "'+et+'"');var rt=u();for(et in M)M[et].write(rt,I[et]);return L!==null&&L.push(f,rt),rt},argPackAdvance:8,readValueFromPointer:as,ee:f}]})},qb:function(){},Hb:function(s,o,u,f,g){var v=Gs(u);o=Jt(o),je(s,{name:o,fromWireType:function(T){return!!T},toWireType:function(T,M){return M?f:g},argPackAdvance:8,readValueFromPointer:function(T){if(u===1)var M=oe;else if(u===2)M=Ve;else if(u===4)M=$;else throw new TypeError("Unknown boolean type size: "+o);return this.fromWireType(M[T>>v])},ee:null})},p:function(s,o,u,f,g,v,T,M,L,I,et,rt,vt){et=Jt(et),v=de(g,v),M&&(M=de(T,M)),I&&(I=de(L,I)),vt=de(rt,vt);var H=Ha(et);Ar(H,function(){us("Cannot construct "+et+" due to unbound types",[f])}),Ie([s,o,u],f?[f]:[],function(ut){if(ut=ut[0],f)var wt=ut.Rd,Tt=wt.Ge;else Tt=mi.prototype;ut=wr(H,function(){if(Object.getPrototypeOf(this)!==Te)throw new Gi("Use 'new' to construct "+et);if(Re.oe===void 0)throw new Gi(et+" has no accessible constructor");var gs=Re.oe[arguments.length];if(gs===void 0)throw new Gi("Tried to invoke ctor of "+et+" with invalid number of parameters ("+arguments.length+") - expected ("+Object.keys(Re.oe).toString()+") parameters instead!");return gs.apply(this,arguments)});var Te=Object.create(Tt,{constructor:{value:ut}});ut.prototype=Te;var Re=new yh(et,ut,Te,vt,wt,v,M,I);wt=new Xe(et,Re,!0,!1,!1),Tt=new Xe(et+"*",Re,!1,!1,!1);var _s=new Xe(et+" const*",Re,!1,!0,!1);return Xa[s]={pointerType:Tt,Cf:_s},Ya(H,ut),[wt,Tt,_s]})},h:function(s,o,u,f,g,v,T){var M=Vs(u,f);o=Jt(o),v=de(g,v),Ie([],[s],function(L){function I(){us("Cannot call "+et+" due to unbound types",M)}L=L[0];var et=L.name+"."+o;o.startsWith("@@")&&(o=Symbol[o.substring(2)]);var rt=L.Rd.constructor;return rt[o]===void 0?(I.De=u-1,rt[o]=I):(xr(rt,o,et),rt[o].Zd[u-1]=I),Ie([],M,function(vt){return vt=[vt[0],null].concat(vt.slice(1)),vt=Ks(et,vt,null,v,T),rt[o].Zd===void 0?(vt.De=u-1,rt[o]=vt):rt[o].Zd[u-1]=vt,[]}),[]})},A:function(s,o,u,f,g,v){0<o||rs();var T=Vs(o,u);g=de(f,g),Ie([],[s],function(M){M=M[0];var L="constructor "+M.name;if(M.Rd.oe===void 0&&(M.Rd.oe=[]),M.Rd.oe[o-1]!==void 0)throw new Gi("Cannot register multiple constructors with identical number of parameters ("+(o-1)+") for class '"+M.name+"'! Overload resolution is currently only performed using the parameter count, not actual type info!");return M.Rd.oe[o-1]=()=>{us("Cannot construct "+M.name+" due to unbound types",T)},Ie([],T,function(I){return I.splice(1,0,null),M.Rd.oe[o-1]=Ks(L,I,null,g,v),[]}),[]})},b:function(s,o,u,f,g,v,T,M){var L=Vs(u,f);o=Jt(o),v=de(g,v),Ie([],[s],function(I){function et(){us("Cannot call "+rt+" due to unbound types",L)}I=I[0];var rt=I.name+"."+o;o.startsWith("@@")&&(o=Symbol[o.substring(2)]),M&&I.Rd.ag.push(o);var vt=I.Rd.Ge,H=vt[o];return H===void 0||H.Zd===void 0&&H.className!==I.name&&H.De===u-2?(et.De=u-2,et.className=I.name,vt[o]=et):(xr(vt,o,rt),vt[o].Zd[u-2]=et),Ie([],L,function(ut){return ut=Ks(rt,ut,I,v,T),vt[o].Zd===void 0?(ut.De=u-2,vt[o]=ut):vt[o].Zd[u-2]=ut,[]}),[]})},w:function(s,o,u){s=Jt(s),Ie([],[o],function(f){return f=f[0],h[s]=f.fromWireType(u),[]})},Gb:function(s,o){o=Jt(o),je(s,{name:o,fromWireType:function(u){var f=Oe(u);return Fr(u),f},toWireType:function(u,f){return Fe(f)},argPackAdvance:8,readValueFromPointer:as,ee:null})},o:function(s,o,u,f){function g(){}u=Gs(u),o=Jt(o),g.values={},je(s,{name:o,constructor:g,fromWireType:function(v){return this.constructor.values[v]},toWireType:function(v,T){return T.value},argPackAdvance:8,readValueFromPointer:Sh(o,u,f),ee:null}),Ar(o,g)},e:function(s,o,u){var f=cs(s,"enum");o=Jt(o),s=f.constructor,f=Object.create(f.constructor.prototype,{value:{value:u},constructor:{value:wr(f.name+"_"+o,function(){})}}),s.values[u]=f,s[o]=f},Z:function(s,o,u){u=Gs(u),o=Jt(o),je(s,{name:o,fromWireType:function(f){return f},toWireType:function(f,g){return g},argPackAdvance:8,readValueFromPointer:Mh(o,u),ee:null})},y:function(s,o,u,f,g,v){var T=Vs(o,u);s=Jt(s),g=de(f,g),Ar(s,function(){us("Cannot call "+s+" due to unbound types",T)},o-1),Ie([],T,function(M){return M=[M[0],null].concat(M.slice(1)),Ya(s,Ks(s,M,null,g,v),o-1),[]})},B:function(s,o,u,f,g){o=Jt(o),g===-1&&(g=4294967295),g=Gs(u);var v=M=>M;if(f===0){var T=32-8*u;v=M=>M<<T>>>T}u=o.includes("unsigned")?function(M,L){return L>>>0}:function(M,L){return L},je(s,{name:o,fromWireType:v,toWireType:u,argPackAdvance:8,readValueFromPointer:xh(o,g,f!==0),ee:null})},t:function(s,o,u){function f(v){v>>=2;var T=ce;return new g(_i,T[v+1],T[v])}var g=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array][o];u=Jt(u),je(s,{name:u,fromWireType:f,argPackAdvance:8,readValueFromPointer:f},{Uf:!0})},u:function(s,o,u,f,g,v,T,M,L,I,et,rt){u=Jt(u),v=de(g,v),M=de(T,M),I=de(L,I),rt=de(et,rt),Ie([s],[o],function(vt){return vt=vt[0],[new Xe(u,vt.Rd,!1,!1,!0,vt,f,v,M,I,rt)]})},Y:function(s,o){o=Jt(o);var u=o==="std::string";je(s,{name:o,fromWireType:function(f){var g=ce[f>>2];if(u)for(var v=f+4,T=0;T<=g;++T){var M=f+4+T;if(T==g||Ct[M]==0){if(v=ae(v,M-v),L===void 0)var L=v;else L+=String.fromCharCode(0),L+=v;v=M+1}}else{for(L=Array(g),T=0;T<g;++T)L[T]=String.fromCharCode(Ct[f+4+T]);L=L.join("")}return ii(f),L},toWireType:function(f,g){g instanceof ArrayBuffer&&(g=new Uint8Array(g));var v=typeof g=="string";v||g instanceof Uint8Array||g instanceof Uint8ClampedArray||g instanceof Int8Array||Rt("Cannot pass non-string to std::string");var T=(u&&v?()=>Kt(g):()=>g.length)(),M=tr(4+T+1);if(ce[M>>2]=T,u&&v)Wt(g,Ct,M+4,T+1);else if(v)for(v=0;v<T;++v){var L=g.charCodeAt(v);255<L&&(ii(M),Rt("String has UTF-16 code units that do not fit in 8 bits")),Ct[M+4+v]=L}else for(v=0;v<T;++v)Ct[M+4+v]=g[v];return f!==null&&f.push(ii,M),M},argPackAdvance:8,readValueFromPointer:as,ee:function(f){ii(f)}})},Q:function(s,o,u){if(u=Jt(u),o===2)var f=es,g=is,v=Ns,T=()=>gi,M=1;else o===4&&(f=Is,g=Ui,v=Ke,T=()=>ce,M=2);je(s,{name:u,fromWireType:function(L){for(var I=ce[L>>2],et=T(),rt,vt=L+4,H=0;H<=I;++H){var ut=L+4+H*o;(H==I||et[ut>>M]==0)&&(vt=f(vt,ut-vt),rt===void 0?rt=vt:(rt+=String.fromCharCode(0),rt+=vt),vt=ut+o)}return ii(L),rt},toWireType:function(L,I){typeof I!="string"&&Rt("Cannot pass non-string to C++ string type "+u);var et=v(I),rt=tr(4+et+o);return ce[rt>>2]=et>>M,g(I,rt+4,et+o),L!==null&&L.push(ii,rt),rt},argPackAdvance:8,readValueFromPointer:as,ee:function(L){ii(L)}})},F:function(s,o,u,f,g,v){Bs[s]={name:Jt(o),ff:de(u,f),le:de(g,v),rf:[]}},g:function(s,o,u,f,g,v,T,M,L,I){Bs[s].rf.push({Jf:Jt(o),Sf:u,Qf:de(f,g),Rf:v,eg:T,dg:de(M,L),fg:I})},Ib:function(s,o){o=Jt(o),je(s,{Wf:!0,name:o,argPackAdvance:0,fromWireType:function(){},toWireType:function(){}})},Fb:function(){return!0},sb:function(){throw 1/0},I:function(s,o,u){s=Oe(s),o=cs(o,"emval::as");var f=[],g=Fe(f);return $[u>>2]=g,o.toWireType(f,s)},K:function(s,o,u,f,g){s=Xs[s],o=Oe(o),u=js(u);var v=[];return $[f>>2]=Fe(v),s(o,u,v,g)},D:function(s,o,u,f){s=Xs[s],o=Oe(o),u=js(u),s(o,u,null,f)},f:Fr,M:function(s){return s===0?Fe(Qa()):(s=js(s),Fe(Qa()[s]))},z:function(s,o){var u=Oh(s,o),f=u[0];o=f.name+"_$"+u.slice(1).map(function(T){return T.name}).join("_")+"$";var g=$a[o];if(g!==void 0)return g;var v=Array(s-1);return g=Ch((T,M,L,I)=>{for(var et=0,rt=0;rt<s-1;++rt)v[rt]=u[rt+1].readValueFromPointer(I+et),et+=u[rt+1].argPackAdvance;for(T=T[M].apply(T,v),rt=0;rt<s-1;++rt)u[rt+1].Ff&&u[rt+1].Ff(v[rt]);if(!f.Wf)return f.toWireType(L,T)}),$a[o]=g},H:function(s,o){return s=Oe(s),o=Oe(o),Fe(s[o])},r:function(s){4<s&&(ke[s].gf+=1)},L:function(s,o,u,f){s=Oe(s);var g=Za[o];return g||(g=Fh(o),Za[o]=g),g(s,u,f)},O:function(){return Fe([])},j:function(s){return Fe(js(s))},G:function(){return Fe({})},mb:function(s){return s=Oe(s),!s},C:function(s){var o=Oe(s);Er(o),Fr(s)},l:function(s,o,u){s=Oe(s),o=Oe(o),u=Oe(u),s[o]=u},i:function(s,o){return s=cs(s,"_emval_take_value"),s=s.readValueFromPointer(o),Fe(s)},ub:function(){return-52},vb:function(){},a:function(){rs("")},Eb:Ja,ad:function(s){R.activeTexture(s)},bd:function(s,o){R.attachShader(Be[s],Ue[o])},ca:function(s,o,u){R.bindAttribLocation(Be[s],o,ae(u))},da:function(s,o){s==35051?R.df=o:s==35052&&(R.Ee=o),R.bindBuffer(s,Ys[o])},ba:function(s,o){R.bindFramebuffer(s,zs[o])},ec:function(s,o){R.bindRenderbuffer(s,ds[o])},Rb:function(s,o){R.bindSampler(s,Fi[o])},ea:function(s,o){R.bindTexture(s,Pe[o])},yc:function(s){R.bindVertexArray(vi[s])},Cc:function(s){R.bindVertexArray(vi[s])},fa:function(s,o,u,f){R.blendColor(s,o,u,f)},ga:function(s){R.blendEquation(s)},ha:function(s,o){R.blendFunc(s,o)},Zb:function(s,o,u,f,g,v,T,M,L,I){R.blitFramebuffer(s,o,u,f,g,v,T,M,L,I)},ia:function(s,o,u,f){2<=xt.version?u?R.bufferData(s,Ct,f,u,o):R.bufferData(s,o,f):R.bufferData(s,u?Ct.subarray(u,u+o):o,f)},ja:function(s,o,u,f){2<=xt.version?R.bufferSubData(s,o,Ct,f,u):R.bufferSubData(s,o,Ct.subarray(f,f+u))},fc:function(s){return R.checkFramebufferStatus(s)},T:function(s){R.clear(s)},aa:function(s,o,u,f){R.clearColor(s,o,u,f)},W:function(s){R.clearStencil(s)},kb:function(s,o,u,f){return R.clientWaitSync(Pi[s],o,(u>>>0)+4294967296*f)},ka:function(s,o,u,f){R.colorMask(!!s,!!o,!!u,!!f)},la:function(s){R.compileShader(Ue[s])},ma:function(s,o,u,f,g,v,T,M){2<=xt.version?R.Ee?R.compressedTexImage2D(s,o,u,f,g,v,T,M):R.compressedTexImage2D(s,o,u,f,g,v,Ct,M,T):R.compressedTexImage2D(s,o,u,f,g,v,M?Ct.subarray(M,M+T):null)},na:function(s,o,u,f,g,v,T,M,L){2<=xt.version?R.Ee?R.compressedTexSubImage2D(s,o,u,f,g,v,T,M,L):R.compressedTexSubImage2D(s,o,u,f,g,v,T,Ct,L,M):R.compressedTexSubImage2D(s,o,u,f,g,v,T,L?Ct.subarray(L,L+M):null)},oa:function(s,o,u,f,g,v,T,M){R.copyTexSubImage2D(s,o,u,f,g,v,T,M)},pa:function(){var s=Wi(Be),o=R.createProgram();return o.name=s,o.We=o.Ue=o.Ve=0,o.jf=1,Be[s]=o,s},qa:function(s){var o=Wi(Ue);return Ue[o]=R.createShader(s),o},ra:function(s){R.cullFace(s)},sa:function(s,o){for(var u=0;u<s;u++){var f=$[o+4*u>>2],g=Ys[f];g&&(R.deleteBuffer(g),g.name=0,Ys[f]=null,f==R.df&&(R.df=0),f==R.Ee&&(R.Ee=0))}},gc:function(s,o){for(var u=0;u<s;++u){var f=$[o+4*u>>2],g=zs[f];g&&(R.deleteFramebuffer(g),g.name=0,zs[f]=null)}},ta:function(s){if(s){var o=Be[s];o?(R.deleteProgram(o),o.name=0,Be[s]=null):It(1281)}},hc:function(s,o){for(var u=0;u<s;u++){var f=$[o+4*u>>2],g=ds[f];g&&(R.deleteRenderbuffer(g),g.name=0,ds[f]=null)}},Sb:function(s,o){for(var u=0;u<s;u++){var f=$[o+4*u>>2],g=Fi[f];g&&(R.deleteSampler(g),g.name=0,Fi[f]=null)}},ua:function(s){if(s){var o=Ue[s];o?(R.deleteShader(o),Ue[s]=null):It(1281)}},$b:function(s){if(s){var o=Pi[s];o?(R.deleteSync(o),o.name=0,Pi[s]=null):It(1281)}},va:function(s,o){for(var u=0;u<s;u++){var f=$[o+4*u>>2],g=Pe[f];g&&(R.deleteTexture(g),g.name=0,Pe[f]=null)}},zc:function(s,o){for(var u=0;u<s;u++){var f=$[o+4*u>>2];R.deleteVertexArray(vi[f]),vi[f]=null}},Dc:function(s,o){for(var u=0;u<s;u++){var f=$[o+4*u>>2];R.deleteVertexArray(vi[f]),vi[f]=null}},wa:function(s){R.depthMask(!!s)},xa:function(s){R.disable(s)},ya:function(s){R.disableVertexAttribArray(s)},za:function(s,o,u){R.drawArrays(s,o,u)},xc:function(s,o,u,f){R.drawArraysInstanced(s,o,u,f)},uc:function(s,o,u,f,g){R.pf.drawArraysInstancedBaseInstanceWEBGL(s,o,u,f,g)},sc:function(s,o){for(var u=Qs[s],f=0;f<s;f++)u[f]=$[o+4*f>>2];R.drawBuffers(u)},Aa:function(s,o,u,f){R.drawElements(s,o,u,f)},wc:function(s,o,u,f,g){R.drawElementsInstanced(s,o,u,f,g)},vc:function(s,o,u,f,g,v,T){R.pf.drawElementsInstancedBaseVertexBaseInstanceWEBGL(s,o,u,f,g,v,T)},mc:function(s,o,u,f,g,v){R.drawElements(s,f,g,v)},Ba:function(s){R.enable(s)},Ca:function(s){R.enableVertexAttribArray(s)},Xb:function(s,o){return(s=R.fenceSync(s,o))?(o=Wi(Pi),s.name=o,Pi[o]=s,o):0},Da:function(){R.finish()},Ea:function(){R.flush()},ic:function(s,o,u,f){R.framebufferRenderbuffer(s,o,u,ds[f])},jc:function(s,o,u,f,g){R.framebufferTexture2D(s,o,u,Pe[f],g)},Fa:function(s){R.frontFace(s)},Ga:function(s,o){Ri(s,o,"createBuffer",Ys)},kc:function(s,o){Ri(s,o,"createFramebuffer",zs)},lc:function(s,o){Ri(s,o,"createRenderbuffer",ds)},Tb:function(s,o){Ri(s,o,"createSampler",Fi)},Ha:function(s,o){Ri(s,o,"createTexture",Pe)},Ac:function(s,o){Ri(s,o,"createVertexArray",vi)},Bc:function(s,o){Ri(s,o,"createVertexArray",vi)},ac:function(s){R.generateMipmap(s)},Ia:function(s,o,u){u?$[u>>2]=R.getBufferParameter(s,o):It(1281)},Ja:function(){var s=R.getError()||qs;return qs=0,s},Ka:function(s,o){nn(s,o,2)},bc:function(s,o,u,f){s=R.getFramebufferAttachmentParameter(s,o,u),(s instanceof WebGLRenderbuffer||s instanceof WebGLTexture)&&(s=s.name|0),$[f>>2]=s},N:function(s,o){nn(s,o,0)},La:function(s,o,u,f){s=R.getProgramInfoLog(Be[s]),s===null&&(s="(unknown error)"),o=0<o&&f?Wt(s,Ct,f,o):0,u&&($[u>>2]=o)},Ma:function(s,o,u){if(u)if(s>=tn)It(1281);else if(s=Be[s],o==35716)s=R.getProgramInfoLog(s),s===null&&(s="(unknown error)"),$[u>>2]=s.length+1;else if(o==35719){if(!s.We)for(o=0;o<R.getProgramParameter(s,35718);++o)s.We=Math.max(s.We,R.getActiveUniform(s,o).name.length+1);$[u>>2]=s.We}else if(o==35722){if(!s.Ue)for(o=0;o<R.getProgramParameter(s,35721);++o)s.Ue=Math.max(s.Ue,R.getActiveAttrib(s,o).name.length+1);$[u>>2]=s.Ue}else if(o==35381){if(!s.Ve)for(o=0;o<R.getProgramParameter(s,35382);++o)s.Ve=Math.max(s.Ve,R.getActiveUniformBlockName(s,o).length+1);$[u>>2]=s.Ve}else $[u>>2]=R.getProgramParameter(s,o);else It(1281)},cc:function(s,o,u){u?$[u>>2]=R.getRenderbufferParameter(s,o):It(1281)},Na:function(s,o,u,f){s=R.getShaderInfoLog(Ue[s]),s===null&&(s="(unknown error)"),o=0<o&&f?Wt(s,Ct,f,o):0,u&&($[u>>2]=o)},Ob:function(s,o,u,f){s=R.getShaderPrecisionFormat(s,o),$[u>>2]=s.rangeMin,$[u+4>>2]=s.rangeMax,$[f>>2]=s.precision},Oa:function(s,o,u){u?o==35716?(s=R.getShaderInfoLog(Ue[s]),s===null&&(s="(unknown error)"),$[u>>2]=s?s.length+1:0):o==35720?(s=R.getShaderSource(Ue[s]),$[u>>2]=s?s.length+1:0):$[u>>2]=R.getShaderParameter(Ue[s],o):It(1281)},S:function(s){var o=en[s];if(!o){switch(s){case 7939:o=R.getSupportedExtensions()||[],o=o.concat(o.map(function(f){return"GL_"+f})),o=fs(o.join(" "));break;case 7936:case 7937:case 37445:case 37446:(o=R.getParameter(s))||It(1280),o=o&&fs(o);break;case 7938:o=R.getParameter(7938),o=2<=xt.version?"OpenGL ES 3.0 ("+o+")":"OpenGL ES 2.0 ("+o+")",o=fs(o);break;case 35724:o=R.getParameter(35724);var u=o.match(/^WebGL GLSL ES ([0-9]\.[0-9][0-9]?)(?:$| .*)/);u!==null&&(u[1].length==3&&(u[1]+="0"),o="OpenGL ES GLSL ES "+u[1]+" ("+o+")"),o=fs(o);break;default:It(1280)}en[s]=o}return o},jb:function(s,o){if(2>xt.version)return It(1282),0;var u=sn[s];if(u)return 0>o||o>=u.length?(It(1281),0):u[o];switch(s){case 7939:return u=R.getSupportedExtensions()||[],u=u.concat(u.map(function(f){return"GL_"+f})),u=u.map(function(f){return fs(f)}),u=sn[s]=u,0>o||o>=u.length?(It(1281),0):u[o];default:return It(1280),0}},Pa:function(s,o){if(o=ae(o),s=Be[s]){var u=s,f=u.Ne,g=u.wf,v;if(!f)for(u.Ne=f={},u.vf={},v=0;v<R.getProgramParameter(u,35718);++v){var T=R.getActiveUniform(u,v),M=T.name;T=T.size;var L=hn(M);L=0<L?M.slice(0,L):M;var I=u.jf;for(u.jf+=T,g[L]=[T,I],M=0;M<T;++M)f[I]=M,u.vf[I++]=L}if(u=s.Ne,f=0,g=o,v=hn(o),0<v&&(f=parseInt(o.slice(v+1))>>>0,g=o.slice(0,v)),(g=s.wf[g])&&f<g[0]&&(f+=g[1],u[f]=u[f]||R.getUniformLocation(s,o)))return f}else It(1281);return-1},Pb:function(s,o,u){for(var f=Qs[o],g=0;g<o;g++)f[g]=$[u+4*g>>2];R.invalidateFramebuffer(s,f)},Qb:function(s,o,u,f,g,v,T){for(var M=Qs[o],L=0;L<o;L++)M[L]=$[u+4*L>>2];R.invalidateSubFramebuffer(s,M,f,g,v,T)},Yb:function(s){return R.isSync(Pi[s])},Qa:function(s){return(s=Pe[s])?R.isTexture(s):0},Ra:function(s){R.lineWidth(s)},Sa:function(s){s=Be[s],R.linkProgram(s),s.Ne=0,s.wf={}},qc:function(s,o,u,f,g,v){R.tf.multiDrawArraysInstancedBaseInstanceWEBGL(s,$,o>>2,$,u>>2,$,f>>2,ce,g>>2,v)},rc:function(s,o,u,f,g,v,T,M){R.tf.multiDrawElementsInstancedBaseVertexBaseInstanceWEBGL(s,$,o>>2,u,$,f>>2,$,g>>2,$,v>>2,ce,T>>2,M)},Ta:function(s,o){s==3317&&(rn=o),R.pixelStorei(s,o)},tc:function(s){R.readBuffer(s)},Ua:function(s,o,u,f,g,v,T){if(2<=xt.version)if(R.df)R.readPixels(s,o,u,f,g,v,T);else{var M=$s(v);R.readPixels(s,o,u,f,g,v,M,T>>31-Math.clz32(M.BYTES_PER_ELEMENT))}else(T=Rr(v,g,u,f,T))?R.readPixels(s,o,u,f,g,v,T):It(1280)},dc:function(s,o,u,f){R.renderbufferStorage(s,o,u,f)},_b:function(s,o,u,f,g){R.renderbufferStorageMultisample(s,o,u,f,g)},Ub:function(s,o,u){R.samplerParameterf(Fi[s],o,u)},Vb:function(s,o,u){R.samplerParameteri(Fi[s],o,u)},Wb:function(s,o,u){R.samplerParameteri(Fi[s],o,$[u>>2])},Va:function(s,o,u,f){R.scissor(s,o,u,f)},Wa:function(s,o,u,f){for(var g="",v=0;v<o;++v){var T=f?$[f+4*v>>2]:-1;g+=ae($[u+4*v>>2],0>T?void 0:T)}R.shaderSource(Ue[s],g)},Xa:function(s,o,u){R.stencilFunc(s,o,u)},Ya:function(s,o,u,f){R.stencilFuncSeparate(s,o,u,f)},Za:function(s){R.stencilMask(s)},_a:function(s,o){R.stencilMaskSeparate(s,o)},$a:function(s,o,u){R.stencilOp(s,o,u)},ab:function(s,o,u,f){R.stencilOpSeparate(s,o,u,f)},bb:function(s,o,u,f,g,v,T,M,L){if(2<=xt.version)if(R.Ee)R.texImage2D(s,o,u,f,g,v,T,M,L);else if(L){var I=$s(M);R.texImage2D(s,o,u,f,g,v,T,M,I,L>>31-Math.clz32(I.BYTES_PER_ELEMENT))}else R.texImage2D(s,o,u,f,g,v,T,M,null);else R.texImage2D(s,o,u,f,g,v,T,M,L?Rr(M,T,f,g,L):null)},cb:function(s,o,u){R.texParameterf(s,o,u)},db:function(s,o,u){R.texParameterf(s,o,ft[u>>2])},eb:function(s,o,u){R.texParameteri(s,o,u)},fb:function(s,o,u){R.texParameteri(s,o,$[u>>2])},nc:function(s,o,u,f,g){R.texStorage2D(s,o,u,f,g)},gb:function(s,o,u,f,g,v,T,M,L){if(2<=xt.version)if(R.Ee)R.texSubImage2D(s,o,u,f,g,v,T,M,L);else if(L){var I=$s(M);R.texSubImage2D(s,o,u,f,g,v,T,M,I,L>>31-Math.clz32(I.BYTES_PER_ELEMENT))}else R.texSubImage2D(s,o,u,f,g,v,T,M,null);else I=null,L&&(I=Rr(M,T,g,v,L)),R.texSubImage2D(s,o,u,f,g,v,T,M,I)},hb:function(s,o){R.uniform1f(Lt(s),o)},ib:function(s,o,u){if(2<=xt.version)R.uniform1fv(Lt(s),ft,u>>2,o);else{if(288>=o)for(var f=yi[o-1],g=0;g<o;++g)f[g]=ft[u+4*g>>2];else f=ft.subarray(u>>2,u+4*o>>2);R.uniform1fv(Lt(s),f)}},Yc:function(s,o){R.uniform1i(Lt(s),o)},Zc:function(s,o,u){if(2<=xt.version)R.uniform1iv(Lt(s),$,u>>2,o);else{if(288>=o)for(var f=ps[o-1],g=0;g<o;++g)f[g]=$[u+4*g>>2];else f=$.subarray(u>>2,u+4*o>>2);R.uniform1iv(Lt(s),f)}},_c:function(s,o,u){R.uniform2f(Lt(s),o,u)},$c:function(s,o,u){if(2<=xt.version)R.uniform2fv(Lt(s),ft,u>>2,2*o);else{if(144>=o)for(var f=yi[2*o-1],g=0;g<2*o;g+=2)f[g]=ft[u+4*g>>2],f[g+1]=ft[u+(4*g+4)>>2];else f=ft.subarray(u>>2,u+8*o>>2);R.uniform2fv(Lt(s),f)}},Xc:function(s,o,u){R.uniform2i(Lt(s),o,u)},Wc:function(s,o,u){if(2<=xt.version)R.uniform2iv(Lt(s),$,u>>2,2*o);else{if(144>=o)for(var f=ps[2*o-1],g=0;g<2*o;g+=2)f[g]=$[u+4*g>>2],f[g+1]=$[u+(4*g+4)>>2];else f=$.subarray(u>>2,u+8*o>>2);R.uniform2iv(Lt(s),f)}},Vc:function(s,o,u,f){R.uniform3f(Lt(s),o,u,f)},Uc:function(s,o,u){if(2<=xt.version)R.uniform3fv(Lt(s),ft,u>>2,3*o);else{if(96>=o)for(var f=yi[3*o-1],g=0;g<3*o;g+=3)f[g]=ft[u+4*g>>2],f[g+1]=ft[u+(4*g+4)>>2],f[g+2]=ft[u+(4*g+8)>>2];else f=ft.subarray(u>>2,u+12*o>>2);R.uniform3fv(Lt(s),f)}},Tc:function(s,o,u,f){R.uniform3i(Lt(s),o,u,f)},Sc:function(s,o,u){if(2<=xt.version)R.uniform3iv(Lt(s),$,u>>2,3*o);else{if(96>=o)for(var f=ps[3*o-1],g=0;g<3*o;g+=3)f[g]=$[u+4*g>>2],f[g+1]=$[u+(4*g+4)>>2],f[g+2]=$[u+(4*g+8)>>2];else f=$.subarray(u>>2,u+12*o>>2);R.uniform3iv(Lt(s),f)}},Rc:function(s,o,u,f,g){R.uniform4f(Lt(s),o,u,f,g)},Qc:function(s,o,u){if(2<=xt.version)R.uniform4fv(Lt(s),ft,u>>2,4*o);else{if(72>=o){var f=yi[4*o-1],g=ft;u>>=2;for(var v=0;v<4*o;v+=4){var T=u+v;f[v]=g[T],f[v+1]=g[T+1],f[v+2]=g[T+2],f[v+3]=g[T+3]}}else f=ft.subarray(u>>2,u+16*o>>2);R.uniform4fv(Lt(s),f)}},Ec:function(s,o,u,f,g){R.uniform4i(Lt(s),o,u,f,g)},Fc:function(s,o,u){if(2<=xt.version)R.uniform4iv(Lt(s),$,u>>2,4*o);else{if(72>=o)for(var f=ps[4*o-1],g=0;g<4*o;g+=4)f[g]=$[u+4*g>>2],f[g+1]=$[u+(4*g+4)>>2],f[g+2]=$[u+(4*g+8)>>2],f[g+3]=$[u+(4*g+12)>>2];else f=$.subarray(u>>2,u+16*o>>2);R.uniform4iv(Lt(s),f)}},Gc:function(s,o,u,f){if(2<=xt.version)R.uniformMatrix2fv(Lt(s),!!u,ft,f>>2,4*o);else{if(72>=o)for(var g=yi[4*o-1],v=0;v<4*o;v+=4)g[v]=ft[f+4*v>>2],g[v+1]=ft[f+(4*v+4)>>2],g[v+2]=ft[f+(4*v+8)>>2],g[v+3]=ft[f+(4*v+12)>>2];else g=ft.subarray(f>>2,f+16*o>>2);R.uniformMatrix2fv(Lt(s),!!u,g)}},Hc:function(s,o,u,f){if(2<=xt.version)R.uniformMatrix3fv(Lt(s),!!u,ft,f>>2,9*o);else{if(32>=o)for(var g=yi[9*o-1],v=0;v<9*o;v+=9)g[v]=ft[f+4*v>>2],g[v+1]=ft[f+(4*v+4)>>2],g[v+2]=ft[f+(4*v+8)>>2],g[v+3]=ft[f+(4*v+12)>>2],g[v+4]=ft[f+(4*v+16)>>2],g[v+5]=ft[f+(4*v+20)>>2],g[v+6]=ft[f+(4*v+24)>>2],g[v+7]=ft[f+(4*v+28)>>2],g[v+8]=ft[f+(4*v+32)>>2];else g=ft.subarray(f>>2,f+36*o>>2);R.uniformMatrix3fv(Lt(s),!!u,g)}},Ic:function(s,o,u,f){if(2<=xt.version)R.uniformMatrix4fv(Lt(s),!!u,ft,f>>2,16*o);else{if(18>=o){var g=yi[16*o-1],v=ft;f>>=2;for(var T=0;T<16*o;T+=16){var M=f+T;g[T]=v[M],g[T+1]=v[M+1],g[T+2]=v[M+2],g[T+3]=v[M+3],g[T+4]=v[M+4],g[T+5]=v[M+5],g[T+6]=v[M+6],g[T+7]=v[M+7],g[T+8]=v[M+8],g[T+9]=v[M+9],g[T+10]=v[M+10],g[T+11]=v[M+11],g[T+12]=v[M+12],g[T+13]=v[M+13],g[T+14]=v[M+14],g[T+15]=v[M+15]}}else g=ft.subarray(f>>2,f+64*o>>2);R.uniformMatrix4fv(Lt(s),!!u,g)}},Jc:function(s){s=Be[s],R.useProgram(s),R.Ef=s},Kc:function(s,o){R.vertexAttrib1f(s,o)},Lc:function(s,o){R.vertexAttrib2f(s,ft[o>>2],ft[o+4>>2])},Mc:function(s,o){R.vertexAttrib3f(s,ft[o>>2],ft[o+4>>2],ft[o+8>>2])},Nc:function(s,o){R.vertexAttrib4f(s,ft[o>>2],ft[o+4>>2],ft[o+8>>2],ft[o+12>>2])},oc:function(s,o){R.vertexAttribDivisor(s,o)},pc:function(s,o,u,f,g){R.vertexAttribIPointer(s,o,u,f,g)},Oc:function(s,o,u,f,g,v){R.vertexAttribPointer(s,o,u,!!f,g,v)},Pc:function(s,o,u,f){R.viewport(s,o,u,f)},lb:function(s,o,u,f){R.waitSync(Pi[s],o,(u>>>0)+4294967296*f)},tb:function(s){var o=Ct.length;if(s>>>=0,2147483648<s)return!1;for(var u=1;4>=u;u*=2){var f=o*(1+.2/u);f=Math.min(f,s+100663296);var g=Math;f=Math.max(s,f),g=g.min.call(g,2147483648,f+(65536-f%65536)%65536);t:{try{Gt.grow(g-_i.byteLength+65535>>>16),Ra();var v=1;break t}catch{}v=void 0}if(v)return!0}return!1},nb:function(){return xt?xt.Tf:0},wb:function(s,o){var u=0;return on().forEach(function(f,g){var v=o+u;for(g=$[s+4*g>>2]=v,v=0;v<f.length;++v)oe[g++>>0]=f.charCodeAt(v);oe[g>>0]=0,u+=f.length+1}),0},xb:function(s,o){var u=on();$[s>>2]=u.length;var f=0;return u.forEach(function(g){f+=g.length+1}),$[o>>2]=f,0},Jb:function(s){zt||(h.onExit&&h.onExit(s),re=!0),C(s,new fn(s))},P:function(){return 0},ob:function(s,o,u,f,g,v){return s=ks.Pf(s),o=ks.Gf(s,o,u,f),$[v>>2]=o,0},Cb:function(s,o,u,f){return s=ks.Pf(s),o=ks.Gf(s,o,u),$[f>>2]=o,0},pb:function(){},U:function(s,o,u,f){for(var g=0,v=0;v<u;v++){var T=$[o>>2],M=$[o+4>>2];o+=8;for(var L=0;L<M;L++){var I=Ct[T+L],et=mh[s];I===0||I===10?((s===1?pt:St)(Zt(et,0)),et.length=0):et.push(I)}g+=M}return $[f>>2]=g,0},c:function(){return he},m:Wh,s:Kh,k:jh,J:$h,Nb:zh,$:Qh,_:io,R:to,q:Xh,x:Yh,n:Vh,v:qh,Mb:Zh,Kb:eo,Lb:Jh,d:function(s){he=s},rb:function(s,o,u,f){return kh(s,o,u,f)}};(function(){function s(g){h.asm=g.exports,Gt=h.asm.cd,Ra(),La=h.asm.ed,Na.unshift(h.asm.dd),Ci--,h.monitorRunDependencies&&h.monitorRunDependencies(Ci),Ci==0&&ss&&(g=ss,ss=null,g())}function o(g){s(g.instance)}function u(g){return gh().then(function(v){return WebAssembly.instantiate(v,f)}).then(function(v){return v}).then(g,function(v){St("failed to asynchronously prepare wasm: "+v),rs(v)})}var f={a:Gh};if(Ci++,h.monitorRunDependencies&&h.monitorRunDependencies(Ci),h.instantiateWasm)try{return h.instantiateWasm(f,s)}catch(g){return St("Module.instantiateWasm callback failed with error: "+g),!1}return function(){return Yt||typeof WebAssembly.instantiateStreaming!="function"||ka()||Ce.startsWith("file://")||typeof fetch!="function"?u(o):fetch(Ce,{credentials:"same-origin"}).then(function(g){return WebAssembly.instantiateStreaming(g,f).then(o,function(v){return St("wasm streaming compile failed: "+v),St("falling back to ArrayBuffer instantiation"),u(o)})})}().catch(p),{}})(),h.___wasm_call_ctors=function(){return(h.___wasm_call_ctors=h.asm.dd).apply(null,arguments)};var ii=h._free=function(){return(ii=h._free=h.asm.fd).apply(null,arguments)},tr=h._malloc=function(){return(tr=h._malloc=h.asm.gd).apply(null,arguments)},dn=h.___getTypeName=function(){return(dn=h.___getTypeName=h.asm.hd).apply(null,arguments)};h.___embind_register_native_and_builtin_types=function(){return(h.___embind_register_native_and_builtin_types=h.asm.id).apply(null,arguments)};var fe=h._setThrew=function(){return(fe=h._setThrew=h.asm.jd).apply(null,arguments)},pe=h.stackSave=function(){return(pe=h.stackSave=h.asm.kd).apply(null,arguments)},_e=h.stackRestore=function(){return(_e=h.stackRestore=h.asm.ld).apply(null,arguments)};h.dynCall_viji=function(){return(h.dynCall_viji=h.asm.md).apply(null,arguments)},h.dynCall_vijiii=function(){return(h.dynCall_vijiii=h.asm.nd).apply(null,arguments)},h.dynCall_viiiiij=function(){return(h.dynCall_viiiiij=h.asm.od).apply(null,arguments)},h.dynCall_jiiiijiiiii=function(){return(h.dynCall_jiiiijiiiii=h.asm.pd).apply(null,arguments)},h.dynCall_viiij=function(){return(h.dynCall_viiij=h.asm.qd).apply(null,arguments)},h.dynCall_jii=function(){return(h.dynCall_jii=h.asm.rd).apply(null,arguments)},h.dynCall_vij=function(){return(h.dynCall_vij=h.asm.sd).apply(null,arguments)},h.dynCall_iiij=function(){return(h.dynCall_iiij=h.asm.td).apply(null,arguments)},h.dynCall_iiiij=function(){return(h.dynCall_iiiij=h.asm.ud).apply(null,arguments)},h.dynCall_viij=function(){return(h.dynCall_viij=h.asm.vd).apply(null,arguments)},h.dynCall_ji=function(){return(h.dynCall_ji=h.asm.wd).apply(null,arguments)},h.dynCall_iij=function(){return(h.dynCall_iij=h.asm.xd).apply(null,arguments)},h.dynCall_jiiii=function(){return(h.dynCall_jiiii=h.asm.yd).apply(null,arguments)},h.dynCall_jiiiiii=function(){return(h.dynCall_jiiiiii=h.asm.zd).apply(null,arguments)},h.dynCall_jiiiiji=function(){return(h.dynCall_jiiiiji=h.asm.Ad).apply(null,arguments)},h.dynCall_iijj=function(){return(h.dynCall_iijj=h.asm.Bd).apply(null,arguments)},h.dynCall_iiiji=function(){return(h.dynCall_iiiji=h.asm.Cd).apply(null,arguments)},h.dynCall_iiji=function(){return(h.dynCall_iiji=h.asm.Dd).apply(null,arguments)},h.dynCall_iijjiii=function(){return(h.dynCall_iijjiii=h.asm.Ed).apply(null,arguments)},h.dynCall_vijjjii=function(){return(h.dynCall_vijjjii=h.asm.Fd).apply(null,arguments)},h.dynCall_jiji=function(){return(h.dynCall_jiji=h.asm.Gd).apply(null,arguments)},h.dynCall_viijii=function(){return(h.dynCall_viijii=h.asm.Hd).apply(null,arguments)},h.dynCall_iiiiij=function(){return(h.dynCall_iiiiij=h.asm.Id).apply(null,arguments)},h.dynCall_iiiiijj=function(){return(h.dynCall_iiiiijj=h.asm.Jd).apply(null,arguments)},h.dynCall_iiiiiijj=function(){return(h.dynCall_iiiiiijj=h.asm.Kd).apply(null,arguments)};function Wh(s,o){var u=pe();try{return ee(s)(o)}catch(f){if(_e(u),f!==f+0)throw f;fe(1,0)}}function Kh(s,o,u){var f=pe();try{return ee(s)(o,u)}catch(g){if(_e(f),g!==g+0)throw g;fe(1,0)}}function Vh(s,o,u,f){var g=pe();try{ee(s)(o,u,f)}catch(v){if(_e(g),v!==v+0)throw v;fe(1,0)}}function jh(s,o,u,f){var g=pe();try{return ee(s)(o,u,f)}catch(v){if(_e(g),v!==v+0)throw v;fe(1,0)}}function Xh(s,o){var u=pe();try{ee(s)(o)}catch(f){if(_e(u),f!==f+0)throw f;fe(1,0)}}function Yh(s,o,u){var f=pe();try{ee(s)(o,u)}catch(g){if(_e(f),g!==g+0)throw g;fe(1,0)}}function zh(s,o,u,f,g,v){var T=pe();try{return ee(s)(o,u,f,g,v)}catch(M){if(_e(T),M!==M+0)throw M;fe(1,0)}}function qh(s,o,u,f,g){var v=pe();try{ee(s)(o,u,f,g)}catch(T){if(_e(v),T!==T+0)throw T;fe(1,0)}}function Qh(s,o,u,f,g,v,T){var M=pe();try{return ee(s)(o,u,f,g,v,T)}catch(L){if(_e(M),L!==L+0)throw L;fe(1,0)}}function $h(s,o,u,f,g){var v=pe();try{return ee(s)(o,u,f,g)}catch(T){if(_e(v),T!==T+0)throw T;fe(1,0)}}function Zh(s,o,u,f,g,v){var T=pe();try{ee(s)(o,u,f,g,v)}catch(M){if(_e(T),M!==M+0)throw M;fe(1,0)}}function Jh(s,o,u,f,g,v,T,M,L,I){var et=pe();try{ee(s)(o,u,f,g,v,T,M,L,I)}catch(rt){if(_e(et),rt!==rt+0)throw rt;fe(1,0)}}function to(s){var o=pe();try{ee(s)()}catch(u){if(_e(o),u!==u+0)throw u;fe(1,0)}}function eo(s,o,u,f,g,v,T){var M=pe();try{ee(s)(o,u,f,g,v,T)}catch(L){if(_e(M),L!==L+0)throw L;fe(1,0)}}function io(s,o,u,f,g,v,T,M,L,I){var et=pe();try{return ee(s)(o,u,f,g,v,T,M,L,I)}catch(rt){if(_e(et),rt!==rt+0)throw rt;fe(1,0)}}var er;function fn(s){this.name="ExitStatus",this.message="Program terminated with exit("+s+")",this.status=s}ss=function s(){er||Nr(),er||(ss=s)};function Nr(){function s(){if(!er&&(er=!0,h.calledRun=!0,!re)){if(yr(Na),l(h),h.onRuntimeInitialized&&h.onRuntimeInitialized(),h.postRun)for(typeof h.postRun=="function"&&(h.postRun=[h.postRun]);h.postRun.length;){var o=h.postRun.shift();Ia.unshift(o)}yr(Ia)}}if(!(0<Ci)){if(h.preRun)for(typeof h.preRun=="function"&&(h.preRun=[h.preRun]);h.preRun.length;)_h();yr(Da),0<Ci||(h.setStatus?(h.setStatus("Running..."),setTimeout(function(){setTimeout(function(){h.setStatus("")},1),s()},1)):s())}}if(h.run=Nr,h.preInit)for(typeof h.preInit=="function"&&(h.preInit=[h.preInit]);0<h.preInit.length;)h.preInit.pop()();return Nr(),n.ready}})();e.exports=r})(uh);const zo=uh.exports;var qo=Object.defineProperty,Qo=(e,t,r)=>t in e?qo(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,x=(e,t,r)=>(Qo(e,typeof t!="symbol"?t+"":t,r),r);class xn extends st{constructor(t,r,a,n){super(),x(this,"_xLabel"),x(this,"_yLabel"),x(this,"OnAddedToStage",h=>{this.removeEventListener(W.ADDED_TO_STAGE,this.OnAddedToStage),this.addEventListener(B.MOUSE_OVER,this.onMouseOver)}),x(this,"onMouseOver",h=>{this.addEventListener(B.MOUSE_OUT,this.OnMouseOut),this.scaleX=this.scaleY=1.5}),x(this,"OnMouseOut",h=>{this.removeEventListener(B.MOUSE_OUT,this.OnMouseOut),this.scaleX=this.scaleY=1}),this._xLabel=a,this._yLabel=n,this.graphics.beginFill(t),this.graphics.drawCircle(0,0,r),this.addEventListener(W.ADDED_TO_STAGE,this.OnAddedToStage)}get xLabel(){return this._xLabel}get yLabel(){return this._yLabel}}class li extends bt{constructor(t,r=0,a=12){super(),this.defaultTextFormat=new Qt("Arial",a,r,!0),this.autoSize=ve.LEFT,this.multiline=!1,this.wordWrap=!1,this.embedFonts=!0,this.text=t}}class $o extends st{constructor(t,r){super(),x(this,"_xLabel"),x(this,"_yLabel"),x(this,"_labelX"),x(this,"_labelY"),x(this,"Draw",()=>{this.graphics.clear();var a=Math.max(this._labelX.textWidth,this._labelY.textWidth)+10,n=this._labelX.textHeight+this._labelY.textHeight+10;this.graphics.beginFill(16777215),this.graphics.lineStyle(2,15102720,1,!0,"none"),this.graphics.lineTo(a,0),this.graphics.lineTo(a,n/2-5),this.graphics.lineTo(a+5,n/2),this.graphics.lineTo(a,n/2+5),this.graphics.lineTo(a,n),this.graphics.lineTo(0,n),this.graphics.lineTo(0,0)}),this._xLabel=t,this._yLabel=r,this._labelY=new li(this._yLabel,3223857,14),this._labelY.y=this._labelY.x=2,this._labelX=new li(this._xLabel,3223857,14),this._labelX.x=2,this._labelX.y=this._labelY.textHeight+this._labelY.y,this.addChild(this._labelX),this.addChild(this._labelY),this.Draw(),this.filters=[new Dn(4,45,0,.75,8,8,1)]}get xLabel(){return this._xLabel}set xLabel(t){this._xLabel=t,this._labelX.text=this._xLabel,this.Draw()}get yLabel(){return this._yLabel}set yLabel(t){this._yLabel=t,this._labelY.text=this._yLabel,this.Draw()}}class Zo extends st{constructor(t,r,a="",n="",h=null,l=null){super(),x(this,"_width"),x(this,"_height"),x(this,"_data"),x(this,"_xMax"),x(this,"_xMin"),x(this,"_yMax"),x(this,"_yMin"),x(this,"_xLinesMax",10),x(this,"_yLinesMax",10),x(this,"_yLabelFormatFunc"),x(this,"_xLabelFormatFunc"),x(this,"_plotCircles"),x(this,"_plotLabel"),x(this,"_chart"),x(this,"_lineContainer"),x(this,"OnMouseMove",E=>{var C,O;for(var N of this._plotCircles){var V=Math.abs(N.x-this.mouseX);(isNaN(C)||V<C)&&(C=V,O=N)}G.removeTweens(this._plotLabel),G.addTween(this._plotLabel,{time:.2,x:O.x-this._plotLabel.width,y:O.y-this._plotLabel.height/2,transition:mt.easeOutSine}),this._plotLabel.xLabel=O.xLabel,this._plotLabel.yLabel=O.yLabel,this._chart.addChild(this._plotLabel)}),x(this,"setData",E=>{this._data=E,this._plotCircles=[];for(var C of E)this._xMax=isNaN(this._xMax)?C.x:Math.max(this._xMax,C.x),this._yMax=isNaN(this._yMax)?C.y:Math.max(this._yMax,C.y),this._xMin=isNaN(this._xMin)?C.x:Math.min(this._xMin,C.x),this._yMin=isNaN(this._yMin)?C.y:Math.min(this._yMin,C.y);this._xMax/this._xLinesMax,this._yMax/this._yLinesMax;var O=this._width/this._xLinesMax,N=this._height/this._yLinesMax;this._chart.graphics.lineStyle(1,8158332,1,!0,"none");for(var V=0;V<=this._yLinesMax;V++){this._chart.graphics.moveTo(0,V*N),this._chart.graphics.lineTo(this._width,V*N);var X=(this._yMax-this._yMin)/this._yLinesMax,J=Math.round(this._yMin+V*X).toString();this._yLabelFormatFunc!=null&&(J=this._yLabelFormatFunc(this._yMin+V*X).toString());var tt=new li(J,16777215,11);tt.x=1,tt.y=V==0?this._height-tt.textHeight:this._height-V*N-1,this._chart.addChild(tt)}for(var nt=0;nt<=this._xLinesMax;nt++){this._chart.graphics.moveTo(nt*O,0),this._chart.graphics.lineTo(nt*O,this._height);var ct=(this._xMax-this._xMin)/this._xLinesMax,Dt=String(Math.round(this._xMin+nt*ct));this._xLabelFormatFunc!=null&&(Dt=String(this._xLabelFormatFunc(this._xMin+nt*ct)));var At=new li(Dt,3223857,11);At.rotation=90,At.x=nt*O+4,At.y=this._height-At.textHeight+14,this._chart.addChild(At)}this._lineContainer.graphics.lineStyle(1.5,15102720,1,!0,"none"),this._lineContainer.graphics.moveTo(0,this._height-this._height*((this._data[0].y-this._yMin)/(this._yMax-this._yMin)));var pt=new xn(15102720,4,this._xLabelFormatFunc?this._xLabelFormatFunc(this._data[0].x):this._data[0].x.toString(),this._yLabelFormatFunc?this._yLabelFormatFunc(this._data[0].y):this._data[0].y.toString());pt.x=0,pt.y=this._height-this._height*((this._data[0].y-this._yMin)/(this._yMax-this._yMin)),this._plotCircles.push(pt),this._lineContainer.addChildAt(pt,0);for(var St=1;St<this._data.length;St++)this._lineContainer.graphics.lineTo(this._width*((this._data[St].x-this._xMin)/(this._xMax-this._xMin)),this._height-this._height*((this._data[St].y-this._yMin)/(this._yMax-this._yMin))),pt=new xn(15102720,4,this._xLabelFormatFunc?this._xLabelFormatFunc(this._data[St].x):this._data[St].x.toString(),this._yLabelFormatFunc?this._yLabelFormatFunc(this._data[St].y):this._data[St].y.toString()),pt.x=this._width*((this._data[St].x-this._xMin)/(this._xMax-this._xMin)),pt.y=this._height-this._height*((this._data[St].y-this._yMin)/(this._yMax-this._yMin)),this._plotCircles.push(pt),this._lineContainer.addChildAt(pt,0)}),this._width=t,this._height=r,this._xLabelFormatFunc=h,this._yLabelFormatFunc=l,this.graphics.beginFill(4605510),this.graphics.drawRoundRect(0,0,t,r,15,15),this.graphics.endFill();var p=new li(a,3223857,14);p.x=(this._width-p.textWidth)/2,p.y=-p.textHeight-2,this.addChild(p);var w=new li(n,3223857,14);w.rotation=90,w.x=0,w.y=(this._height-w.textWidth)/2,this.addChild(w),this._chart=new st,this.addChild(this._chart),this._lineContainer=new st,this._chart.addChild(this._lineContainer),this._plotLabel=new $o("Test 1","Test 2"),this.addEventListener(B.MOUSE_MOVE,this.OnMouseMove)}}class Jo{constructor(t,r){x(this,"_x"),x(this,"_y"),this._x=t,this._y=r}get x(){return this._x}get y(){return this._y}}class ci extends W{constructor(t,r,a=!1,n=!1){super(t,a,n),x(this,"data"),x(this,"clone",()=>new ci(this.type,this.data,this.bubbles,this.cancelable)),x(this,"toString",()=>this.formatToString("DEvent","type","bubbles","cancelable","eventPhase")),this.data=r}}class lr extends st{constructor(t,r=14){super(),x(this,"_nameText"),x(this,"_fontSize"),x(this,"_buttonName"),x(this,"_pulseBG"),x(this,"_data"),x(this,"_storedWidth"),x(this,"_storedHeight"),x(this,"_storedX"),x(this,"_storedY"),x(this,"_active",!1),x(this,"_pulsate",!1),x(this,"_origX"),x(this,"_origY"),x(this,"onAddedToStage",a=>{this.removeEventListener(W.ADDED_TO_STAGE,this.onAddedToStage),this._active||(this.addEventListener(B.MOUSE_OVER,this.onMouseOver),this.addEventListener(B.MOUSE_DOWN,this.onMouseDown),this.addEventListener(B.MOUSE_UP,this.onMouseUp))}),x(this,"onMouseOver",a=>{this.addEventListener(B.MOUSE_OUT,this.onMouseOut),this._storedX=this.x,this._storedY=this.y;var n=this.width,h=this.height;this.scaleX=this.scaleY=1.05;var l=this.width-n,p=this.height-h;this.x-=l/2,this.y-=p/4}),x(this,"onMouseOut",a=>{this.removeEventListener(B.MOUSE_OUT,this.onMouseOut),this.scaleX=this.scaleY=1,this.x=this._storedX,this.y=this._storedY}),x(this,"onMouseUp",a=>{var n=this.width,h=this.height;this.scaleX=this.scaleY=1.05;var l=this.width-n,p=this.height-h;this.x-=l/2,this.y-=p/4}),x(this,"onMouseDown",a=>{this.scaleX=this.scaleY=1,this.x=this._storedX,this.y=this._storedY}),x(this,"Draw",()=>{this.graphics.clear(),this._buttonName||(this._buttonName=new bt),this._buttonName.defaultTextFormat=new Qt("Arial",this._fontSize,4605510,!0),this._buttonName.autoSize=ve.CENTER,this._buttonName.wordWrap=!1,this._buttonName.selectable=!1,this._buttonName.text=this._nameText,this._buttonName.x=5,this._buttonName.y=0,this.addChild(this._buttonName);var a=[16777215,10066329],n=[1,1],h=[127,255],l=new Pt;l.createGradientBox(this._buttonName.textWidth+15,this._buttonName.height+13,90/180*Math.PI),this.graphics.lineStyle(1.5,6710886,1,!0,"none"),this.graphics.beginGradientFill(ue.LINEAR,a,n,h,l),this.graphics.drawRoundRect(0,0,this._buttonName.textWidth+15,this._buttonName.textHeight+13,6,6),this._buttonName.y=(this.height-this._buttonName.textHeight)/2-2,this.mouseChildren=!1,this.buttonMode=!0,this._storedWidth=this.width,this._storedHeight=this.height,this._origX&&(this.x=this._origX),this._origY&&(this.y=this._origY)}),x(this,"onPulseOut",()=>{this._pulsate?G.addTween(this._pulseBG,{time:.5,alpha:.2,onComplete:this.onPulseIn}):this._pulseBG.alpha=0}),x(this,"onPulseIn",()=>{this._pulsate?G.addTween(this._pulseBG,{time:.5,alpha:0,onComplete:this.onPulseOut}):this._pulseBG.alpha=0}),this._nameText=t,this._fontSize=r,this.Draw(),this.addEventListener(W.ADDED_TO_STAGE,this.onAddedToStage)}get data(){return this._data}set data(t){this._data=t}set active(t){t==!0?(this.alpha=1,this._active=!1,this.buttonMode=!0,this.addEventListener(B.MOUSE_OVER,this.onMouseOver),this.addEventListener(B.MOUSE_DOWN,this.onMouseDown),this.addEventListener(B.MOUSE_UP,this.onMouseUp)):(this.alpha=.5,this._active=!0,this.buttonMode=!1,this.removeEventListener(B.MOUSE_OVER,this.onMouseOver),this.removeEventListener(B.MOUSE_DOWN,this.onMouseDown),this.removeEventListener(B.MOUSE_UP,this.onMouseUp))}get active(){return this._active}set label(t){this._nameText=t,this._origX||(this._origX=this.x,this._origY=this.y),this.Draw()}set pulsate(t){this._pulsate=t,this._pulsate?(this._pulseBG||(this._pulseBG=new st,this._pulseBG.graphics.lineStyle(1.5,6710886,1,!0),this._pulseBG.graphics.beginFill(8388608),this._pulseBG.graphics.drawRoundRect(0,0,this._buttonName.textWidth+15,this._buttonName.height+13,9,9),this.addChildAt(this._pulseBG,0)),this.onPulseOut()):this._pulseBG&&(this._pulseBG.alpha=0)}}class tl extends st{constructor(t,r=300){super(),x(this,"_messageTxt"),x(this,"_okBTN"),x(this,"_cancelBTN"),x(this,"OnAddedToStage",a=>{this.removeEventListener(W.ADDED_TO_STAGE,this.OnAddedToStage),this.x=(this.stage.stageWidth-this.width)/2,this.y=(this.stage.stageHeight-this.height)/2}),this._messageTxt=new bt,this._messageTxt.defaultTextFormat=new Qt("Arial",16,4605510),this._messageTxt.selectable=!1,this._messageTxt.multiline=!0,this._messageTxt.autoSize=ve.CENTER,this._messageTxt.width=r,this._messageTxt.text=t,this.graphics.lineStyle(1.5,6710886,1,!0,"none"),this.graphics.beginFill(16777215),this.graphics.drawRoundRect(0,0,this._messageTxt.width+20,this._messageTxt.height+80,9,9),this._messageTxt.x=(this.width-this._messageTxt.width)/2,this._messageTxt.y=10,this.addChild(this._messageTxt),this._okBTN=new lr("OK"),this._okBTN.x=60,this._okBTN.y=this.height-this._okBTN.height-20,this.addChild(this._okBTN),this._cancelBTN=new lr("CANCEL"),this._cancelBTN.x=this.width-this._cancelBTN.width-60,this._cancelBTN.y=this.height-this._cancelBTN.height-20,this.addChild(this._cancelBTN),this.addEventListener(W.ADDED_TO_STAGE,this.OnAddedToStage,!1,0,!0)}get okBTN(){return this._okBTN}get cancelBTN(){return this._cancelBTN}set hideCancel(t){t?(this._cancelBTN.visible=!1,this._okBTN.x=(this.width-this._okBTN.width)/2):(this._okBTN.x=60,this._cancelBTN.visible=!0)}}class el extends st{constructor(t=20){super(),x(this,"_size"),x(this,"_check"),x(this,"_checked",!1),x(this,"_active",!0),x(this,"OnClicked",r=>{this._checked=!this._checked,this._check.visible=this._checked,this.dispatchEvent(new W(W.CHANGE))}),x(this,"Draw",()=>{this.graphics.lineStyle(1.5,6710886,1,!0),this.graphics.beginFill(16777215),this.graphics.drawRoundRect(0,0,this._size,this._size,6,6),this._check=new st,this._check.graphics.lineStyle(3,0,1,!0,"none"),this._check.graphics.moveTo(3,this._size/2+2),this._check.graphics.lineTo(this._size/4,this._size-4),this._check.graphics.lineTo(this._size-6,4),this._check.x=3,this._check.y=-3,this._check.visible=!1,this.addChild(this._check)}),this._size=20,this.Draw(),this.mouseChildren=!1,this.buttonMode=!0,this.addEventListener(B.CLICK,this.OnClicked)}get checked(){return this._checked}set checked(t){this._checked=t,this._check.visible=this._checked}set active(t){this._active=t,this._active?(this.addEventListener(B.CLICK,this.OnClicked),this.alpha=1):(this.removeEventListener(B.CLICK,this.OnClicked),this.alpha=.35)}get active(){return this._active}}class Ca extends st{constructor(t,r,a=16777215,n=4605510,h=13421772,l=""){super(),x(this,"_width"),x(this,"_height"),x(this,"_textColor"),x(this,"_backgroundColor"),x(this,"_borderColor"),x(this,"_hint"),x(this,"_input"),x(this,"Draw",()=>{this.graphics.clear(),this.graphics.lineStyle(1.5,this._borderColor,1,!0,"none"),this.graphics.beginFill(this._backgroundColor),this.graphics.drawRoundRect(0,0,this._width,this._height,6,6),this._input=new li(this._hint,this._textColor),this._input.type=oi.INPUT,this._input.width=this.width-5,this._input.height=this._height,this._input.x=2,this._input.y=(this._height+2-this._input.textHeight)/2-2,this._input.alpha=.35,this._input.addEventListener(De.KEY_DOWN,this.OnKeyDown),this._input.addEventListener(xe.FOCUS_OUT,this.OnFocusOut),this._input.addEventListener(B.MOUSE_DOWN,this.OnMouseDown),this.addChild(this._input)}),x(this,"OnMouseDown",p=>{this._input.text==this._hint&&(this._input.text="",this._input.alpha=1)}),x(this,"OnKeyDown",p=>{this._input.text==this._hint&&(this._input.text="",this._input.alpha=1)}),x(this,"OnFocusOut",p=>{this._hint&&this._input.text==""&&(this._input.text=this._hint,this._input.alpha=.35)}),x(this,"enableFocus",()=>{this.stage&&this._input.setSelection(0,0)}),this._width=t,this._height=r,this._textColor=a,this._backgroundColor=n,this._borderColor=h,this._hint=l,this.Draw()}get textfield(){return this._input}set text(t){this._input.text=t,this._input.alpha=1,this._input.y=(this._height+2-this._input.textHeight)/2-2}get text(){return this._input.text}set maxChars(t){this._input.maxChars=t}set fontSize(t){var r=this._input.getTextFormat();r.size=t,this._input.defaultTextFormat=r,this._input.setTextFormat(r),this._input.y=(this._height+2-this._input.textHeight)/2-2}set underline(t){var r=this._input.getTextFormat();r.underline=t,this._input.defaultTextFormat=r,this._input.setTextFormat(r)}set align(t){var r=this._input.getTextFormat();r.align=t,this._input.defaultTextFormat=r,this._input.setTextFormat(r)}set restrict(t){this._input.restrict=t}}const ia=class extends st{constructor(e=250,t=24){super(),x(this,"_width"),x(this,"_height"),x(this,"_track"),x(this,"_handle"),x(this,"_value",0),x(this,"_active",!0),x(this,"_isMouseDown",!1),x(this,"enable",()=>{this._handle.addEventListener(B.MOUSE_DOWN,this.onHandleDown),this._handle.buttonMode=!0,this._handle.useHandCursor=!0}),x(this,"onHandleDown",r=>{this._isMouseDown=!0,this.stage.addEventListener(B.MOUSE_UP,this.onStageUp),this.stage.addEventListener(B.MOUSE_MOVE,this.onHandleMouseMove),this._handle.startDrag(!1,new Ht(0,(this._track.height-this._handle.height)/2,this._width-this._handle.width,0))}),x(this,"onStageUp",r=>{this._handle.stopDrag(),this.stage&&(this.stage.removeEventListener(B.MOUSE_UP,this.onStageUp),this.stage.removeEventListener(B.MOUSE_MOVE,this.onHandleMouseMove)),this._isMouseDown=!1}),x(this,"onHandleMouseMove",r=>{var a=this._handle.x,n=this._width-this._handle.width;this._value=a/n,this.dispatchEvent(new ci(ia.SLIDE_CHANGE,this._value))}),x(this,"Draw",()=>{var r=new Pt;r.createGradientBox(this._width,this._height,1.58),this._track.graphics.clear(),this._track.graphics.lineStyle(2,14342874,1,!0,ti.NONE),this._track.graphics.beginGradientFill(ue.LINEAR,[13421772,4605510],[1,1],[0,255],r),this._track.graphics.drawRoundRect(0,0,this._width,this._height,5,5),this._track.graphics.moveTo(10,this._height/2),this._track.graphics.lineTo(this._width-10,this._height/2),this.addChild(this._track);var a=this._height-2,n=new Pt;n.createGradientBox(a,a,1.58),this._handle.graphics.clear(),this._handle.graphics.lineStyle(2,16777215,0,!0,ti.NONE),this._handle.graphics.beginGradientFill(ue.LINEAR,[8388608,4605510],[1,1],[0,255],r),this._handle.graphics.drawRoundRect(0,0,a*2,a,5,5),this._handle.graphics.lineStyle(1,13421772,1,!0,ti.NONE),this._handle.graphics.moveTo(a/2+4,7),this._handle.graphics.lineTo(a/2+4,a-7),this._handle.graphics.moveTo(a,7),this._handle.graphics.lineTo(a,a-7),this._handle.graphics.moveTo(a+a/2-4,7),this._handle.graphics.lineTo(a+a/2-4,a-7),this._handle.y=(this.height-a)/2,this._handle.buttonMode=!0,this.addChild(this._handle)}),this._width=e,this._height=t,this._track=new st,this._handle=new st,this._handle.name="handle",this.Draw(),this.enable()}set value(e){this._value=e,e>1&&(e=1),e<0&&(e=0),this._handle.x=(this._width-this._handle.width)*e,this.dispatchEvent(new ci(ia.SLIDE_CHANGE,this._value))}get value(){return this._value}get isMouseDown(){return this._isMouseDown}set active(e){this._active=e,this._active?(this._handle.addEventListener(B.MOUSE_DOWN,this.onHandleDown),this._handle.visible=!0):(this._handle.removeEventListener(B.MOUSE_DOWN,this.onHandleDown),this._handle.visible=!1)}};let ar=ia;x(ar,"SLIDE_CHANGE","slideChange");const sa=class extends st{constructor(e=150,t=25,r="openDown",a="Select One"){super(),x(this,"_width"),x(this,"_height"),x(this,"_openDir"),x(this,"_prompt"),x(this,"_header"),x(this,"_itemMenu"),x(this,"_msk"),x(this,"_itemContainer"),x(this,"_selectedItemText"),x(this,"_items",[]),x(this,"_scrollbar"),x(this,"_selectedItem"),x(this,"addItem",(n,h="",l=0,p=null)=>{this._items.push(new il(this._height,this._width,n,l,h,p));for(var w=0;w<this._items.length;w++){var E=this._items[w];E.name="item"+w,E.y=E.height*w-w*2,E.addEventListener(B.CLICK,this.OnItemClicked),this._itemContainer.addChild(E)}this._itemContainer.graphics.clear(),this._itemContainer.graphics.beginFill(16777215,1),this._itemContainer.graphics.drawRect(0,0,this._itemContainer.width,this._itemContainer.height);for(var C of this._items)C.updateSize(this._itemContainer.width-1);var O=this._items.length>6?this._height*6-6:this._height*this._items.length-6;this._msk.graphics.clear(),this._msk.graphics.beginFill(16777215,0),this._msk.graphics.drawRect(0,0,this._itemContainer.width+1+this._scrollbar.width,O+(this._openDir==sa.OPEN_DOWN?3:0)),this._scrollbar.x=Math.floor(this._itemContainer.width)+Math.floor(this._scrollbar.width)-1,this._items.length>6&&this._itemMenu.addChild(this._scrollbar)}),x(this,"removeAllItems",()=>{for(var n of this._items)this._itemContainer.removeChild(n),n.destroy();this._items=[],this._itemContainer.graphics.clear(),this._msk.graphics.clear(),this._itemMenu.contains(this._scrollbar)&&this._itemMenu.removeChild(this._scrollbar),this.reset()}),x(this,"OnItemClicked",n=>{var h=n.target;this._selectedItem=h,this._selectedItemText.text=h.title,this.OnRollout(),this.dispatchEvent(new W(W.CHANGE))}),x(this,"OnHeaderClicked",n=>{if(this.contains(this._itemMenu)){this.OnRollout();return}this._itemMenu.y=this._openDir==sa.OPEN_UP?-this._msk.height:this._header.height-2,this.addChild(this._itemMenu),this.addEventListener(B.ROLL_OUT,this.OnRollout),this._scrollbar.addEventListener(ar.SLIDE_CHANGE,this.OnScrollbarChange),this._items.length>6&&this.addEventListener(B.MOUSE_WHEEL,this.OnMouseWheel),this.dispatchEvent(new W(W.OPEN))}),x(this,"OnMouseWheel",n=>{n.delta<0?this._scrollbar.value+Math.abs(n.delta/3*.1)<1?this._scrollbar.value+=Math.abs(n.delta/3*.1):this._scrollbar.value=1:n.delta>0&&(this._scrollbar.value-Math.abs(n.delta/3*.1)>0?this._scrollbar.value-=Math.abs(n.delta/3*.1):this._scrollbar.value=0)}),x(this,"OnScrollbarChange",n=>{var h=this._itemContainer.height-this._msk.height;this._itemContainer.y=-(h*n.data)}),x(this,"OnRollout",(n=null)=>{this._scrollbar.isMouseDown||(this.removeEventListener(B.ROLL_OUT,this.OnRollout),this._scrollbar.removeEventListener(ar.SLIDE_CHANGE,this.OnScrollbarChange),this.stage.removeEventListener(B.MOUSE_WHEEL,this.OnMouseWheel),this.contains(this._itemMenu)&&this.removeChild(this._itemMenu))}),x(this,"Draw",()=>{this._header.graphics.clear();var n=[16777215,10066329],h=[1,1],l=[127,255],p=new Pt;p.createGradientBox(this._width,this._height,90/180*Math.PI),this._header.graphics.lineStyle(1.5,6710886,1,!0,"none"),this._header.graphics.beginGradientFill(ue.LINEAR,n,h,l,p),this._header.graphics.drawRoundRect(0,0,this._width,this._height,6,6),this._header.graphics.moveTo(this._width-20,0),this._header.graphics.lineTo(this._width-20,this._height);var w=this.drawTriangle(0,0,8,4605510);w.x=this.width-w.width,w.y=this._height-w.height,this._header.addChild(w);var E=new Qt("Arial",14,0,!0);this._selectedItemText=new bt,this._selectedItemText.defaultTextFormat=E,this._selectedItemText.multiline=!1,this._selectedItemText.wordWrap=!1,this._selectedItemText.autoSize=ve.LEFT,this._selectedItemText.text=this._prompt,this._selectedItemText.height=this._selectedItemText.textHeight+2,this._selectedItemText.x=2,this._selectedItemText.y=(this.height-this._selectedItemText.height)/2-2;var C=new st;C.graphics.beginFill(16777215,0),C.graphics.drawRect(0,0,this._width-22,this._height),this._selectedItemText.mask=C,this._header.addChild(this._selectedItemText),this._header.addChild(C),this._msk.graphics.clear(),this._msk.graphics.beginFill(16777215,0);var O=this._items.length>6?this._height*6-6:this._height*this._items.length-6;this._msk.graphics.drawRect(0,0,this._width+1+this._scrollbar.width,O),this._itemContainer.mask=this._msk,this._itemMenu.addChild(this._itemContainer),this._itemMenu.addChild(this._msk)}),x(this,"drawTriangle",(n,h,l,p)=>{var w=new th;return w.graphics.beginFill(p),w.graphics.moveTo(l/2,h),w.graphics.lineTo(l,l+h),w.graphics.lineTo(n,l+h),w.graphics.lineTo(l/2,h),w.rotation=180,w}),x(this,"selectedIndex",(n,h=!1)=>{var l=this._items[n];l.selected=!0,this._selectedItem=l,this._selectedItemText.text=l.title,h&&this.dispatchEvent(new W(W.CHANGE))}),x(this,"reset",()=>{this._scrollbar.value=0,this._itemContainer.y=0,this._selectedItemText.text=this._prompt,this._selectedItem=null}),x(this,"selectLastItem",()=>{if(this._items.length>0){var n=this._items[this._items.length-1];n.selected=!0,this._selectedItem=n,this._selectedItemText.text=n.title,this.dispatchEvent(new W(W.CHANGE))}}),x(this,"labelExists",n=>{for(var h=0;h<this._items.length;h++)if(this._items[h].title==n)return h;return-1}),this.name="KCombo",this._width=e,this._height=t,this._openDir=r,this._prompt=a,this._header=new st,this._header.mouseChildren=!1,this._header.buttonMode=!0,this._header.name="header",this.addChild(this._header),this._itemMenu=new st,this._itemMenu.name="_itemMenu",this._msk=new st,this._msk.name="mask",this._itemContainer=new st,this._itemContainer.name="_itemContainer",this._scrollbar=new ar(this._height*6-6,20),this._scrollbar.name="scrollbar",this._scrollbar.rotation=90,this._scrollbar.y=2,this._scrollbar.x=this._width+2,this.Draw(),this._header.addEventListener(B.CLICK,this.OnHeaderClicked)}get getSelectedIndex(){for(var e=0;e<this._items.length;e++)if(this._items[e]==this._selectedItem)return e;return-1}get selectedItem(){return this._selectedItem}get selectedItemParams(){return this._selectedItem.params}};let ra=sa;x(ra,"OPEN_UP","openUP"),x(ra,"OPEN_DOWN","openDown");class il extends st{constructor(t,r,a,n=0,h="",l=null){super(),x(this,"_width"),x(this,"_height"),x(this,"_title"),x(this,"_params"),x(this,"_selected",!1),x(this,"destroy",()=>{this.graphics.clear(),this.removeEventListener(B.ROLL_OUT,this.OnRollout)}),x(this,"OnRollover",E=>{this.graphics.clear(),this.graphics.lineStyle(1,6710886,1,!0,"none"),this.graphics.beginFill(13421772),this.graphics.drawRect(0,0,this._width,this._height),this.addEventListener(B.ROLL_OUT,this.OnRollout)}),x(this,"OnRollout",E=>{this.graphics.clear(),this.graphics.lineStyle(1,6710886,1,!0,"none"),this.graphics.beginFill(16777215),this.graphics.drawRect(0,0,this._width,this._height),this.removeEventListener(B.ROLL_OUT,this.OnRollout)}),x(this,"updateSize",E=>{this._width=E,this.graphics.clear(),this.graphics.lineStyle(1,6710886,1,!0,"none"),this.graphics.beginFill(16777215),this.graphics.drawRect(0,0,E,this._height)}),this._width=r,this._height=t,this._title=a,this._params=l,this.mouseChildren=!1,this.buttonMode=!0,this.graphics.lineStyle(1,6710886,1,!0,"none"),this.graphics.beginFill(16777215),this.graphics.drawRect(0,0,this._width,this._height);var p=new Qt("Arial",14,n,!0),w=new bt;w.defaultTextFormat=p,w.wordWrap=!1,w.multiline=!1,w.autoSize=ve.LEFT,w.text=a,w.x=2,w.y=(this.height-w.height)/2-2,this.addChild(w),this.addEventListener(B.ROLL_OVER,this.OnRollover)}get selected(){return this._selected}set selected(t){this._selected=t}get title(){return this._title}get params(){return this._params}}class sl extends st{constructor(){super(),this.graphics.beginFill(8388608),this.graphics.drawRoundRectComplex(0,13,40,50,5,5,9,9),this.graphics.beginFill(8388608),this.graphics.drawRoundRectComplex(-2,6,44,5,5,5,0,0),this.graphics.drawRect(15,0,10,5),this.graphics.moveTo(8,21),this.graphics.lineStyle(2,16777215,1,!0),this.graphics.lineTo(8,55),this.graphics.moveTo(20,21),this.graphics.lineTo(20,55),this.graphics.moveTo(32,21),this.graphics.lineTo(32,55),this.graphics.endFill()}}const ch=class extends st{constructor(e,t=16,r=null,a=null,n=!1){super(),x(this,"_title"),x(this,"_params"),x(this,"_active"),x(this,"_selected",!1),x(this,"_titleTxt"),x(this,"_deleteBtn"),x(this,"_width",100),x(this,"_icon"),x(this,"_msk"),x(this,"OnDelete",h=>{h.stopPropagation(),this.dispatchEvent(new W(ch.DELETE_ITEM))}),x(this,"OnRollover",h=>{this.addEventListener(B.ROLL_OUT,this.OnRollout),this._selected||(this.graphics.clear(),this.graphics.lineStyle(1,6710886,1,!0,"none"),this.graphics.beginFill(14871285),this.graphics.drawRect(0,0,this._width,this.height)),this._deleteBtn&&(this._deleteBtn.visible=!0)}),x(this,"OnRollout",(h=null)=>{this.removeEventListener(B.ROLL_OUT,this.OnRollout),this._selected||(this.graphics.clear(),this.graphics.lineStyle(1,16777215,1,!0,"none"),this.graphics.beginFill(16777215),this.graphics.drawRect(0,0,this._width,this.height)),this._deleteBtn&&(this._deleteBtn.visible=!1)}),x(this,"setIcon",h=>{this._icon&&this.contains(this._icon)&&this.removeChild(this._icon),this._icon=h,this._icon.x=(40-this._icon.width)/2,this._icon.y=(this.height-this._icon.height)/2,this.addChild(this._icon)}),this._title=e,this._params=r,this._icon=a,this._active=!0,this.buttonMode=!0,this._titleTxt=new li(e,3223857,t),this._titleTxt.x=this._icon?50:10,this._titleTxt.mouseEnabled=!1,this.graphics.beginFill(16777215),this.graphics.drawRect(0,0,this._width,Math.ceil(this._titleTxt.textHeight)+5),this.graphics.endFill(),this._msk=new st,this._msk.graphics.beginFill(0),this._msk.graphics.drawRect(0,0,this._width,Math.ceil(this._titleTxt.textHeight)+5),this.addChild(this._msk),this.mask=this._msk,this._icon&&(this._icon.x=(40-this._icon.width)/2,this._icon.y=(this.height-this._icon.height)/2,this.addChild(this._icon)),this._titleTxt.y=(this.height-Math.ceil(this._titleTxt.textHeight))/2-2,this.addChild(this._titleTxt),n&&(this._deleteBtn=new sl,this._deleteBtn.height=this.height-2,this._deleteBtn.scaleX=this._deleteBtn.scaleY,this._deleteBtn.x=Math.round(this._width-this._deleteBtn.width-10),this._deleteBtn.y=Math.round((this.height-this._deleteBtn.height)/2),this._deleteBtn.addEventListener(B.CLICK,this.OnDelete),this._deleteBtn.visible=!1,this.addChild(this._deleteBtn)),this.addEventListener(B.ROLL_OVER,this.OnRollover)}set updateWidth(e){this._width=e,this.graphics.beginFill(16777215),this.graphics.drawRect(0,0,this._width,Math.ceil(this._titleTxt.textHeight)+5),this.graphics.endFill(),this._msk.graphics.clear(),this._msk.graphics.beginFill(0),this._msk.graphics.drawRect(0,0,this._width,Math.ceil(this._titleTxt.textHeight)+5),this._titleTxt.y=(this.height-Math.ceil(this._titleTxt.textHeight))/2-2,this._deleteBtn&&(this._deleteBtn.x=Math.round(this._width-this._deleteBtn.width-10),this._deleteBtn.y=Math.round((this.height-this._deleteBtn.height)/2))}get title(){return this._title}set title(e){this._title=e,this._titleTxt.text=this._title}get params(){return this._params}get active(){return this._active}set active(e){this._active=e}get selected(){return this._selected}set selected(e){this._selected=e,this._selected?(this.graphics.clear(),this.graphics.lineStyle(1,6710886,1,!0,"none"),this.graphics.beginFill(12899050),this.graphics.drawRect(0,0,this._width,this.height)):this.OnRollout()}};let rl=ch;x(rl,"DELETE_ITEM","deleteItem");const aa=class extends st{constructor(e=250,t=24){super(),x(this,"_width"),x(this,"_height"),x(this,"_track"),x(this,"_handle"),x(this,"_value"),x(this,"_active",!0),x(this,"enable",()=>{this._handle.addEventListener(B.MOUSE_DOWN,this.onHandleDown)}),x(this,"onHandleDown",r=>{this.stage.addEventListener(B.MOUSE_UP,this.onHandleUp),this.stage.addEventListener(B.MOUSE_MOVE,this.onHandleMouseMove),this._handle.startDrag(!1,new Ht(0,Math.floor((this._track.height-this._handle.height)/2),this._width-this._handle.width,0))}),x(this,"onHandleUp",r=>{this.stopDrag(),this.stage.removeEventListener(B.MOUSE_UP,this.onHandleUp),this.stage.removeEventListener(B.MOUSE_MOVE,this.onHandleMouseMove)}),x(this,"onHandleMouseMove",r=>{var a=this._handle.x,n=this._width-this._handle.width;this._value=a/n,this.dispatchEvent(new ci(aa.SLIDE_CHANGE,this._value))}),x(this,"Draw",()=>{var r=new Pt;r.createGradientBox(this._width,this._height,1.58),this._track.graphics.clear(),this._track.graphics.lineStyle(2,13421772,1,!0,ti.NONE),this._track.graphics.beginGradientFill(ue.LINEAR,[13421772,4605510],[1,1],[0,255],r),this._track.graphics.drawRoundRect(0,0,this._width,this._height,5,5),this._track.graphics.moveTo(10,this._height/2),this._track.graphics.lineTo(this._width-10,this._height/2),this.addChild(this._track);var a=this._height+5,n=new Pt;n.createGradientBox(a,a,1.58),this._handle.graphics.clear(),this._handle.graphics.lineStyle(2,13421772,1,!0,ti.NONE),this._handle.graphics.beginGradientFill(ue.LINEAR,[8388608,4605510],[1,1],[0,255],r),this._handle.graphics.drawRoundRect(0,0,a,a,5,5),this._handle.graphics.lineStyle(1,13421772,1,!0,ti.NONE),this._handle.graphics.moveTo(a/2,7),this._handle.graphics.lineTo(a/2,a-7),this._handle.y=Math.floor((this.height-a)/2),this._handle.buttonMode=!0,this.addChild(this._handle)}),this._width=e,this._height=t,this._track=new st,this._handle=new st,this.Draw(),this.enable()}set value(e){this._value=e,e>1&&(this._value=1),e<0&&(this._value=0),this._handle.x=(this._width-this._handle.width)*this._value,this.dispatchEvent(new ci(aa.SLIDE_CHANGE,this._value))}get value(){return this._value}set active(e){this._active=e,this._active?(this._handle.addEventListener(B.MOUSE_DOWN,this.onHandleDown),this.alpha=1):(this._handle.removeEventListener(B.MOUSE_DOWN,this.onHandleDown),this.stage.removeEventListener(B.MOUSE_UP,this.onHandleUp),this.stage.removeEventListener(B.MOUSE_MOVE,this.onHandleMouseMove),this.stopDrag(),this.alpha=.35)}};let dh=aa;x(dh,"SLIDE_CHANGE","slideChange");class fh extends Ca{constructor(t,r,a=1,n=0,h=16777215,l=4605510,p=13421772){super(t,r,h,l,p),x(this,"_lastX",0),x(this,"_increment"),x(this,"_decimals"),x(this,"_mainStage"),x(this,"onAddedToStage",w=>{this._mainStage=this.stage,this.removeEventListener(W.ADDED_TO_STAGE,this.onAddedToStage),this.textfield.addEventListener(xe.FOCUS_IN,this.onFocusIn)}),x(this,"onFocusIn",w=>{this.textfield.addEventListener(De.KEY_UP,this.onKeyUp),this._mainStage.addEventListener(xe.FOCUS_OUT,this.onFocusOut)}),x(this,"onFocusOut",w=>{this._mainStage.removeEventListener(De.KEY_UP,this.onKeyUp),this.textfield.removeEventListener(xe.FOCUS_OUT,this.onFocusOut),this.dispatchEvent(new W(W.CHANGE))}),x(this,"onKeyUp",w=>{this._mainStage&&this._mainStage.focus==this.textfield&&w.keyCode==b.ENTER&&this.dispatchEvent(new W(W.CHANGE))}),x(this,"OnMouseDown",w=>{super.OnMouseDown(w),this.textfield.setSelection(0,this.text.length),this._lastX=this.stage.mouseX,this._mainStage.addEventListener(B.MOUSE_MOVE,this.OnMouseMove),this._mainStage.addEventListener(B.MOUSE_UP,this.OnMouseUp)}),x(this,"OnMouseUp",w=>{this._mainStage.removeEventListener(B.MOUSE_MOVE,this.OnMouseMove),this._mainStage.removeEventListener(B.MOUSE_UP,this.OnMouseUp)}),x(this,"OnMouseMove",w=>{this.stage.mouseX>this._lastX?this.text=Number(Number(this.text)+this._increment).toFixed(this._decimals):this.stage.mouseX<this._lastX&&(this.text=Number(Number(this.text)-this._increment).toFixed(this._decimals)),this.textfield.setSelection(0,this.text.length),this._lastX=this.stage.mouseX,this.dispatchEvent(new W(W.CHANGE))}),this._increment=a,this._decimals=n,this.align=Ai.CENTER,this.underline=!0,this.fontSize=12,this.text="0",this.addEventListener(W.ADDED_TO_STAGE,this.onAddedToStage)}set value(t){this.text=t.toFixed(this._decimals)}get value(){return Number(this.text)}}const Ms=class extends st{constructor(e=1,t=!0,r="right",a=!1){super(),x(this,"_mainStage"),x(this,"_topHandle"),x(this,"_bottomHandle"),x(this,"_topTri"),x(this,"_bottomTri"),x(this,"_currentDown"),x(this,"_inputText"),x(this,"_showInput"),x(this,"_labelSide"),x(this,"_useStepper"),x(this,"_stepValue"),x(this,"_value",0),x(this,"_isIncrement",!1),x(this,"onAddedToStage",n=>{this.removeEventListener(W.ADDED_TO_STAGE,this.onAddedToStage),this.addEventListener(W.REMOVED_FROM_STAGE,this.onRemovedFromStage),this._mainStage=this.stage,this.enable()}),x(this,"onRemovedFromStage",n=>{this.removeEventListener(W.REMOVED_FROM_STAGE,this.onRemovedFromStage),this.disable(),this._mainStage=null}),x(this,"Draw",()=>{var n=[16777215,10066329],h=[1,1],l=[127,255],p=new Pt;if(p.createGradientBox(35,17,90/180*Math.PI),this._topHandle=new st,this._topHandle.graphics.lineStyle(1,6710886,1,!0,"none"),this._topHandle.graphics.beginGradientFill(ue.LINEAR,n,h,l,p),this._topHandle.graphics.drawRoundRect(0,0,35,14,5,5),this._topHandle.mouseChildren=!1,this._topHandle.buttonMode=!0,this._topHandle.name="top",this._bottomHandle=new st,this._bottomHandle.graphics.lineStyle(1,6710886,1,!0,"none"),this._bottomHandle.graphics.beginGradientFill(ue.LINEAR,n,h,l,p),this._bottomHandle.graphics.drawRoundRect(0,0,35,14,5,5),this._bottomHandle.y=this._topHandle.height,this._bottomHandle.mouseChildren=!1,this._bottomHandle.buttonMode=!0,this._bottomHandle.name="bottom",this._topTri=new st,this._topTri.graphics.lineStyle(1.25,13421772,1,!0,"none"),this._topTri.graphics.beginFill(0,.5),this._topTri.graphics.moveTo(0,-3),this._topTri.graphics.lineTo(5,4),this._topTri.graphics.lineTo(-5,4),this._topTri.graphics.lineTo(0,-3),this._topTri.graphics.endFill(),this._topTri.x=this._topHandle.width/2,this._topTri.y=this._topHandle.height/2,this._topHandle.addChild(this._topTri),this._bottomTri=new st,this._bottomTri.graphics.lineStyle(1.25,13421772,1,!0,"none"),this._bottomTri.graphics.beginFill(0,.5),this._bottomTri.graphics.moveTo(0,-3),this._bottomTri.graphics.lineTo(5,4),this._bottomTri.graphics.lineTo(-5,4),this._bottomTri.graphics.lineTo(0,-3),this._bottomTri.graphics.endFill(),this._bottomTri.x=this._bottomHandle.width/2,this._bottomTri.y=this._bottomHandle.height/2,this._bottomTri.rotation=180,this._bottomHandle.addChild(this._bottomTri),this.addChild(this._topHandle),this.addChild(this._bottomHandle),this._showInput){switch(this._inputText=this._useStepper?new fh(this.width,this.height):new Ca(this.width,this.height),this._inputText.align=Ai.CENTER,this._inputText.text="0",this._labelSide){case Ms.LEFT:this._topHandle.x=this._inputText.width,this._bottomHandle.x=this._inputText.width;break;case Ms.RIGHT:this._inputText.x=this.width;break;case Ms.TOP:this._topHandle.y=this._inputText.height,this._bottomHandle.y=this._topHandle.y+this._topHandle.height;case Ms.BOTTOM:this._inputText.y=this.height;break}this._inputText.addEventListener(W.CHANGE,this.inputChanged),this.addChild(this._inputText)}}),x(this,"enable",()=>{this._inputText&&this._inputText.addEventListener(W.CHANGE,this.inputChanged),this._topHandle.addEventListener(B.MOUSE_DOWN,this.onMouseDown),this._bottomHandle.addEventListener(B.MOUSE_DOWN,this.onMouseDown),this._mainStage.addEventListener(B.MOUSE_UP,this.onMouseUp)}),x(this,"disable",()=>{this._inputText&&this._inputText.removeEventListener(W.CHANGE,this.inputChanged),this._topHandle.removeEventListener(B.MOUSE_DOWN,this.onMouseDown),this._bottomHandle.removeEventListener(B.MOUSE_DOWN,this.onMouseDown),this._mainStage.removeEventListener(B.MOUSE_UP,this.onMouseUp)}),x(this,"onMouseDown",n=>{this._currentDown=n.currentTarget;var h=n.currentTarget.width,l=n.currentTarget.height;n.currentTarget.scaleX=n.currentTarget.scaleY=.95;var p=h-n.currentTarget.width,w=l-n.currentTarget.height;n.currentTarget.x+=p/2,n.currentTarget.y+=w/4,this._currentDown.name=="top"?(this._isIncrement=!0,this._value+=this._stepValue,this._inputText&&(this._inputText.text=this._value.toString())):(this._isIncrement=!1,this._value-=this._stepValue,this._inputText&&(this._inputText.text=this._value.toString())),this.dispatchEvent(new ci(W.CHANGE,this._value))}),x(this,"onMouseUp",n=>{if(this._currentDown){var h=this._currentDown.width,l=this._currentDown.height;this._currentDown.scaleX=this._currentDown.scaleY=1;var p=h-this._currentDown.width,w=l-this._currentDown.height;this._currentDown.x+=p/2,this._currentDown.y+=w/4}}),x(this,"inputChanged",n=>{this._value=parseFloat(this._inputText.text),this.dispatchEvent(new ci(W.CHANGE,this._value))}),this._stepValue=e,this._showInput=t,this._labelSide=r,this._useStepper=a,this.Draw(),this.addEventListener(W.ADDED_TO_STAGE,this.onAddedToStage)}get value(){return this._value}set value(e){this._value=e,this._inputText&&(this._inputText.text=this._value.toString())}get isIncrement(){return this._isIncrement}};let xs=Ms;x(xs,"RIGHT","right"),x(xs,"LEFT","left"),x(xs,"TOP","top"),x(xs,"BOTTOM","bottom");const ph=class extends st{constructor(){super(),x(this,"_items",[]),x(this,"HandleAddedToStage",e=>{this.removeEventListener(W.ADDED_TO_STAGE,this.HandleAddedToStage),Et.tree=this,this.addEventListener("TreeUpdate",this.UpdateItems),this.stage.addEventListener(De.KEY_UP,this.HandleKeyboard)}),x(this,"HandleKeyboard",e=>{e.keyCode==b.DELETE&&Et.selected&&(this.dispatchEvent(new ci(ph.TREE_ITEM_DELETED,Et.selected.info)),Et.selected.dispose())}),x(this,"addItem",(e,t="root",r=null)=>{var a=new Oa(e,r);return a.stored=this._items,this._items.push(a),this.UpdateItems(),a}),x(this,"UpdateItems",(e=null)=>{var t=0;for(var r of this._items)r!=Et.selected&&(r.selected=!1),r.y=t,r.x=0,t+=r.height+2,this.addChild(r)}),this.addEventListener(W.ADDED_TO_STAGE,this.HandleAddedToStage)}get items(){return this._items}get selectedItem(){return Et.selected}};let An=ph;x(An,"TREE_ITEM_DELETED","treeItemDeleted"),x(An,"TREE_ITEM_CLICKED","treeItemClicked");class Oa extends st{constructor(t,r){super(),x(this,"_selected",!1),x(this,"_itemHeight"),x(this,"_startingHeight"),x(this,"_dragInterval"),x(this,"_collapse",!1),x(this,"_info"),x(this,"_plus"),x(this,"_minus"),x(this,"_label"),x(this,"_items",[]),x(this,"stored"),x(this,"_highlight"),x(this,"_dragItem"),x(this,"_copy"),x(this,"_bar"),x(this,"_barPos","none"),x(this,"_mainStage"),x(this,"addItem",(a,n=null)=>{var h=new Oa(a,n);return h.stored=this._items,this._items.push(h),this.UpdateItems(),h}),x(this,"UpdateItems",(a=null)=>{var n=this._startingHeight;for(var h of this._items)h!=Et.selected&&(h.selected=!1),h.y=n,h.x=20,n+=h.height+2,!this._collapse&&h!=this&&this.addChild(h)}),x(this,"Draw",()=>{this._label=new li(this.name,16777215,14),this._plus=new st,this._plus.graphics.lineStyle(1,4605510,1,!0,"none"),this._plus.graphics.beginFill(50688);var a=this._label.height/2-4;this._plus.graphics.drawCircle(a,a,a),this._plus.graphics.lineStyle(2,0,1,!0,"none"),this._plus.graphics.moveTo(a,4),this._plus.graphics.lineTo(a,a*2-4),this._plus.graphics.moveTo(4,a),this._plus.graphics.lineTo(a*2-4,a),this._minus=new st,this._minus.graphics.lineStyle(2,4605510,1,!0,"none"),this._minus.graphics.beginFill(50688),this._minus.graphics.drawCircle(a,a,a),this._minus.graphics.moveTo(4,a),this._minus.graphics.lineStyle(2,0,1,!0,"none"),this._minus.graphics.lineTo(a*2-4,a),this.addChild(this._minus),this._label.selectable=!1,this._label.x=this._plus.width+2,this._label.y=-4,this.addChild(this._label),this._highlight=new st,this._highlight.graphics.beginFill(0),this._highlight.graphics.drawRect(0,0,this.width+6,this.height),this._highlight.x=this._highlight.y=-4,this._highlight.alpha=.3,this._highlight.visible=!1,this.addChildAt(this._highlight,0),this._bar=new st,this._bar.graphics.lineStyle(3,16777215,1,!0,"none"),this._bar.graphics.lineTo(this.width,0),this._bar.x=-4,this._startingHeight=this.height,this._label.doubleClickEnabled=!0,this._label.addEventListener(B.DOUBLE_CLICK,this.HandleClicked),this.addEventListener(B.MOUSE_OVER,this.HandleMouseOver),this.addEventListener(B.MOUSE_DOWN,this.HandleMouseDown),this._plus.buttonMode=!0,this._plus.addEventListener(B.CLICK,this.HandleClicked),this._minus.buttonMode=!0,this._minus.addEventListener(B.CLICK,this.HandleClicked)}),x(this,"HandleMouseDown",a=>{a.stopPropagation(),this._dragInterval=Po(this.startItemDrag,500),this.selected=!0,Et.selected&&Et.selected!=this&&(Et.selected.selected=!1),Et.selected=this,this._mainStage=this.stage,this._mainStage.addEventListener(B.MOUSE_UP,this.HandleMouseUp),Et.tree.dispatchEvent(new W("treeItemClicked",!0))}),x(this,"startItemDrag",()=>{this._highlight.visible=!1;var a=new Os(this.width,this.height,!0,16777215);a.draw(this),this._copy=new ui(a),this._copy.x=-(this.width/2),this._copy.y=-(this.height/2)+4,this._dragItem=new st,this._dragItem.addChild(this._copy),this._dragItem.mouseEnabled=!1,this.stage.addChild(this._dragItem),this._dragItem.startDrag(!0),this._highlight.visible=!0,Et.dragItem=this,this._mainStage=this.stage,this._mainStage.addEventListener(B.MOUSE_MOVE,this.HandleMouseMove)}),x(this,"HandleMouseMove",a=>{Et.overItem&&(Et.overItem.mouseY<0?Et.overItem.showBar(!0):Et.overItem.mouseY>Et.overItem.startingHeight-8?Et.overItem.showBar(!1):Et.overItem.hideBar())}),x(this,"HandleMouseUp",a=>{if(this._mainStage&&this._mainStage.removeEventListener(B.MOUSE_MOVE,this.HandleMouseMove),this._bar.parent&&this._bar.parent.removeChild(this._bar),a.currentTarget instanceof Ze)clearTimeout(this._dragInterval),this.stopDrag(),this._dragItem&&this.stage&&this.stage.contains(this._dragItem)&&this.stage.removeChild(this._dragItem),this._copy&&(this._copy.bitmapData.dispose(),this._copy=null),this._dragItem&&(this._dragItem=null),Et.dragItem=null;else if(Et.dragItem){var n=Et.dragItem.stored.indexOf(Et.dragItem);if(n!=-1&&Et.dragItem.stored.splice(n,1),this._items.indexOf(Et.dragItem)==-1)if(this._barPos=="top"){var h=this.parent.items,l=h.indexOf(this);h.splice(l,0,Et.dragItem),Et.dragItem.stored=h}else this._barPos=="bottom"?(h=this.parent.items,l=h.indexOf(this),h.splice(l+1,0,Et.dragItem),Et.dragItem.stored=h):(this._items.splice(0,0,Et.dragItem),Et.dragItem.stored=this._items);Et.dragItem=null,this.dispatchEvent(new W("TreeUpdate",!0)),this.dispatchEvent(new W("TreeUpdate",!0))}}),x(this,"HandleClicked",a=>{if(this._collapse=!this._collapse,this._collapse){this.removeChild(this._minus),this.addChild(this._plus);for(var n of this._items)this.removeChild(n)}else this.UpdateItems(),this.addChild(this._minus),this.removeChild(this._plus);this.dispatchEvent(new W("TreeUpdate",!0))}),x(this,"HandleMouseOver",a=>{this.addEventListener(B.MOUSE_OUT,this.HandleMouseOut),a.stopPropagation(),this._highlight.visible=!0,Et.overItem=this}),x(this,"HandleMouseOut",a=>{this.removeEventListener(B.MOUSE_OUT,this.HandleMouseOut),this._selected||(this._highlight.visible=!1),Et.overItem==this&&(Et.overItem=null),this.hideBar()}),x(this,"showBar",(a=!0)=>{this._bar.y=a?-8:this._startingHeight,this._barPos=a?"top":"bottom",this.addChild(this._bar)}),x(this,"hideBar",()=>{this.contains(this._bar)&&this.removeChild(this._bar),this._barPos="none"}),x(this,"dispose",()=>{Et.selected=null,this._selected=!1;var a=this.stored.indexOf(this);a!=-1&&this.stored.splice(a,1),this.parent.removeChild(this),this.dispatchEvent(new W("TreeUpdate",!0)),this.removeEventListener(B.MOUSE_OVER,this.HandleMouseOver),this.removeEventListener(B.MOUSE_DOWN,this.HandleMouseDown),this.removeEventListener(B.MOUSE_OUT,this.HandleMouseOut),this._plus.removeEventListener(B.CLICK,this.HandleClicked),this._minus.removeEventListener(B.CLICK,this.HandleClicked),this._mainStage&&this._mainStage.removeEventListener(B.MOUSE_UP,this.HandleMouseUp),this._highlight=null,this._plus=null,this._minus=null,this._label=null;for(var n of this._items)n.dispose();this._info=null,this.stored=null,this._dragItem=null,this._copy&&(this._copy.bitmapData.dispose(),this._copy=null),Et.tree.dispatchEvent(new W("TreeUpdate",!0))}),this.name=t,this._info=r,this.Draw(),this.addEventListener("TreeUpdate",this.UpdateItems),this.addEventListener(B.MOUSE_UP,this.HandleMouseUp)}get info(){return this._info}get items(){return this._items}get selected(){return this._selected}set selected(t){this._selected=t,this._highlight.alpha=this._selected?1:.3,this._highlight.visible=this._selected}get startingHeight(){return this._startingHeight}get bar(){return this._bar}}class Et{}x(Et,"dragItem"),x(Et,"selected"),x(Et,"overItem"),x(Et,"tree");class Cn{}x(Cn,"cropImage",(e,t)=>{var r=new Os(e.width,e.height,!0,16777215),a=new Pt(1,0,0,1,-e.x+t.x,-e.y+t.y);r.draw(t,a,null,null,new Ht(0,0,e.width,e.height),!0);var n=new ui(r,"auto",!0);return n}),x(Cn,"redrawScaledImage",e=>{var t=new Os(e.width,e.height,!0,16777215),r=new Pt;return r.scale(e.scaleX,e.scaleY),t.draw(e instanceof ui?e.bitmapData:e,r,null,null,null,!0),new ui(t,"auto",!0)});const As=class{};let ws=As;x(ws,"disable",!1),x(ws,"info",e=>{As.output("INFO:",e)}),x(ws,"warning",e=>{As.output("WARNING:",e)}),x(ws,"error",e=>{As.output("ERROR:",e)}),x(ws,"output",(e,t)=>{if(!As.disable)switch(e){case"INFO":console.log(t);break;case"ERROR":console.error(t);break;case"WARNING":console.warn(t);break}});class al extends st{constructor(){super();it(this,"handleAlert",r=>{var a=new tl("Hello, this is an Alert!",250);a.okBTN.addEventListener(B.CLICK,this.alertClicked),a.cancelBTN.addEventListener(B.CLICK,this.alertClicked),this.addChild(a)});it(this,"alertClicked",r=>{this.removeChild(r.currentTarget.parent)});it(this,"xFormat",r=>{var a=new Date(r).toDateString();return a});let r=Math.PI/180*45,a=new Pt;a.createGradientBox(500,500,r),this.graphics.lineStyle(3,41945),this.graphics.beginGradientFill("linear",[4605510,16777215],[.3,.43],[0,255],a),this.graphics.drawRoundRect(0,0,500,500,15,15);var n=new Zo(450,300,"Day","Stock Quantity",this.xFormat);n.name="chart";for(var h=[],l=0;l<25;l++){var p=new Date().getTime()+l*432e5,w=new Jo(p,Math.floor(Math.random()*l*10)/10);h.push(w)}n.setData(h),n.x=25,n.y=105,this.addChild(n);var E=new dh(150);E.x=195,E.y=20,this.addChild(E);var C=new fh(24,24);C.x=E.x+E.width+20,C.y=20,this.addChild(C);var O=new xs;O.x=C.x+C.width+20,O.y=20,this.addChild(O);var N=new el;N.x=25,N.y=60,N.checked=!0,this.addChild(N);var V=new lr("BUTTON");V.x=N.x+N.width+20,V.y=N.y,this.addChild(V);var X=new lr("ALERT");X.x=V.x+V.width+20,X.y=V.y,X.addEventListener(B.CLICK,this.handleAlert),this.addChild(X);var J=new Ca(120,26);J.text="This is a TextInput",J.y=X.y,J.x=X.x+X.width+20,this.addChild(J);for(var tt=new ra,nt=0;nt<50;nt++)tt.addItem("item "+nt);tt.x=25,tt.y=20,this.addChild(tt)}}class nl extends st{constructor(){D.autoSize=!0;super();it(this,"menu");it(this,"primitives");it(this,"filtered");it(this,"text");it(this,"masks");it(this,"events");it(this,"tweens");it(this,"threed");it(this,"gatesOfHell");it(this,"components");it(this,"menuItems",[]);it(this,"currMenuItem");it(this,"onAssetsLoaded",r=>{let a=new Do;this.addChild(a);let n=new Io;n.y=this.stage.stageHeight,this.addChild(n),this.gatesOfHell=new Vo,this.gatesOfHell.x=(this.stage.stageWidth-500)/2-25,this.gatesOfHell.y=800,this.addChild(this.gatesOfHell),this.primitives=new No,this.primitives.x=(this.stage.stageWidth-this.primitives.width)/2,this.primitives.y=250,this.menuItems.push(this.primitives),this.filtered=new Lo,this.filtered.x=(this.stage.stageWidth-this.filtered.width)/2,this.filtered.y=250,this.menuItems.push(this.filtered),this.text=new Bo,this.text.x=(this.stage.stageWidth-this.text.width)/2,this.text.y=250,this.menuItems.push(this.text),this.masks=new Uo,this.masks.x=(this.stage.stageWidth-this.masks.width)/2,this.masks.y=250,this.menuItems.push(this.masks),this.events=new Ho,this.events.x=(this.stage.stageWidth-this.events.width)/2,this.events.y=250,this.menuItems.push(this.events),this.tweens=new Go,this.tweens.x=(this.stage.stageWidth-this.tweens.width)/2,this.tweens.y=250,this.menuItems.push(this.tweens),this.components=new al,this.components.x=(this.stage.stageWidth-this.tweens.width)/2,this.components.y=250,this.menuItems.push(this.components),this.menu=new ko,this.menu.x=(this.stage.stageWidth-this.menu.getBounds(this.menu).width)/2,this.menu.y=125,this.menu.addEventListener(Yi.MENU_CLICKED,this.handleMenuClicked),this.addChild(this.menu),this.showMenuItem(0),this.stage.addEventListener(W.RESIZE,this.onResize)});it(this,"handleMenuClicked",r=>{switch(r.title){case"Primitives":this.showMenuItem(0);break;case"Filters":this.showMenuItem(1);break;case"Text":this.showMenuItem(2);break;case"Masks":this.showMenuItem(3);break;case"Events":this.showMenuItem(4);break;case"Animation":this.showMenuItem(5);break;case"Components":this.showMenuItem(6);break;case"3D":this.showMenuItem(7);break;default:this.showMenuItem(0);break}});it(this,"showMenuItem",r=>{this.currMenuItem&&this.removeChild(this.currMenuItem),this.currMenuItem=this.menuItems[r],this.currMenuItem.alpha=0,this.addChild(this.currMenuItem),G.addTween(this.currMenuItem,{time:2,alpha:1})});it(this,"onResize",r=>{this.menu.x=(this.stage.stageWidth-this.menu.getBounds(this.menu).width)/2,this.primitives.x=(this.stage.stageWidth-this.primitives.width)/2,this.filtered.x=(this.stage.stageWidth-this.filtered.width)/2,this.text.x=(this.stage.stageWidth-this.text.width)/2,this.masks.x=(this.stage.stageWidth-this.masks.width)/2,this.events.x=(this.stage.stageWidth-this.events.width)/2,this.tweens.x=(this.stage.stageWidth-this.tweens.width)/2,this.components.x=(this.stage.stageWidth-this.tweens.width)/2,this.gatesOfHell.x=(this.stage.stageWidth-500)/2-25});this.stage.align=ei.TOP_LEFT,this.stage.scaleMode=Si.NO_SCALE,this.stage.opaqueBackground=3355443,this.stage.canvas.style.background="linear-gradient(90turn, #000000, #CCCCCC)";let r=["assets/fonts/Arial.ttf","assets/ForkMeGithub.webp","assets/FlashPortMan-Med.png"],a=new yo(r);a.addEventListener(W.COMPLETE,this.onAssetsLoaded),a.load()}}zo({locateFile:e=>"assets/"+e}).then(e=>{D.canvasKit=e,new nl});
